/*! For license information please see main.b7e4e295.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},312:function(e){var t=.1,n="function"===typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function a(e){return 3*e}function o(e,t,n){return((r(t,n)*e+i(t,n))*e+a(t))*e}function u(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+a(t)}function s(e){return e}e.exports=function(e,r,i,a){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&i===a)return s;for(var c=n?new Float32Array(11):new Array(11),l=0;l<11;++l)c[l]=o(l*t,e,i);function f(n){for(var r=0,a=1;10!==a&&c[a]<=n;++a)r+=t;--a;var s=r+(n-c[a])/(c[a+1]-c[a])*t,l=u(s,e,i);return l>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var a=u(t,n,r);if(0===a)return t;t-=(o(t,n,r)-e)/a}return t}(n,s,e,i):0===l?s:function(e,t,n,r,i){var a,u,s=0;do{(a=o(u=t+(n-t)/2,r,i)-e)>0?n=u:t=u}while(Math.abs(a)>1e-7&&++s<10);return u}(n,r,r+t,e,i)}return function(e){return 0===e?0:1===e?1:o(f(e),r,a)}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,I=60107,E=60108,T=60114,S=60109,C=60110,A=60112,N=60113,O=60120,R=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;_=V("react.element"),x=V("react.portal"),I=V("react.fragment"),E=V("react.strict_mode"),T=V("react.profiler"),S=V("react.provider"),C=V("react.context"),A=V("react.forward_ref"),N=V("react.suspense"),O=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,Ue=!1;function Ve(){null===Ce&&null===Ae||(Le(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Ye={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,He=null,qe.apply(Ye,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},Tt={};function St(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Ot=St("transitionend"),Rt=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?jt(10,t):e;case 10:return 0===(e=Bt(192&~t))?jt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Qt=!0;function Xt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ve()}}function $t(e,t,n,r){Yt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Vn=f&&"TextEvent"in window&&!Un,jn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Xn=null;function $n(e){Ar(e,0)}function Jn(e){if($(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Xn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Yn(t,Xn,e,Te(e)),e=$n,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Pt.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,Ve()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&Vr(o,u,s,l,!1),null!==c&&null!==f&&Vr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var $r=Math.random().toString(36).slice(2),Jr="__reactFiber$"+$r,Zr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ii=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},Vi=null,ji=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Wi(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ei(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Yi(){if(null!==ji){var e=ji;ji=null,Si(e)}Qi()}function Qi(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ti(Ri,Yi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ys(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=$s(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=Ys(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Ys(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Sa=Ea(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Ra(Oa.current);var t=Ra(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,ja=null,Ba=!1;function za(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Yr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);za(Va,n)}Va=e,ja=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Ka(e){if(e!==Va)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)za(e,t),t=Yr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Va?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Va=null,Ba=!1}var Ya=[];function Qa(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Xa=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:$i(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Yo,Qo,Xo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=Ys(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Ys(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Yo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&zu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,$u=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Iu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Ru=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,Vu=null,ju=0,Bu=0,zu=0,qu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=qi()+500}var Yu,Qu=null,Xu=!1,$u=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=ju),0!==Xi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ru)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(zu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ms(e,n),0===Ru&&(Gu(),Yi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],ji=Ti(Ri,Qi)):Vi.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Ts();for(Pu===e&&Lu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Es(e,s)}if(na(),Nu.current=a,Ru=i,null!==Du?r=0:(Pu=null,Lu=0,r=Uu),0!==(ju&zu))Is(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Ss(e,n))),1===r)throw t=Vu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(ju&zu)&&(n=Ss(e,t=Ut(e,t)))}else n=Ss(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Ss(e,t))),1===n)throw n=Vu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ms(e,qi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Yi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Yi())}}function _s(e,t){fi(Fu,Mu),Mu|=t,ju|=t}function xs(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=ju=t,Uu=0,Vu=null,qu=zu=Bu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Xa.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,Vu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ju||!Ju.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(x){t=x,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Nu.current;return Nu.current=Ro,null===e?Ro:e}function Ss(e,t){var n=Ru;Ru|=16;var r=Ts();for(Pu===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Ru=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Yu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Rs(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Ou.current=null,Br=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Qu),Qu.flags&=-3;break;case 6:_u(Qu),Qu.flags&=-3,Tu(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Tu(Qu.alternate,Qu);break;case 4:Tu(Qu.alternate,Qu);break;case 8:Eu(u,s=Qu);var _=s.alternate;bu(s),null!==_&&bu(_)}Qu=Qu.nextEffect}}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);if(w=zr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,zr=Br=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var x=Qu.flags;if(36&x&&yu(k,Qu.alternate,Qu),128&x){b=void 0;var I=Qu.ref;if(null!==I){var E=Qu.stateNode;Qu.tag,b=E,"function"===typeof I?I(b):I.current=b}}Qu=Qu.nextEffect}}catch(T){if(null===Qu)throw Error(o(330));js(Qu,T),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Ui(),Ru=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((x=Qu).sibling=null,x.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(ms(e,qi()),Xu)throw Xu=!1,e=$u,$u=null,e;return 0!==(8&Ru)||Yi(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Qu=Qu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Yi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>qi()-Hu?Is(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=ju),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Ys(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case T:return(e=Ws(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ws(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return Qs(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case A:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ys(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Yu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Yr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),jo(e,t,i,a=$i(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Gu(),Yi())}},Le=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Yi()}(),Ls())},Me=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Yi())}};var sc={Events:[ri,ii,ai,Oe,Re,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ru=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(_,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,A=null,N=3,O=!1,R=!1,P=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)I(S);else{if(!(t.startTime<=e))break;I(S),t.sortIndex=t.expirationTime,_(T,t)}t=x(S)}}function L(e){if(P=!1,D(e),!R)if(null!==x(T))R=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),O=!0;var a=N;try{for(D(n),A=x(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===x(T)&&I(T),D(n)}else I(T);A=x(T)}if(null!==A)var s=!0;else{var c=x(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(S,e),null===x(T)&&e===x(S)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,_(T,e),R||O||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return _i},SDK_VERSION:function(){return ba},_DEFAULT_ENTRY_NAME:function(){return ua},_addComponent:function(){return fa},_addOrOverwriteComponent:function(){return ha},_apps:function(){return ca},_clearComponents:function(){return ma},_components:function(){return la},_getProvider:function(){return pa},_registerComponent:function(){return da},_removeServiceInstance:function(){return va},deleteApp:function(){return Ia},getApp:function(){return _a},getApps:function(){return xa},initializeApp:function(){return wa},onLog:function(){return Sa},registerVersion:function(){return Ta},setLogLevel:function(){return Ca}});var t=n(791),r=n(164),i="Header_PageHeader__B5XZu",a="Header_logo__gTpkE",o="Header_logo_text__LzCxu",u=n(184);function s(){return(0,u.jsx)("div",{className:i,children:(0,u.jsx)("div",{className:a,children:(0,u.jsx)("p",{className:o,children:"Sures AI"})})})}var c="Landing_landing__HzyKP",l="Landing_container__BKtTU",f="Landing_image__7R64B",h="Landing_slided__5ybCV",d="Landing_faded__YBI+R";function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(){},I={},E={},T=null,S={mark:x,measure:x};try{"undefined"!==typeof window&&(I=window),"undefined"!==typeof document&&(E=document),"undefined"!==typeof MutationObserver&&(T=MutationObserver),"undefined"!==typeof performance&&(S=performance)}catch(NO){}var C=(I.navigator||{}).userAgent,A=void 0===C?"":C,N=I,O=E,R=T,P=S,D=(N.document,!!O.documentElement&&!!O.head&&"function"===typeof O.addEventListener&&"function"===typeof O.createElement),L=~A.indexOf("MSIE")||~A.indexOf("Trident/"),M="svg-inline--fa",F="data-fa-i2svg",U="data-fa-pseudo-element",V="data-prefix",j="data-icon",B="fontawesome-i2svg",z=["HTML","HEAD","STYLE","SCRIPT"],q=function(){try{return!0}catch(NO){return!1}}(),W={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},H={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},K={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},G={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Y=/fa[srltdbk\-\ ]/,Q="fa-layers-text",X=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,$={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},J=[1,2,3,4,5,6,7,8,9,10],Z=J.concat([11,12,13,14,15,16,17,18,19,20]),ee=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],te="duotone-group",ne="swap-opacity",re="primary",ie="secondary",ae=[].concat(b(Object.keys(H)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",te,ne,re,ie]).concat(J.map((function(e){return"".concat(e,"x")}))).concat(Z.map((function(e){return"w-".concat(e)}))),oe=N.FontAwesomeConfig||{};if(O&&"function"===typeof O.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=k(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=O.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(oe[r]=i)}))}var ue=v(v({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:M,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),oe);ue.autoReplaceSvg||(ue.observeMutations=!1);var se={};Object.keys(ue).forEach((function(e){Object.defineProperty(se,e,{enumerable:!0,set:function(t){ue[e]=t,ce.forEach((function(e){return e(se)}))},get:function(){return ue[e]}})})),N.FontAwesomeConfig=se;var ce=[];var le=16,fe={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function he(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function de(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function pe(e){return e.classList?de(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function ve(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function me(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function ye(e){return e.size!==fe.size||e.x!==fe.x||e.y!==fe.y||e.rotate!==fe.rotate||e.flipX||e.flipY}function ge(){var e="fa",t=M,n=se.familyPrefix,r=se.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var ke=!1;function be(){se.autoAddCss&&!ke&&(!function(e){if(e&&D){var t=O.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=O.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}O.head.insertBefore(t,r)}}(ge()),ke=!0)}var we={mixout:function(){return{dom:{css:ge,insertCss:be}}},hooks:function(){return{beforeDOMElementCreation:function(){be()},beforeI2svg:function(){be()}}}},_e=N||{};_e.___FONT_AWESOME___||(_e.___FONT_AWESOME___={}),_e.___FONT_AWESOME___.styles||(_e.___FONT_AWESOME___.styles={}),_e.___FONT_AWESOME___.hooks||(_e.___FONT_AWESOME___.hooks={}),_e.___FONT_AWESOME___.shims||(_e.___FONT_AWESOME___.shims=[]);var xe=_e.___FONT_AWESOME___,Ie=[],Ee=!1;function Te(e){D&&(Ee?setTimeout(e,0):Ie.push(e))}function Se(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?ve(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ve(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Se).join(""),"</").concat(t,">")}function Ce(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}D&&((Ee=(O.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(O.readyState))||O.addEventListener("DOMContentLoaded",(function e(){O.removeEventListener("DOMContentLoaded",e),Ee=1,Ie.map((function(e){return e()}))})));var Ae=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Ne(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Oe(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Oe(t);"function"!==typeof xe.hooks.addPack||i?xe.styles[e]=v(v({},xe.styles[e]||{}),a):xe.hooks.addPack(e,Oe(t)),"fas"===e&&Re("fa",t)}var Pe=xe.styles,De=xe.shims,Le=Object.values(K),Me=null,Fe={},Ue={},Ve={},je={},Be={},ze=Object.keys(W);function qe(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~ae.indexOf(n))?null:a}var We=function(){var e=function(e){return Ae(Pe,(function(t,n,r){return t[r]=Ae(n,e,{}),t}),{})};Fe=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Ue=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Be=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Pe||se.autoFetchSvg,n=Ae(De,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Ve=n.names,je=n.unicodes,Me=Qe(se.styleDefault)};function He(e,t){return(Fe[e]||{})[t]}function Ke(e,t){return(Be[e]||{})[t]}function Ge(e){return Ve[e]||{prefix:null,iconName:null}}function Ye(){return Me}!function(e){ce.push(e)}((function(e){Me=Qe(e.styleDefault)})),We();function Qe(e){var t=H[e]||H[W[e]],n=e in xe.styles?e:null;return t||n||null}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=qe(se.familyPrefix,t);if(Pe[t]?(t=Le.includes(t)?G[t]:t,i=t,e.prefix=t):ze.indexOf(t)>-1?(i=t,e.prefix=Qe(t)):n?e.iconName=n:t!==se.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Ge(e.iconName):{},o=Ke(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Pe.far||!Pe.fas||se.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Ye()||"fas"),a}var $e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=v(v({},e.definitions[t]||{}),i[t]),Re(t,i[t]);var n=K[t];n&&Re(n,i[t]),We()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Je=[],Ze={},et={},tt=Object.keys(et);function nt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=Ze[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function rt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Ze[e]||[];i.forEach((function(e){e.apply(null,n)}))}function it(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return et[e]?et[e].apply(null,t):void 0}function at(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Ye();if(t)return t=Ke(n,t)||t,Ce(ot.definitions,n,t)||Ce(xe.styles,n,t)}var ot=new $e,ut={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return D?(rt("beforeI2svg",e),it("pseudoElements2svg",e),it("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===se.autoReplaceSvg&&(se.autoReplaceSvg=!0),se.observeMutations=!0,Te((function(){lt({autoReplaceSvgRoot:t}),rt("watch",e)}))}},st={icon:function(e){if(null===e)return null;if("object"===m(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ke(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Qe(e[0]);return{prefix:n,iconName:Ke(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(se.familyPrefix,"-"))>-1||e.match(Y))){var r=Xe(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ye(),iconName:Ke(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Ye();return{prefix:i,iconName:Ke(i,e)||e}}}},ct={noAuto:function(){se.autoReplaceSvg=!1,se.observeMutations=!1,rt("noAuto")},config:se,dom:ut,parse:st,library:ot,findIconDefinition:at,toHtml:Se},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?O:t;(Object.keys(xe.styles).length>0||se.autoFetchSvg)&&D&&se.autoReplaceSvg&&ct.dom.i2svg({node:n})};function ft(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Se(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(D){var t=O.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function ht(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,m=p.width,y=p.height,g="fak"===i,k=[se.replacementClass,a?"".concat(se.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:v(v({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},w=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};d&&(b.attributes[F]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||he())},children:[s]}),delete b.attributes.title);var _=v(v({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:v(v({},w),f.styles)}),x=r.found&&n.found?it("generateAbstractMask",_)||{children:[],attributes:{}}:it("generateAbstractIcon",_)||{children:[],attributes:{}},I=x.children,E=x.attributes;return _.children=I,_.attributes=E,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(se.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:v(v({},i),{},{id:o}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(ye(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=me(v(v({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function dt(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=v(v(v({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[F]="");var l=v({},o.styles);ye(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&L?"translate(".concat(t.x/le-r/2,"em, ").concat(t.y/le-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/le,"em), calc(-50% + ").concat(t.y/le,"em)) "):"translate(".concat(t.x/le,"em, ").concat(t.y/le,"em) "),s+="scale(".concat(t.size/le*(t.flipX?-1:1),", ").concat(t.size/le*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=me(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function pt(e){var t=e.content,n=e.title,r=e.extra,i=v(v(v({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=me(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var vt=xe.styles;function mt(e){var t=e[0],n=e[1],r=k(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(se.familyPrefix,"-").concat(te)},children:[{tag:"path",attributes:{class:"".concat(se.familyPrefix,"-").concat(ie),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(se.familyPrefix,"-").concat(re),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var yt={found:!1,width:512,height:512};function gt(e,t){var n=t;return"fa"===t&&null!==se.styleDefault&&(t=Ye()),new Promise((function(r,i){it("missingIconAbstract");if("fa"===n){var a=Ge(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&vt[t]&&vt[t][e])return r(mt(vt[t][e]));!function(e,t){q||se.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(v(v({},yt),{},{icon:se.showMissingIcons&&e&&it("missingIconAbstract")||{}}))}))}var kt=function(){},bt=se.measurePerformance&&P&&P.mark&&P.measure?P:{mark:kt,measure:kt},wt='FA "6.1.1"',_t=function(e){bt.mark("".concat(wt," ").concat(e," ends")),bt.measure("".concat(wt," ").concat(e),"".concat(wt," ").concat(e," begins"),"".concat(wt," ").concat(e," ends"))},xt=function(e){return bt.mark("".concat(wt," ").concat(e," begins")),function(){return _t(e)}},It=function(){};function Et(e){return"string"===typeof(e.getAttribute?e.getAttribute(F):null)}function Tt(e){return O.createElementNS("http://www.w3.org/2000/svg",e)}function St(e){return O.createElement(e)}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Tt:St:n;if("string"===typeof e)return O.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Ct(e,{ceFn:r}))})),i}var At={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Ct(e),t)})),null===t.getAttribute(F)&&se.keepOriginalSource){var n=O.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~pe(t).indexOf(se.replacementClass))return At.replace(e);var r=new RegExp("".concat(se.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===se.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Se(e)})).join("\n");t.setAttribute(F,""),t.innerHTML=a}};function Nt(e){e()}function Ot(e,t){var n="function"===typeof t?t:It;if(0===e.length)n();else{var r=Nt;"async"===se.mutateApproach&&(r=N.requestAnimationFrame||Nt),r((function(){var t=!0===se.autoReplaceSvg?At.replace:At[se.autoReplaceSvg]||At.replace,r=xt("mutate");e.map(t),r(),n()}))}}var Rt=!1;function Pt(){Rt=!0}function Dt(){Rt=!1}var Lt=null;function Mt(e){if(R&&se.observeMutations){var t=e.treeCallback,n=void 0===t?It:t,r=e.nodeCallback,i=void 0===r?It:r,a=e.pseudoElementsCallback,o=void 0===a?It:a,u=e.observeMutationsRoot,s=void 0===u?O:u;Lt=new R((function(e){if(!Rt){var t=Ye();de(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Et(e.addedNodes[0])&&(se.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&se.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Et(e.target)&&~ee.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(V):null,n=e.getAttribute?e.getAttribute(j):null;return t&&n}(e.target)){var r=Xe(pe(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(V,a||t),u&&e.target.setAttribute(j,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(se.replacementClass)&&i(e.target);var s}))}})),D&&Lt.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ft(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Ut(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Xe(pe(e));return i.prefix||(i.prefix=Ye()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Ue[e]||{})[t]}(i.prefix,e.innerText)||He(i.prefix,Ne(e.innerText))),i}function Vt(e){var t=de(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return se.autoA11y&&(n?t["aria-labelledby"]="".concat(se.replacementClass,"-title-").concat(r||he()):(t["aria-hidden"]="true",t.focusable="false")),t}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Ut(e),r=n.iconName,i=n.prefix,a=n.rest,o=Vt(e),u=nt("parseNodeAttributes",{},e),s=t.styleParser?Ft(e):[];return v({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:fe,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var Bt=xe.styles;function zt(e){var t="nest"===se.autoReplaceSvg?jt(e,{styleParser:!1}):jt(e);return~t.extra.classes.indexOf(Q)?it("generateLayersText",e,t):it("generateSvgReplacementMutation",e,t)}function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!D)return Promise.resolve();var n=O.documentElement.classList,r=function(e){return n.add("".concat(B,"-").concat(e))},i=function(e){return n.remove("".concat(B,"-").concat(e))},a=se.autoFetchSvg?Object.keys(W):Object.keys(Bt),o=[".".concat(Q,":not([").concat(F,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(F,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=de(e.querySelectorAll(o))}catch(NO){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=xt("onTree"),c=u.reduce((function(e,t){try{var n=zt(t);n&&e.push(n)}catch(NO){q||"MissingIcon"===NO.name&&console.error(NO)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Ot(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;zt(e).then((function(e){e&&Ot([e],t)}))}var Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?fe:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,y=t.attributes,g=void 0===y?{}:y,k=t.styles,b=void 0===k?{}:k;if(e){var w=e.prefix,_=e.iconName,x=e.icon;return ft(v({type:"icon"},e),(function(){return rt("beforeDOMElementCreation",{iconDefinition:e,params:t}),se.autoA11y&&(f?g["aria-labelledby"]="".concat(se.replacementClass,"-title-").concat(d||he()):(g["aria-hidden"]="true",g.focusable="false")),ht({icons:{main:mt(x),mask:u?mt(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:v(v({},fe),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:g,styles:b,classes:m}})}))}},Kt={mixout:function(){return{icon:(e=Ht,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:at(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:at(i||{})),e(r,v(v({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=qt,e.nodeCallback=Wt,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?O:t,r=e.callback;return qt(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([gt(n,a),s.iconName?gt(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=k(s,2),h=f[0],d=f[1];t([e,ht({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=me(e.styles);return o.length>0&&(r.style=o),ye(a)&&(t=it("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Gt={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return ft({type:"layer"},(function(){rt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(se.familyPrefix,"-layers")].concat(b(r)).join(" ")},children:n}]}))}}}},Yt={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return ft({type:"counter",content:e},(function(){return rt("beforeDOMElementCreation",{content:e,params:t}),pt({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(se.familyPrefix,"-layers-counter")].concat(b(a))}})}))}}}},Qt={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?fe:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return ft({type:"text",content:e},(function(){return rt("beforeDOMElementCreation",{content:e,params:t}),dt({content:e,transform:v(v({},fe),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(se.familyPrefix,"-layers-text")].concat(b(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(L){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return se.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,dt({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Xt=new RegExp('"',"ug"),$t=[1105920,1112319];function Jt(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=de(e.children).filter((function(e){return e.getAttribute(U)===t}))[0],o=N.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(X),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?H[u[2].toLowerCase()]:$[s],h=function(e){var t=e.replace(Xt,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=$t[0]&&n<=$t[1],i=2===t.length&&t[0]===t[1];return{value:Ne(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,m=u[0].startsWith("FontAwesome"),y=He(f,d),g=y;if(m){var k=function(e){var t=je[e],n=He("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);k.iconName&&k.prefix&&(y=k.iconName,f=k.prefix)}if(!y||p||a&&a.getAttribute(V)===f&&a.getAttribute(j)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:fe,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=b.extra;w.attributes[U]=t,gt(y,f).then((function(i){var a=ht(v(v({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:g,extra:w,watchable:!0})),o=O.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Se(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Zt(e){return Promise.all([Jt(e,"::before"),Jt(e,"::after")])}function en(e){return e.parentNode!==document.head&&!~z.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(U)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function tn(e){if(D)return new Promise((function(t,n){var r=de(e.querySelectorAll("*")).filter(en).map(Zt),i=xt("searchPseudoElements");Pt(),Promise.all(r).then((function(){i(),Dt(),t()})).catch((function(){i(),Dt(),n()}))}))}var nn=!1,rn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},an={mixout:function(){return{parse:{transform:function(e){return rn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=rn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:v({},c.outer),children:[{tag:"g",attributes:v({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:v(v({},t.icon.attributes),c.path)}]}]}}}},on={x:0,y:0,width:"100%",height:"100%"};function un(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var sn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?Xe(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Ye()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:v(v({},on),{},{fill:"white"})},p=c.children?{children:c.children.map(un)}:{},m={tag:"g",attributes:v({},h.inner),children:[un(v({tag:c.tag,attributes:v(v({},c.attributes),h.path)},p))]},y={tag:"g",attributes:v({},h.outer),children:[m]},g="mask-".concat(o||he()),k="clip-".concat(o||he()),b={tag:"mask",attributes:v(v({},on),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:k},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:v({fill:"currentColor","clip-path":"url(#".concat(k,")"),mask:"url(#".concat(g,")")},on)}),{children:n,attributes:r}}}},cn={provides:function(e){var t=!1;N.matchMedia&&(t=N.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:v(v({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=v(v({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:v(v({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:v(v({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:v(v({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:v(v({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:v(v({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:v(v({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:v(v({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;Je=e,Ze={},Object.keys(et).forEach((function(e){-1===tt.indexOf(e)&&delete et[e]})),Je.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===m(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){Ze[e]||(Ze[e]=[]),Ze[e].push(r[e])}))}e.provides&&e.provides(et)}))}([we,Kt,Gt,Yt,Qt,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=tn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?O:t;se.searchPseudoElements&&tn(n)}}},{mixout:function(){return{dom:{unwatch:function(){Pt(),nn=!0}}}},hooks:function(){return{bootstrap:function(){Mt(nt("mutationObserverCallbacks",{}))},noAuto:function(){Lt&&Lt.disconnect()},watch:function(e){var t=e.observeMutationsRoot;nn?Dt():Mt(nt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},an,sn,cn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:ct});var ln=ct.parse,fn=ct.icon,hn=n(7),dn=n.n(hn);function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kn(e){return function(e){if(Array.isArray(e))return bn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var _n=["style"];function xn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=wn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var In=!1;try{In=!0}catch(NO){}function En(e){return e&&"object"===mn(e)&&e.prefix&&e.iconName&&e.icon?e:ln.icon?ln.icon(e):null===e?null:e&&"object"===mn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Tn(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?yn({},e,t):{}}var Sn=["forwardedRef"];function Cn(e){var t=e.forwardedRef,n=gn(e,Sn),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=En(r),f=Tn("classes",[].concat(kn(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(yn(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),yn(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),yn(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),yn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),kn(o.split(" ")))),h=Tn("transform","string"===typeof n.transform?ln.transform(n.transform):n.transform),d=Tn("mask",En(i)),p=fn(l,vn(vn(vn(vn({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!In&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){Cn.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),An(v[0],m)}Cn.displayName="FontAwesomeIcon",Cn.propTypes={beat:dn().bool,border:dn().bool,bounce:dn().bool,className:dn().string,fade:dn().bool,flash:dn().bool,mask:dn().oneOfType([dn().object,dn().array,dn().string]),maskId:dn().string,fixedWidth:dn().bool,inverse:dn().bool,flip:dn().oneOf(["horizontal","vertical","both"]),icon:dn().oneOfType([dn().object,dn().array,dn().string]),listItem:dn().bool,pull:dn().oneOf(["right","left"]),pulse:dn().bool,rotation:dn().oneOf([0,90,180,270]),shake:dn().bool,size:dn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:dn().bool,spinPulse:dn().bool,spinReverse:dn().bool,symbol:dn().oneOfType([dn().bool,dn().string]),title:dn().string,titleId:dn().string,transform:dn().oneOfType([dn().string,dn().object]),swapOpacity:dn().bool},Cn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var An=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=xn(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[wn(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=gn(r,_n);return a.attrs.style=vn(vn({},a.attrs.style),u),t.apply(void 0,[n.tag,vn(vn({},a.attrs),s)].concat(kn(i)))}.bind(null,t.createElement),Nn={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]};function On(){var e=!1,t=(0,u.jsx)(Cn,{icon:Nn});return(0,u.jsxs)("div",{className:c,children:[(0,u.jsx)("h1",{children:"Enhance Your Images"}),(0,u.jsxs)("div",{className:l,onClick:function(){e=!e;var t=document.getElementById("image-container"),n=document.getElementById("play-button");t.className=e?"".concat(f," ").concat(h):f,n.className=e?d:null},children:[(0,u.jsx)("div",{className:f,id:"image-container",children:(0,u.jsx)("img",{src:"https://images.unsplash.com/photo-1638571179264-de62c4d84f52?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80",alt:"a girl"})}),(0,u.jsx)("button",{id:"play-button",children:t})]})]})}var Rn="Welcome_welcome__kpDUj",Pn="Welcome_mainHeader__MbF1t";function Dn(){return(0,u.jsx)("div",{className:"section small-section shaded-section ".concat(Rn),children:(0,u.jsxs)("div",{className:Pn,children:[(0,u.jsx)("h1",{children:"Sures AI"}),(0,u.jsx)("p",{children:"Your gate to a super quality"})]})})}var Ln,Mn,Fn,Un,Vn,jn,Bn=n(312),zn=n.n(Bn),qn=function(e){this.startX=e.startX,this.startY=e.startY,this.endX=e.endX,this.endY=e.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=e.startMultiplierX||1,this.endMultiplierX=e.endMultiplierX||1,this.startMultiplierY=e.startMultiplierY||1,this.endMultiplierY=e.endMultiplierY||1};function Wn(){return Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(this,arguments)}!function(e){e.speed="speed",e.translateX="translateX",e.translateY="translateY",e.rotate="rotate",e.rotateX="rotateX",e.rotateY="rotateY",e.rotateZ="rotateZ",e.scale="scale",e.scaleX="scaleX",e.scaleY="scaleY",e.scaleZ="scaleZ",e.opacity="opacity"}(Ln||(Ln={})),function(e){e.px="px",e["%"]="%"}(Mn||(Mn={})),function(e){e.deg="deg",e.turn="turn",e.rad="rad"}(Fn||(Fn={})),function(e){e[""]=""}(Un||(Un={})),function(e){e.vertical="vertical",e.horizontal="horizontal"}(Vn||(Vn={})),function(e){e.ease="ease",e.easeIn="easeIn",e.easeOut="easeOut",e.easeInOut="easeInOut",e.easeInQuad="easeInQuad",e.easeInCubic="easeInCubic",e.easeInQuart="easeInQuart",e.easeInQuint="easeInQuint",e.easeInSine="easeInSine",e.easeInExpo="easeInExpo",e.easeInCirc="easeInCirc",e.easeOutQuad="easeOutQuad",e.easeOutCubic="easeOutCubic",e.easeOutQuart="easeOutQuart",e.easeOutQuint="easeOutQuint",e.easeOutSine="easeOutSine",e.easeOutExpo="easeOutExpo",e.easeOutCirc="easeOutCirc",e.easeInOutQuad="easeInOutQuad",e.easeInOutCubic="easeInOutCubic",e.easeInOutQuart="easeInOutQuart",e.easeInOutQuint="easeInOutQuint",e.easeInOutSine="easeInOutSine",e.easeInOutExpo="easeInOutExpo",e.easeInOutCirc="easeInOutCirc",e.easeInBack="easeInBack",e.easeOutBack="easeOutBack",e.easeInOutBack="easeInOutBack"}(jn||(jn={}));var Hn=0;var Kn=function(){function e(e){var t=e.el.getBoundingClientRect();if(e.view.scrollContainer){var n=e.view.scrollContainer.getBoundingClientRect();t=Wn({},t,{top:t.top-n.top,right:t.right-n.left,bottom:t.bottom-n.top,left:t.left-n.left})}this.height=e.el.offsetHeight,this.width=e.el.offsetWidth,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,e.rootMargin&&this._setRectWithRootMargin(e.rootMargin)}return e.prototype._setRectWithRootMargin=function(e){var t=e.top+e.bottom,n=e.left+e.right;this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left,this.height+=t,this.width+=n},e}(),Gn=[Un[""],Mn.px,Mn["%"],Fn.deg,Fn.turn,Fn.rad];function Yn(e,t){void 0===t&&(t=Mn["%"]);var n={value:0,unit:t};if("undefined"===typeof e)return n;if(!("number"===typeof e||"string"===typeof e))throw new Error("Invalid value provided. Must provide a value as a string or number");if(e=String(e),n.value=parseFloat(e),n.unit=e.match(/[\d.\-+]*\s*(.*)/)[1]||t,!Gn.includes(n.unit))throw new Error("Invalid unit provided.");return n}var Qn={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function Xn(e){if(Array.isArray(e))return zn()(e[0],e[1],e[2],e[3]);if("string"===typeof e&&"undefined"!==typeof Qn[e]){var t=Qn[e];return zn()(t[0],t[1],t[2],t[3])}}var $n=Object.values(Ln),Jn={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function Zn(e,t){var n={};return $n.forEach((function(r){var i=Jn[r];if("number"===typeof(null==e?void 0:e[r])){var a=null==e?void 0:e[r],o=-10*(a||0)+"px",u=Yn(10*(a||0)+"px"),s=Yn(o),c={start:u.value,end:s.value,unit:u.unit};t===Vn.vertical&&(n.translateY=c),t===Vn.horizontal&&(n.translateX=c)}if(Array.isArray(null==e?void 0:e[r])){var l=null==e?void 0:e[r];if("undefined"!==typeof l[0]&&"undefined"!==typeof l[1]){var f=Yn(null==l?void 0:l[0],i),h=Yn(null==l?void 0:l[1],i),d=Xn(null==l?void 0:l[2]);if(n[r]={start:f.value,end:h.value,unit:f.unit,easing:d},f.unit!==h.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}})),n}function er(e,t,n,r){var i=(n-e)/t;return r&&(i=r(i)),i}function tr(e,t){return{value:function(e,t,n,r,i){return(n-t)*(e-r)/(i-r)+t}("function"===typeof e.easing?e.easing(t):t,(null==e?void 0:e.start)||0,(null==e?void 0:e.end)||0,0,1),unit:null==e?void 0:e.unit}}var nr=Object.values(Ln).filter((function(e){return"opacity"!==e}));function rr(e,t,n){if(n){var r=function(e,t){return nr.reduce((function(n,r){var i=e[r]&&tr(e[r],t);return"undefined"===typeof i||"undefined"===typeof i.value||"undefined"===typeof i.unit?n:n+(r+"("+i.value+i.unit+")")}),"")}(e,t),i=function(e,t){var n=e.opacity&&tr(e.opacity,t);if("undefined"===typeof n||"undefined"===typeof n.value||"undefined"===typeof n.unit)return"";return""+n.value}(e,t);n.style.transform=r,n.style.opacity=i}}function ir(e){var t=e.el;t&&(t.style.transform="",t.style.opacity="")}function ar(e,t,n){var r=t>e,i=n+(Math.abs(e)+Math.abs(t))*(r?-1:1);return Math.max(n/i,1)}function or(e,t){var n=e.start,r=e.end;if("%"===e.unit){var i=t/100;n*=i,r*=i}return{start:n,end:r}}var ur={start:0,end:0,unit:""};var sr=function(e,t,n){return Math.min(Math.max(e,t),n)},cr=function(){function e(e){this.el=e.el,this.props=e.props,this.scrollAxis=e.scrollAxis,this.id=++Hn,this.effects=Zn(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(e.props.easing),function(e,t){var n="transform"+(Object.keys(t).includes("opacity")?",opacity":"");e.style.willChange=n}(e.el,this.effects)}var t=e.prototype;return t.updateProps=function(e){return this.props=Wn({},this.props,e),this.effects=Zn(e,this.scrollAxis),this._setElementEasing(e.easing),this},t.setCachedAttributes=function(e,t){ir(this),this.rect=new Kn({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:e});var n,r,i,a=(n=this.props,r=this.effects,i=this.scrollAxis,!(n.rootMargin||n.targetElement||n.shouldDisableScalingTranslations)&&!!(r.translateX&&i===Vn.horizontal||r.translateY&&i===Vn.vertical));return"number"===typeof this.props.startScroll&&"number"===typeof this.props.endScroll?(this.limits=new qn({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(a?(this.limits=function(e,t,n,r,i,a){var o=n.translateX||ur,u=n.translateY||ur,s=or(o,e.width),c=s.start,l=s.end,f=or(u,e.height),h=f.start,d=f.end,p=e.top-t.height,v=e.left-t.width,m=e.bottom,y=e.right,g=1,k=1;i===Vn.vertical&&(k=g=ar(h,d,t.height+e.height));var b=1,w=1;if(i===Vn.horizontal&&(w=b=ar(c,l,t.width+e.width)),h<0&&(p+=h*g),d>0&&(m+=d*k),c<0&&(v+=c*b),l>0&&(y+=l*w),v+=r.x,y+=r.x,p+=r.y,m+=r.y,a){var _=r.y+e.top<t.height,x=r.x+e.left<t.width,I=r.y+e.bottom>t.scrollHeight-t.height,E=r.x+e.right>t.scrollWidth-t.height;_&&I&&(g=1,k=1,p=0,m=t.scrollHeight-t.height),x&&E&&(b=1,w=1,v=0,y=t.scrollWidth-t.width),!_&&I&&(p=e.top-t.height+r.y,g=ar(h,d,(m=t.scrollHeight-t.height)-p),k=1,h<0&&(p+=h*g)),!x&&E&&(v=e.left-t.width+r.x,b=ar(c,l,(y=t.scrollWidth-t.width)-v),w=1,c<0&&(v+=c*b)),_&&!I&&(p=0,g=1,k=ar(h,d,(m=e.bottom+r.y)-p),d>0&&(m+=d*k)),x&&!E&&(v=0,b=1,w=ar(c,l,(y=e.right+r.x)-v),l>0&&(y+=l*w))}return new qn({startX:v,startY:p,endX:y,endY:m,startMultiplierX:b,endMultiplierX:w,startMultiplierY:g,endMultiplierY:k})}(this.rect,e,this.effects,t,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=function(e,t){var n=Wn({},e);return n.translateX&&(n.translateX=Wn({},e.translateX,{start:n.translateX.start*t.startMultiplierX,end:n.translateX.end*t.endMultiplierX})),n.translateY&&(n.translateY=Wn({},e.translateY,{start:n.translateY.start*t.startMultiplierY,end:n.translateY.end*t.endMultiplierY})),n}(this.effects,this.limits)):this.limits=function(e,t,n,r){var i=e.top-t.height,a=e.left-t.width,o=e.bottom,u=e.right;return a+=n.x,u+=n.x,i+=n.y,o+=n.y,r&&(n.y+e.top<t.height&&(i=0),n.x+e.left<t.width&&(a=0),o>t.scrollHeight-t.height&&(o=t.scrollHeight-t.height),u>t.scrollWidth-t.width&&(u=t.scrollWidth-t.width)),new qn({startX:a,startY:i,endX:u,endY:o})}(this.rect,e,t,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},t._updateElementIsInView=function(e){var t=null===this.isInView;e!==this.isInView&&(e?this.props.onEnter&&this.props.onEnter():t||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit())),this.isInView=e},t._setFinalProgress=function(){var e=sr(Math.round(this.progress),0,1);this._updateElementProgress(e)},t._setElementStyles=function(){this.props.disabled||rr(this.scaledEffects||this.effects,this.progress,this.el)},t._updateElementProgress=function(e){this.progress=e,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},t._setElementEasing=function(e){this.easing=Xn(e)},t.updatePosition=function(e){if(!this.limits)return this;var t=this.scrollAxis===Vn.vertical,n=null===this.isInView,r=t?this.limits.startY:this.limits.startX,i=t?this.limits.endY:this.limits.endX,a=t?this.limits.totalY:this.limits.totalX,o=t?e.y:e.x,u=function(e,t,n){return n>=e&&n<=t}(r,i,o);if(this._updateElementIsInView(u),u){var s=er(r,a,o,this.easing);this._updateElementProgress(s),this._setElementStyles()}else n&&(this.progress=sr(Math.round(er(r,a,o,this.easing)),0,1),this._setElementStyles());return this},e}(),lr=function(){function e(e){this.scrollContainer=e.scrollContainer,this.width=e.width,this.height=e.height,this.scrollHeight=e.scrollHeight,this.scrollWidth=e.scrollWidth}var t=e.prototype;return t.hasChanged=function(e){return e.width!==this.width||e.height!==this.height||e.scrollWidth!==this.scrollWidth||e.scrollHeight!==this.scrollHeight},t.setSize=function(e){return this.width=e.width,this.height=e.height,this.scrollHeight=e.scrollHeight,this.scrollWidth=e.scrollWidth,this},e}(),fr=function(){function e(e,t){this.x=e,this.y=t,this.dx=0,this.dy=0}return e.prototype.setScroll=function(e,t){return this.dx=e-this.x,this.dy=t-this.y,this.x=e,this.y=t,this},e}();var hr=function(){function e(e){var t=e.scrollAxis,n=void 0===t?Vn.vertical:t,r=e.scrollContainer;this.scrollAxis=n,this.elements=[],this._hasScrollContainer=!!r,this.viewEl=null!=r?r:window;var i=this._getScrollPosition(),a=i[0],o=i[1];this.scroll=new fr(a,o),this.view=new lr({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?r:void 0}),this._ticking=!1,this._supportsPassive=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(NO){}return e}(),this._bindAllMethods(),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()}e.init=function(t){if(!("undefined"!==typeof window))throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new e(t)};var t=e.prototype;return t._bindAllMethods=function(){var e=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach((function(t){e[t]=e[t].bind(e)}))},t._addListeners=function(e){e.addEventListener("scroll",this._handleScroll,!!this._supportsPassive&&{passive:!0}),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},t._removeListeners=function(e){var t;e.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),null==(t=this._resizeObserver)||t.disconnect()},t._addResizeObserver=function(){var e=this;try{var t=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver((function(){return e.update()})),this._resizeObserver.observe(t)}catch(NO){console.warn("Failed to create the resize observer in the ParallaxContoller")}},t._getScrollPosition=function(){return[this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset]},t._handleScroll=function(){var e=this._getScrollPosition(),t=e[0],n=e[1];this.scroll.setScroll(t,n),!this._ticking&&this.elements.length>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},t._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},t._updateAllElements=function(e){var t=this,n=(void 0===e?{}:e).updateCache;this.elements&&this.elements.forEach((function(e){n&&e.setCachedAttributes(t.view,t.scroll),t._updateElementPosition(e)})),this._ticking=!1},t._updateElementPosition=function(e){e.props.disabled||e.updatePosition(this.scroll)},t._getViewParams=function(){if(this._hasScrollContainer){var e=this.viewEl.offsetWidth,t=this.viewEl.offsetHeight,n=this.viewEl.scrollHeight,r=this.viewEl.scrollWidth;return this.view.setSize({width:e,height:t,scrollHeight:n,scrollWidth:r})}var i=document.documentElement;return{width:window.innerWidth||i.clientWidth,height:window.innerHeight||i.clientHeight,scrollHeight:i.scrollHeight,scrollWidth:i.scrollWidth}},t._setViewSize=function(){return this.view.setSize(this._getViewParams())},t._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},t.getElements=function(){return this.elements},t.createElement=function(e){var t=new cr(Wn({},e,{scrollAxis:this.scrollAxis}));return t.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[t]):[t],this._updateElementPosition(t),this._checkIfViewHasChanged()&&this.update(),t},t.removeElementById=function(e){this.elements&&(this.elements=this.elements.filter((function(t){return t.id!==e})))},t.updateElementPropsById=function(e,t){this.elements&&(this.elements=this.elements.map((function(n){return n.id===e?n.updateProps(t):n}))),this.update()},t.resetElementStyles=function(e){ir(e)},t.update=function(){var e=this._getScrollPosition(),t=e[0],n=e[1];this.scroll.setScroll(t,n),this._setViewSize(),this._updateAllElements({updateCache:!0})},t.updateScrollContainer=function(e){this._removeListeners(this.viewEl),this.viewEl=e,this._hasScrollContainer=!!e,this.view=new lr({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:e}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},t.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach((function(e){return ir(e)})),this.elements=void 0},e}();function dr(e,t){return dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var vr=["disabled","easing","endScroll","onChange","onEnter","onExit","onProgressChange","opacity","rootMargin","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","shouldAlwaysCompleteAnimation","shouldDisableScalingTranslations","speed","startScroll","targetElement","translateX","translateY"];function mr(e){var t,n=e.disabled,r=e.easing,i=e.endScroll,a=e.onChange,o=e.onEnter,u=e.onExit,s=e.onProgressChange,c=e.opacity,l=e.rootMargin,f=e.rotate,h=e.rotateX,d=e.rotateY,p=e.rotateZ,v=e.scale,m=e.scaleX,y=e.scaleY,g=e.scaleZ,k=e.shouldAlwaysCompleteAnimation,b=e.shouldDisableScalingTranslations,w=e.speed,_=e.startScroll,x=e.targetElement,I=e.translateX,E=e.translateY,T=pr(e,vr);return{parallaxProps:(t={disabled:n,easing:r,endScroll:i,onChange:a,onEnter:o,onExit:u,onProgressChange:s,opacity:c,rootMargin:l,rotate:f,rotateX:h,rotateY:d,rotateZ:p,scale:v,scaleX:m,scaleY:y,scaleZ:g,shouldAlwaysCompleteAnimation:k,shouldDisableScalingTranslations:b,speed:w,startScroll:_,targetElement:x,translateX:I,translateY:E},Object.keys(t).forEach((function(e){return void 0===t[e]?delete t[e]:{}})),t),rest:T}}var yr=t.createContext(null);function gr(e){var n=function(){var e=(0,t.useContext)(yr);if("undefined"===typeof window)return null;if(!e)throw new Error("Could not find `react-scroll-parallax` context value. Please ensure the component is wrapped in a <ParallaxProvider>");return e}(),r=(0,t.useRef)(null),i=mr(e).parallaxProps;!function(e){(0,t.useEffect)((function(){if("undefined"!==typeof window&&!e&&!(e instanceof hr))throw new Error("Must wrap your application's <Parallax /> components in a <ParallaxProvider />.")}),[e])}(n);var a=(0,t.useState)(),o=a[0],u=a[1];return(0,t.useEffect)((function(){var e;if(!(r.current instanceof HTMLElement))throw new Error("You must assign the ref returned by the useParallax() hook to an HTML Element.");var t={el:r.current,props:i};return e=null==n?void 0:n.createElement(t),u(e),function(){e&&(null==n||n.removeElementById(e.id))}}),[]),(0,t.useEffect)((function(){o&&(e.disabled?(null==n||n.resetElementStyles(o),null==n||n.updateElementPropsById(o.id,i)):null==n||n.updateElementPropsById(o.id,i))}),[e.disabled,e.easing,e.endScroll,e.onChange,e.onEnter,e.onExit,e.onProgressChange,e.opacity,e.rootMargin,e.rotate,e.rotateX,e.rotateY,e.rotateZ,e.scale,e.scaleX,e.scaleY,e.scaleZ,e.shouldAlwaysCompleteAnimation,e.shouldDisableScalingTranslations,e.speed,e.startScroll,e.targetElement,e.translateX,e.translateY]),{ref:r,controller:n,element:o}}function kr(e){var n=mr(e),r=n.parallaxProps,i=n.rest,a=gr(r).ref;return t.createElement("div",Object.assign({ref:a},i),e.children)}var br=function(e){var n,r;function i(t){var n,r;return(n=e.call(this,t)||this).controller=(r={scrollAxis:t.scrollAxis,scrollContainer:t.scrollContainer},"undefined"===typeof window?null:hr.init(r)),n}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,dr(n,r);var a=i.prototype;return a.componentDidUpdate=function(e){e.scrollContainer!==this.props.scrollContainer&&this.controller.updateScrollContainer(this.props.scrollContainer)},a.componentWillUnmount=function(){this.controller=this.controller.destroy()},a.render=function(){var e=this.props.children;return t.createElement(yr.Provider,{value:this.controller},e)},i}(t.Component);br.defaultProps={scrollAxis:Vn.vertical};var wr="Intro_banner__e4+wb",_r="Intro_slided__fau6J",xr="Intro_introDescription__7Goz0";function Ir(){return(0,u.jsxs)("div",{className:"section composite-section",children:[(0,u.jsx)(kr,{className:wr,onProgressChange:function(e){var t=document.getElementById("intro-banner");t.className=e>.1&&e<.9?wr+" "+_r:wr},id:"intro-banner",children:(0,u.jsx)("h1",{children:"Intro"})}),(0,u.jsx)("div",{className:xr,children:(0,u.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore."})})]})}var Er="Description_banner__vh-AZ",Tr="Description_slided__oGXdP",Sr="Description_descriptionText__k63wl";function Cr(){return(0,u.jsxs)("div",{className:"section composite-section",children:[(0,u.jsx)(kr,{className:Er,onProgressChange:function(e){var t=document.getElementById("description-banner");t.className=e>.1&&e<.9?Er+" "+Tr:Er},id:"description-banner",children:(0,u.jsx)("h1",{children:"Description"})}),(0,u.jsx)("div",{className:Sr,children:(0,u.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore."})})]})}var Ar="Technology_banner__46LNh",Nr="Technology_rightBanner__-CCGr",Or="Technology_slided__Aik18",Rr="Technology_technologyDescription__mU484";function Pr(){return(0,u.jsxs)("div",{className:"section composite-section",children:[(0,u.jsx)(kr,{className:Ar,onProgressChange:function(e){var t=document.getElementById("left-technology-banner");t.className=e>.1&&e<.9?"".concat(Ar," ").concat(Or):"".concat(Ar)},id:"left-technology-banner",children:(0,u.jsx)("h1",{children:"Technology"})}),(0,u.jsx)(kr,{className:"".concat(Ar," ").concat(Nr),onProgressChange:function(e){var t=document.getElementById("right-technology-banner");t.className=e>.1?"".concat(Ar," ").concat(Nr," ").concat(Or):"".concat(Ar," ").concat(Nr)},id:"right-technology-banner",children:(0,u.jsx)("h1",{children:"Technology"})}),(0,u.jsx)("div",{className:Rr,children:(0,u.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore."})})]})}function Dr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Dr(a,r,i,o,u,"next",e)}function u(e){Dr(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Mr(e){if(Array.isArray(e))return e}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t){if(e){if("string"===typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fr(e,t):void 0}}function Vr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jr(e,t){return Mr(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Ur(e,t)||Vr()}var Br=n(757),zr=n.n(Br),qr="UploadImage_uploadContainer__pPpw+",Wr="UploadImage_actual-btn__KZTam",Hr="UploadImage_uploadedImageContainer__D9niE",Kr="UploadImage_uploadedImage__aWZTh";function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t,n){return t&&Qr(e.prototype,t),n&&Qr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ur(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e,t){return Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zr(e,t)}function ei(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Zr(e,t)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ti(e)}function ni(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(NO){return!1}}function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function ii(e,t){if(t&&("object"===ri(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function ai(e){var t=ni();return function(){var n,r=ti(e);if(t){var i=ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ii(this,n)}}function oi(e,t,n){return oi=ni()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Zr(i,n.prototype),i},oi.apply(null,arguments)}function ui(e){var t="function"===typeof Map?new Map:void 0;return ui=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return oi(e,arguments,ti(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zr(n,e)},ui(e)}var si=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ci={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(si(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},li=function(e){return function(e){var t=si(e);return ci.encodeByteArray(t,!0)}(e).replace(/\./g,"")},fi=function(e){try{return ci.decodeString(e,!0)}catch(NO){console.error("base64Decode failed: ",NO)}return null};function hi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=hi(e[n],t[n]));return e}var di=function(){function e(){var t=this;Yr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Xr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[li(JSON.stringify({alg:"none",type:"JWT"})),li(JSON.stringify(a)),""].join(".")}function vi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function yi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NO){return!1}}function gi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ki(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function bi(){var e=vi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wi(){return"object"===typeof indexedDB}var _i=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Jr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Jr(a),xi.prototype.create),a}return Xr(n)}(ui(Error)),xi=function(){function e(t,n,r){Yr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Xr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ii(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new _i(n,a,t);return o}}]),e}();function Ii(e,t){return e.replace(Ei,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ei=/\{\$([^}]+)}/g;function Ti(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ci(u)&&Ci(s)){if(!Si(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ci(e){return null!==e&&"object"===typeof e}function Ai(e){for(var t=[],n=function(){var e=jr(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ni(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=jr(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Oi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ri(e,t){var n=new Pi(e,t);return n.subscribe.bind(n)}var Pi=function(){function e(t,n){var r=this;Yr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Xr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$r(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Di),void 0===r.error&&(r.error=Di),void 0===r.complete&&(r.complete=Di);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(NO){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(NO){"undefined"!==typeof console&&console.error&&console.error(NO)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Di(){}function Li(e){return e&&e._delegate?e._delegate:e}function Mi(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Fi=function(){function e(t){Yr(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Xr(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Ui(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Vi(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Ui=function(){function e(t){var n=this;Yr(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Xr(e,[{key:"objectStore",value:function(e){return new Vi(this._transaction.objectStore(e))}}]),e}(),Vi=function(){function e(t){Yr(this,e),this._store=t}return Xr(e,[{key:"index",value:function(e){return new ji(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ji(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Mi(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Mi(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Mi(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Mi(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ji=function(){function e(t){Yr(this,e),this._index=t}return Xr(e,[{key:"get",value:function(e){return Mi(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Bi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function zi(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||Bi(e)||Ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qi=function(){function e(t,n,r){Yr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Xr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wi="[DEFAULT]",Hi=function(){function e(t,n){Yr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Xr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new di;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(NO){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NO){if(r)return null;throw NO}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch(NO){}var t,n=$r(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=jr(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(NO){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Lr(Br.mark((function e(){var t;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(zi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),zi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$r(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=jr(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ET){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Wi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ET){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.component?this.component.multipleInstances?e:Wi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ki,Gi,Yi=function(){function e(t){Yr(this,e),this.name=t,this.providers=new Map}return Xr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Hi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Qi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gi||(Gi={}));var Xi,$i,Ji={debug:Gi.DEBUG,verbose:Gi.VERBOSE,info:Gi.INFO,warn:Gi.WARN,error:Gi.ERROR,silent:Gi.SILENT},Zi=Gi.INFO,ea=(Gr(Ki={},Gi.DEBUG,"log"),Gr(Ki,Gi.VERBOSE,"log"),Gr(Ki,Gi.INFO,"info"),Gr(Ki,Gi.WARN,"warn"),Gr(Ki,Gi.ERROR,"error"),Ki),ta=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ea[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},na=function(){function e(t){Yr(this,e),this.name=t,this._logLevel=Zi,this._logHandler=ta,this._userLogHandler=null,Qi.push(this)}return Xr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Gi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ji[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Gi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Gi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gi.INFO].concat(t)),this._logHandler.apply(this,[this,Gi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gi.WARN].concat(t)),this._logHandler.apply(this,[this,Gi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gi.ERROR].concat(t)),this._logHandler.apply(this,[this,Gi.ERROR].concat(t))}}]),e}();var ra=function(){function e(t){Yr(this,e),this.container=t}return Xr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ia="@firebase/app",aa="0.7.21",oa=new na("@firebase/app"),ua="[DEFAULT]",sa=(Gr(Xi={},ia,"fire-core"),Gr(Xi,"@firebase/app-compat","fire-core-compat"),Gr(Xi,"@firebase/analytics","fire-analytics"),Gr(Xi,"@firebase/analytics-compat","fire-analytics-compat"),Gr(Xi,"@firebase/app-check","fire-app-check"),Gr(Xi,"@firebase/app-check-compat","fire-app-check-compat"),Gr(Xi,"@firebase/auth","fire-auth"),Gr(Xi,"@firebase/auth-compat","fire-auth-compat"),Gr(Xi,"@firebase/database","fire-rtdb"),Gr(Xi,"@firebase/database-compat","fire-rtdb-compat"),Gr(Xi,"@firebase/functions","fire-fn"),Gr(Xi,"@firebase/functions-compat","fire-fn-compat"),Gr(Xi,"@firebase/installations","fire-iid"),Gr(Xi,"@firebase/installations-compat","fire-iid-compat"),Gr(Xi,"@firebase/messaging","fire-fcm"),Gr(Xi,"@firebase/messaging-compat","fire-fcm-compat"),Gr(Xi,"@firebase/performance","fire-perf"),Gr(Xi,"@firebase/performance-compat","fire-perf-compat"),Gr(Xi,"@firebase/remote-config","fire-rc"),Gr(Xi,"@firebase/remote-config-compat","fire-rc-compat"),Gr(Xi,"@firebase/storage","fire-gcs"),Gr(Xi,"@firebase/storage-compat","fire-gcs-compat"),Gr(Xi,"@firebase/firestore","fire-fst"),Gr(Xi,"@firebase/firestore-compat","fire-fst-compat"),Gr(Xi,"fire-js","fire-js"),Gr(Xi,"firebase","fire-js-all"),Xi),ca=new Map,la=new Map;function fa(e,t){try{e.container.addComponent(t)}catch(NO){oa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),NO)}}function ha(e,t){e.container.addOrOverwriteComponent(t)}function da(e){var t=e.name;if(la.has(t))return oa.debug("There were multiple attempts to register component ".concat(t,".")),!1;la.set(t,e);var n,r=$r(ca.values());try{for(r.s();!(n=r.n()).done;){fa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function va(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua;pa(e,t).clearInstance(n)}function ma(){la.clear()}var ya=(Gr($i={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Gr($i,"bad-app-name","Illegal App name: '{$appName}"),Gr($i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Gr($i,"app-deleted","Firebase App named '{$appName}' already deleted"),Gr($i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Gr($i,"invalid-log-argument","First argument to `onLog` must be null or a function."),Gr($i,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Gr($i,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Gr($i,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Gr($i,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),$i),ga=new xi("app","Firebase",ya),ka=function(){function e(t,n,r){var i=this;Yr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",(function(){return i}),"PUBLIC"))}return Xr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}]),e}(),ba="9.6.11";function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ua,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ga.create("bad-app-name",{appName:String(i)});var a=ca.get(i);if(a){if(Si(e,a.options)&&Si(r,a.config))return a;throw ga.create("duplicate-app",{appName:i})}var o,u=new Yi(i),s=$r(la.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ka(e,r,u);return ca.set(i,l),l}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=ca.get(e);if(!t)throw ga.create("no-app",{appName:e});return t}function xa(){return Array.from(ca.values())}function Ia(e){return Ea.apply(this,arguments)}function Ea(){return(Ea=Lr(Br.mark((function e(t){var n;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ca.has(n)){e.next=6;break}return ca.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t,n){var r,i=null!==(r=sa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oa.warn(u.join(" "))}da(new qi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Sa(e,t){if(null!==e&&"function"!==typeof e)throw ga.create("invalid-log-argument");!function(e,t){var n,r=$r(Qi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ji[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Gi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ca(e){var t;t=e,Qi.forEach((function(e){e.setLogLevel(t)}))}var Aa="firebase-heartbeat-store",Na=null;function Oa(){var e,t,n;return Na||(Na=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Aa)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Fi(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Fi(a.result),e.oldVersion,e.newVersion,new Ui(a.transaction))}}catch(NO){i("Error opening indexedDB: ".concat(NO.message))}}))).catch((function(e){throw ga.create("storage-open",{originalErrorMessage:e.message})}))),Na}function Ra(e){return Pa.apply(this,arguments)}function Pa(){return Pa=Lr(Br.mark((function e(t){var n;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oa();case 3:return n=e.sent,e.abrupt("return",n.transaction(Aa).objectStore(Aa).get(Ma(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ga.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pa.apply(this,arguments)}function Da(e,t){return La.apply(this,arguments)}function La(){return La=Lr(Br.mark((function e(t,n){var r,i,a;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oa();case 3:return r=e.sent,i=r.transaction(Aa,"readwrite"),a=i.objectStore(Aa),e.next=8,a.put(n,Ma(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ga.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),La.apply(this,arguments)}function Ma(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fa=function(){function e(t){var n=this;Yr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new za(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Xr(e,[{key:"triggerHeartbeat",value:function(){var e=Lr(Br.mark((function e(){var t,n,r;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ua(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Lr(Br.mark((function e(){var t,n,r,i,a;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ua(),n=Va(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=li(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ua(){return(new Date).toISOString().substring(0,10)}function Va(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$r(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ja,Ba,za=function(){function e(t){Yr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Xr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Lr(Br.mark((function e(){return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Lr(Br.mark((function e(){var t;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ra(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Lr(Br.mark((function e(t){var n,r;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Da(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Lr(Br.mark((function e(t){var n,r;return Br.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Da(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(zi(r.heartbeats),zi(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qa(e){return li(JSON.stringify({version:2,heartbeats:e})).length}ja="",da(new qi("platform-logger",(function(e){return new ra(e)}),"PRIVATE")),da(new qi("heartbeat",(function(e){return new Fa(e)}),"PRIVATE")),Ta(ia,aa,ja),Ta(ia,aa,"esm2017"),Ta("fire-js","");var Wa=function(){function e(t,n){var r=this;Yr(this,e),this._delegate=t,this.firebase=n,fa(t,new qi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Xr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ia(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ha(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ha=(Gr(Ba={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Gr(Ba,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ba),Ka=new xi("app-compat","Firebase",Ha);var Ga=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ti(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ta,setLogLevel:Ca,onLog:Sa,apps:null,SDK_VERSION:ba,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(da(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ka.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&hi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ti(n,e=e||ua))throw Ka.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){hi(n,e)},createSubscribe:Ri,ErrorFactory:xi,deepExtend:hi}),n}(),Ya=new na("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ya.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qa=self.firebase.SDK_VERSION;Qa&&Qa.indexOf("LITE")>=0&&Ya.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xa=Ga;!function(e){Ta("@firebase/app-compat","0.1.22",e)}();function $a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ti(e)););return e}function Ja(){return Ja="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=$a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ja.apply(this,arguments)}Xa.registerVersion("firebase","9.6.11","app-compat");function Za(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var eo;Object.create;var to="facebook.com",no="github.com",ro="google.com",io="password",ao="twitter.com",oo="EMAIL_SIGNIN",uo="PASSWORD_RESET",so="RECOVER_EMAIL",co="REVERT_SECOND_FACTOR_ADDITION",lo="VERIFY_AND_CHANGE_EMAIL",fo="VERIFY_EMAIL";function ho(){return Gr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var po=function(){var e;return Gr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Gr(e,"argument-error",""),Gr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Gr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Gr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Gr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Gr(e,"cordova-not-ready","Cordova framework is not ready."),Gr(e,"cors-unsupported","This browser is not supported."),Gr(e,"credential-already-in-use","This credential is already associated with a different user account."),Gr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Gr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Gr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Gr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Gr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Gr(e,"email-already-in-use","The email address is already in use by another account."),Gr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Gr(e,"expired-action-code","The action code has expired."),Gr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Gr(e,"internal-error","An internal AuthError has occurred."),Gr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Gr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Gr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Gr(e,"invalid-auth-event","An internal AuthError has occurred."),Gr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Gr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Gr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Gr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Gr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Gr(e,"invalid-email","The email address is badly formatted."),Gr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Gr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Gr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Gr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Gr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Gr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Gr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Gr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Gr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Gr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Gr(e,"wrong-password","The password is invalid or the user does not have a password."),Gr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Gr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Gr(e,"invalid-provider-id","The specified provider ID is invalid."),Gr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Gr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Gr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Gr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Gr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Gr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Gr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Gr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Gr(e,"missing-continue-uri","A continue URL must be provided in the request."),Gr(e,"missing-iframe-start","An internal AuthError has occurred."),Gr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Gr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Gr(e,"missing-multi-factor-info","No second factor identifier is provided."),Gr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Gr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Gr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Gr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Gr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Gr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Gr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Gr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Gr(e,"no-auth-event","An internal AuthError has occurred."),Gr(e,"no-such-provider","User was not linked to an account with the given provider."),Gr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Gr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Gr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Gr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Gr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Gr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Gr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Gr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Gr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Gr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Gr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Gr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Gr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Gr(e,"timeout","The operation has timed out."),Gr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Gr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Gr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Gr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Gr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Gr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Gr(e,"unverified-email","The operation requires a verified email."),Gr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Gr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Gr(e,"user-disabled","The user account has been disabled by an administrator."),Gr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Gr(e,"user-signed-out",""),Gr(e,"weak-password","The password must be 6 characters long or more."),Gr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Gr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vo=ho,mo=new xi("auth","Firebase",ho()),yo=new na("@firebase/auth");function go(e){if(yo.logLevel<=Gi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yo.error.apply(yo,["Auth (".concat(ba,"): ").concat(e)].concat(n))}}function ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xo.apply(void 0,[e].concat(n))}function bo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xo.apply(void 0,[e].concat(n))}function wo(e,t,n){var r=Object.assign(Object.assign({},vo()),Gr({},t,n));return new xi("auth","Firebase",r).create(t,{appName:e.name})}function _o(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ko(e,"argument-error"),wo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=zi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(zi(o)))}return mo.create.apply(mo,[e].concat(n))}function Io(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xo.apply(void 0,[t].concat(r))}}function Eo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw go(t),new Error(t)}function To(e,t){e||Eo(t)}var So=new Map;function Co(e){To(e instanceof Function,"Expected a class definition");var t=So.get(e);return t?(To(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,So.set(e,t),t)}function Ao(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function No(){return"http:"===Oo()||"https:"===Oo()}function Oo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ro=function(){function e(t,n){Yr(this,e),this.shortDelay=t,this.longDelay=n,To(n>t,"Short delay should be less than long delay!"),this.isMobile=mi()||ki()}return Xr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(No()||gi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Po(e,t){To(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Do=function(){function e(){Yr(this,e)}return Xr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Lo=(Gr(eo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Gr(eo,"MISSING_CUSTOM_TOKEN","internal-error"),Gr(eo,"INVALID_IDENTIFIER","invalid-email"),Gr(eo,"MISSING_CONTINUE_URI","internal-error"),Gr(eo,"INVALID_PASSWORD","wrong-password"),Gr(eo,"MISSING_PASSWORD","internal-error"),Gr(eo,"EMAIL_EXISTS","email-already-in-use"),Gr(eo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Gr(eo,"INVALID_IDP_RESPONSE","invalid-credential"),Gr(eo,"INVALID_PENDING_TOKEN","invalid-credential"),Gr(eo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Gr(eo,"MISSING_REQ_TYPE","internal-error"),Gr(eo,"EMAIL_NOT_FOUND","user-not-found"),Gr(eo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Gr(eo,"EXPIRED_OOB_CODE","expired-action-code"),Gr(eo,"INVALID_OOB_CODE","invalid-action-code"),Gr(eo,"MISSING_OOB_CODE","internal-error"),Gr(eo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Gr(eo,"INVALID_ID_TOKEN","invalid-user-token"),Gr(eo,"TOKEN_EXPIRED","user-token-expired"),Gr(eo,"USER_NOT_FOUND","user-token-expired"),Gr(eo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Gr(eo,"INVALID_CODE","invalid-verification-code"),Gr(eo,"INVALID_SESSION_INFO","invalid-verification-id"),Gr(eo,"INVALID_TEMPORARY_PROOF","invalid-credential"),Gr(eo,"MISSING_SESSION_INFO","missing-verification-id"),Gr(eo,"SESSION_EXPIRED","code-expired"),Gr(eo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Gr(eo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Gr(eo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Gr(eo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Gr(eo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Gr(eo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Gr(eo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Gr(eo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Gr(eo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Gr(eo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Gr(eo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),eo),Mo=new Ro(3e4,6e4);function Fo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Uo(e,t,n,r){return Vo.apply(this,arguments)}function Vo(){return Vo=Lr(zr().mark((function e(t,n,r,i){var a,o=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",jo(t,a,Lr(zr().mark((function e(){var a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ai(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Do.fetch()(Wo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function jo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Lo),n),e.prev=2,a=new Ho(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ko(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=jr(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ko(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Ko(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw wo(t,d,h);case 30:ko(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof _i)){e.next=37;break}throw e.t0;case 37:ko(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function zo(e,t,n,r){return qo.apply(this,arguments)}function qo(){return qo=Lr(zr().mark((function e(t,n,r,i){var a,o,u=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Uo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ko(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Wo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Po(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ho=function(){function e(t){var n=this;Yr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bo(n.auth,"network-request-failed"))}),Mo.get())}))}return Xr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ko(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bo(e,t,r);return i.customData._tokenResponse=n,i}function Go(e,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return Jo.apply(this,arguments)}function Jo(){return(Jo=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NO){}}function eu(){return eu=Lr(zr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Io((a=nu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Zo(tu(a.auth_time)),issuedAtTime:Zo(tu(a.iat)),expirationTime:Zo(tu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e){return 1e3*Number(e)}function nu(e){var t=jr(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return go("JWT malformed, contained fewer than 3 sections"),null;try{var a=fi(r);return a?JSON.parse(a):(go("Failed to decode base64 JWT payload"),null)}catch(NO){return go("Caught error parsing JWT payload as JSON",NO),null}}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=Lr(zr().mark((function e(t,n){var r=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _i&&au(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),iu.apply(this,arguments)}function au(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ou=function(){function e(t){Yr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Xr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),uu=function(){function e(t,n){Yr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Xr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function su(e){return cu.apply(this,arguments)}function cu(){return cu=Lr(zr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ru(t,$o(r,{idToken:i}));case 6:Io(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?hu(o.providerUserInfo):[],s=fu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return(lu=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,su(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(zi(n),zi(t))}function hu(e){return e.map((function(e){var t=e.providerId,n=Za(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t,{},Lr(zr().mark((function e(){var r,i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Do.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vu=function(){function e(){Yr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Xr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Io(e.idToken,"internal-error"),Io("undefined"!==typeof e.idToken,"internal-error"),Io("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nu(e);return Io(t,"internal-error"),Io("undefined"!==typeof t.exp,"internal-error"),Io("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Lr(zr().mark((function e(t){var n,r=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Io(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,du(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Eo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Io("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Io("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Io("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mu(e,t){Io("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yu=function(){function e(t){Yr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Za(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ou(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?zi(a.providerData):[],this.metadata=new uu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Xr(e,[{key:"getIdToken",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Io(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return eu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return lu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Io(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Io(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Lr(zr().mark((function e(t){var n,r,i=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,su(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ru(this,Go(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Io(k&&x,t,"internal-error");var I=vu.fromJSON(this.name,x);Io("string"===typeof k,t,"internal-error"),mu(f,t.name),mu(h,t.name),Io("boolean"===typeof b,t,"internal-error"),Io("boolean"===typeof w,t,"internal-error"),mu(d,t.name),mu(p,t.name),mu(v,t.name),mu(m,t.name),mu(y,t.name),mu(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Lr(zr().mark((function t(n,r){var i,a,o,u=arguments;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new vu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,su(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),gu=function(){function e(){Yr(this,e),this.type="NONE",this.storage={}}return Xr(e,[{key:"_isAvailable",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gu.type="NONE";var ku=gu;function bu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wu=function(){function e(t,n,r){Yr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bu(this.userKey,a.apiKey,o),this.fullPersistenceKey=bu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Xr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Lr(zr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Co(ku),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Co(ku),u=bu(i,n.config.apiKey,n.name),s=null,c=$r(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=yu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _u(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cu(t))return"Blackberry";if(Au(t))return"Webos";if(Iu(t))return"Safari";if((t.includes("chrome/")||Eu(t))&&!t.includes("edge/"))return"Chrome";if(Su(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/firefox\//i.test(e)}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/crios\//i.test(e)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/iemobile/i.test(e)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/android/i.test(e)}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/blackberry/i.test(e)}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/webos/i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/iphone|ipad|ipod/i.test(e)}function Ou(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Nu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ru(){return bi()&&10===document.documentMode}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Nu(e)||Su(e)||Au(e)||Cu(e)||/windows phone/i.test(e)||Tu(e)}function Du(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_u(vi());break;case"Worker":t="".concat(_u(vi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ba,"/").concat(r)}var Lu=function(){function e(t,n,r){Yr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fu(this),this.idTokenSubscription=new Fu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Xr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Co(t)),this._initializationPromise=this.queue(Lr(zr().mark((function r(){var i,a;return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Lr(zr().mark((function e(t){var n,r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Io(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,su(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Li(t):null)&&Io(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Lr(zr().mark((function e(t){var n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Io(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Co(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new xi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Io(n=t&&Co(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wu.create(this,[Co(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Lr(zr().mark((function e(t){var n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Io(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Io(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Du(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Lr(zr().mark((function e(){var t,n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mu(e){return Li(e)}var Fu=function(){function e(t){var n=this;Yr(this,e),this.auth=t,this.observer=null,this.addObserver=Ri((function(e){return n.observer=e}))}return Xr(e,[{key:"next",get:function(){return Io(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Uu(e,t,n){var r=Mu(e);Io(r._canInitEmulator,r,"emulator-config-failed"),Io(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Vu(t),o=function(e){var t=Vu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ju(r.substr(a.length+1))}}var o=jr(r.split(":"),2);return{host:o[0],port:ju(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ju(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Bu=function(){function e(t,n){Yr(this,e),this.providerId=t,this.signInMethod=n}return Xr(e,[{key:"toJSON",value:function(){return Eo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Eo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Eo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Eo("not implemented")}}]),e}();function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:resetPassword",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e,t){return Hu.apply(this,arguments)}function Hu(){return(Hu=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Gu.apply(this,arguments)}function Gu(){return(Gu=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:update",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPassword",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(e,t){return $u.apply(this,arguments)}function $u(){return($u=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:sendOobCode",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return(Zu=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return(ts=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return(as=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return(us=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return(cs=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ls=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Yr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Xr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",os(t,{email:this._email,oobCode:this._password}));case 5:ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ss(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Bu);function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithIdp",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ds=function(e){ei(n,e);var t=ai(n);function n(){var e;return Yr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Xr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ai(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ko("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Za(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Bu);function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:sendVerificationCode",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(){return(ms=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(){return(ys=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ko(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gs=Gr({},"USER_NOT_FOUND","user-not-found");function ks(){return(ks=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,r),gs));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bs=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Xr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ms.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ys.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ks.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Bu);var ws=function(){function e(t){var n,r,i,a,o,u;Yr(this,e);var s=Ni(Oi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Io(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Xr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ni(Oi(e)).link,n=t?Ni(Oi(t)).deep_link_id:null,r=Ni(Oi(e)).deep_link_id;return(r?Ni(Oi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ET){return null}}}]),e}();var _s=function(){function e(){Yr(this,e),this.providerId=e.PROVIDER_ID}return Xr(e,null,[{key:"credential",value:function(e,t){return ls._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ws.parseLink(t);return Io(n,"argument-error"),ls._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_s.PROVIDER_ID="password",_s.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xs=function(){function e(t){Yr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Xr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Is=function(e){ei(n,e);var t=ai(n);function n(){var e;return Yr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Xr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return zi(this.scopes)}}]),n}(xs),Es=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Io(e.idToken||e.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Io("providerId"in t&&"signInMethod"in t,"argument-error"),ds._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(NO){return null}}}]),n}(Is),Ts=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.call(this,"facebook.com")}return Xr(n,null,[{key:"credential",value:function(e){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ET){return null}}}]),n}(Is);Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ts.PROVIDER_ID="facebook.com";var Ss=function(e){ei(n,e);var t=ai(n);function n(){var e;return Yr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Xr(n,null,[{key:"credential",value:function(e,t){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ET){return null}}}]),n}(Is);Ss.GOOGLE_SIGN_IN_METHOD="google.com",Ss.PROVIDER_ID="google.com";var Cs=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.call(this,"github.com")}return Xr(n,null,[{key:"credential",value:function(e){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ET){return null}}}]),n}(Is);Cs.GITHUB_SIGN_IN_METHOD="github.com",Cs.PROVIDER_ID="github.com";var As=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Xr(n,[{key:"_getIdTokenResponse",value:function(e){return fs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Bu),Ns=function(e){ei(n,e);var t=ai(n);function n(e){return Yr(this,n),Io(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Xr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=As.fromJSON(e);return Io(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return As._create(r,n)}catch(NO){return null}}}]),n}(xs),Os=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.call(this,"twitter.com")}return Xr(n,null,[{key:"credential",value:function(e,t){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ET){return null}}}]),n}(Is);function Rs(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signUp",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Os.TWITTER_SIGN_IN_METHOD="twitter.com",Os.PROVIDER_ID="twitter.com";var Ds=function(){function e(t){Yr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Xr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Lr(zr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ls(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Lr(zr().mark((function t(n,r,i){var a;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ls(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ls(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ms(){return Ms=Lr(zr().mark((function e(t){var n,r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ds({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Rs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ds._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}var Fs=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a){var o,u;return Yr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Jr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Xr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(_i);function Us(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fs._fromErrorAndOperation(e,n,t,r);throw n}))}function Vs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function js(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ws(!0,r,n);case 3:return e.t0=Qo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Vs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return qs=Lr(zr().mark((function e(t,n){var r,i,a=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ru,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ds._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ws(e,t,n){return Hs.apply(this,arguments)}function Hs(){return(Hs=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(n);case 2:i=Vs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Io(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ru(t,Us(i,a,n,t),r);case 6:return Io((o=e.sent).idToken,i,"internal-error"),Io(u=nu(o.idToken),i,"internal-error"),s=u.sub,Io(t.uid===s,i,"user-mismatch"),e.abrupt("return",Ds._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ko(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Gs.apply(this,arguments)}function Ys(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=Lr(zr().mark((function e(t,n){var r,i,a,o,u=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Us(t,i,n);case 4:return a=e.sent,e.next=7,Ds._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Xs(e,t){return $s.apply(this,arguments)}function $s(){return($s=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(Mu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return(Zs=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ws(!1,r,n.providerId);case 3:return e.abrupt("return",zs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return(tc=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(Li(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return(rc=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithCustomToken",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(){return(ic=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mu(t),e.next=3,nc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ds._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ac=function(){function e(t,n){Yr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Xr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oc._fromServerResponse(e,t):ko(e,"internal-error")}}]),e}(),oc=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Xr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ac);function uc(e,t,n){var r;Io((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Io("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Io(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Io(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function sc(){return(sc=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),a={requestType:"PASSWORD_RESET",email:n},r&&uc(i,a,r),e.next=5,es(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(){return(cc=Lr(zr().mark((function e(t,n,r){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(Li(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(){return(lc=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Li(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,zu(r,{oobCode:n});case 3:i=e.sent,Io(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Io(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Io(i.mfaInfo,r,"internal-error");case 13:Io(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ac._fromServerResponse(Mu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(){return(dc=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(Li(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t,n){return vc.apply(this,arguments)}function vc(){return(vc=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),e.next=3,Rs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ds._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(){return(mc=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),a={requestType:"EMAIL_SIGNIN",email:n},Io(r.handleCodeInApp,i,"argument-error"),r&&uc(i,a,r),e.next=6,ns(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(){return(yc=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),Io((a=_s.credentialWithLink(n,r||Ao()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Xs(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return(kc=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:createAuthUri",Fo(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(){return(bc=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=No()?Ao():"http://localhost",i={identifier:n,continueUri:r},e.next=4,gc(Li(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(){return(wc=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&uc(r.auth,a,n),e.next=8,Ju(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(){return(_c=Lr(zr().mark((function e(t,n,r){var i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&uc(i.auth,o,r),e.next=8,is(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(){return(Ec=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s,c;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Li(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ru(a,xc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t,n){return Sc.apply(this,arguments)}function Sc(){return(Sc=Lr(zr().mark((function e(t,n,r){var i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ru(t,Wu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cc=Xr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ac=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a){var o;return Yr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Xr(n)}(Cc),Nc=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"facebook.com",r)}return Xr(n)}(Cc),Oc=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Xr(n)}(Ac),Rc=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"google.com",r)}return Xr(n)}(Cc),Pc=function(e){ei(n,e);var t=ai(n);function n(e,r,i){return Yr(this,n),t.call(this,e,"twitter.com",r,i)}return Xr(n)}(Ac);function Dc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Cc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Nc(a,i);case"github.com":return new Oc(a,i);case"google.com":return new Rc(a,i);case"twitter.com":return new Pc(a,i,e.screenName||null);case"custom":case"anonymous":return new Cc(a,null);default:return new Cc(a,r,i)}}(n)}var Lc=function(){function e(t,n){Yr(this,e),this.type=t,this.credential=n}return Xr(e,[{key:"toJSON",value:function(){return{multiFactorSession:Gr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Mc=function(){function e(t,n,r){Yr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Xr(e,[{key:"resolveSignIn",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Mu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ac._fromServerResponse(r,e)}));Io(i.mfaPendingCredential,r,"internal-error");var o=Lc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Lr(zr().mark((function e(t){var a,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ds._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Io(n.user,r,"internal-error"),e.abrupt("return",Ds._forOperation(n.user,n.operationType,u));case 17:ko(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fc(e,t){return Uo(e,"POST","/v2/accounts/mfaEnrollment:start",Fo(e,t))}var Uc=function(){function e(t){var n=this;Yr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ac._fromServerResponse(t.auth,e)})))}))}return Xr(e,[{key:"getSession",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ru(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Lr(zr().mark((function e(t){var n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ru(this.user,Uo(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Fo(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Vc=new WeakMap;var jc="__sak",Bc=function(){function e(t,n){Yr(this,e),this.storageRetriever=t,this.type=n}return Xr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch(ET){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var zc=function(e){ei(n,e);var t=ai(n);function n(){var e;return Yr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vi();return Iu(e)||Nu(e)}()&&function(){try{return!(!window||window===window.top)}catch(NO){return!1}}(),e.fallbackToPolling=Pu(),e._shouldAllowMigration=!0,e}return Xr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ru()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Lr(zr().mark((function e(t,r){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(ti(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lr(zr().mark((function e(t){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(ti(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(ti(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Bc);zc.type="LOCAL";var qc=zc,Wc=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Xr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Bc);Wc.type="SESSION";var Hc=Wc;function Kc(e){return Promise.all(e.map(function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Gc=function(){function e(t){Yr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Xr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Lr(zr().mark((function e(t){var n,r,i,a,o,u,s,c;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Kc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Yc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gc.receivers=[];var Qc=function(){function e(t){Yr(this,e),this.target=t,this.handlers=new Set}return Xr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Yc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Xc(){return window}function $c(){return"undefined"!==typeof Xc().WorkerGlobalScope&&"function"===typeof Xc().importScripts}function Jc(){return Zc.apply(this,arguments)}function Zc(){return(Zc=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function el(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var tl="firebaseLocalStorageDb",nl="firebaseLocalStorage",rl="fbase_key",il=function(){function e(t){Yr(this,e),this.request=t}return Xr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function al(e,t){return e.transaction([nl],t?"readwrite":"readonly").objectStore(nl)}function ol(){var e=indexedDB.deleteDatabase(tl);return new il(e).toPromise()}function ul(){var e=indexedDB.open(tl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(nl,{keyPath:rl})}catch(NO){n(NO)}})),e.addEventListener("success",Lr(zr().mark((function n(){var r;return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(nl)){n.next=12;break}return r.close(),n.next=5,ol();case 5:return n.t0=t,n.next=8,ul();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function sl(e,t,n){return cl.apply(this,arguments)}function cl(){return cl=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=al(t,!0).put((Gr(i={},rl,n),Gr(i,"value",r),i)),e.abrupt("return",new il(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return fl=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=al(t,!1).get(n),e.next=3,new il(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(e,t){var n=al(e,!0).delete(t);return new il(n).toPromise()}var dl=function(){function e(){Yr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Xr(e,[{key:"_openDb",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ul();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$c()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Lr(zr().mark((function e(){var t=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Gc._getInstance($c()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Lr(zr().mark((function e(n,r){var i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Lr(zr().mark((function e(){var t,n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Qc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&el()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ul();case 5:return t=e.sent,e.next=8,sl(t,jc,"1");case 8:return e.next=10,hl(t,jc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Lr(zr().mark((function e(t,n){var r=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return sl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ll(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Lr(zr().mark((function e(t){var n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return hl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=al(e,!1).getAll();return new il(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$r(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();dl.type="LOCAL";var pl=dl;function vl(e,t){return Uo(e,"POST","/v2/accounts/mfaSignIn:start",Fo(e,t))}function ml(e){return yl.apply(this,arguments)}function yl(){return(yl=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function kl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var bl=1e12,wl=function(){function e(t){Yr(this,e),this.auth=t,this.counter=bl,this._widgets=new Map}return Xr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new _l(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||bl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||bl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||bl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_l=function(){function e(t,n,r){var i=this;Yr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Io(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Xr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(NO){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(NO){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var xl=kl("rcb"),Il=new Ro(3e4,6e4),El="https://www.google.com/recaptcha/api.js?",Tl=function(){function e(){Yr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xc().grecaptcha}return Xr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Io(Sl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Xc().grecaptcha):new Promise((function(r,i){var a=Xc().setTimeout((function(){i(bo(e,"network-request-failed"))}),Il.get());Xc()[xl]=function(){Xc().clearTimeout(a),delete Xc()[xl];var o=Xc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bo(e,"internal-error"))},gl("".concat(El,"?").concat(Ai({onload:xl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Xc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Sl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Cl=function(){function e(){Yr(this,e)}return Xr(e,[{key:"load",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Al="recaptcha",Nl={theme:"light",type:"image"},Ol=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Nl),r=arguments.length>2?arguments[2]:void 0;Yr(this,e),this.parameters=n,this.type=Al,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mu(r),this.isInvisible="invisible"===this.parameters.size,Io("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Io(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cl:new Tl,this.validateStartingState()}return Xr(e,[{key:"verify",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(NO){return Promise.reject(NO)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Io(!this.parameters.sitekey,this.auth,"argument-error"),Io(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Io("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Xc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Io(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Lr(zr().mark((function e(){var t,n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Io(No()&&!$c(),this.auth,"internal-error"),e.next=3,Rl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ml(this.auth);case 8:Io(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Io(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Rl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Pl=function(){function e(t,n){Yr(this,e),this.verificationId=t,this.onConfirmation=n}return Xr(e,[{key:"confirm",value:function(e){var t=bs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Dl(){return(Dl=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),e.next=3,Ul(i,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new Pl(a,(function(e){return Xs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t,n){return Ml.apply(this,arguments)}function Ml(){return(Ml=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Ws(!1,i,"phone");case 3:return e.next=5,Ul(i.auth,n,Li(r));case 5:return a=e.sent,e.abrupt("return",new Pl(a,(function(e){return Js(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(){return(Fl=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Ul(i.auth,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new Pl(a,(function(e){return ec(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t,n){return Vl.apply(this,arguments)}function Vl(){return Vl=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Io("string"===typeof a,t,"argument-error"),Io(r.type===Al,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Io("enroll"===u.type,t,"internal-error"),e.next=13,Fc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Io("signin"===u.type,t,"internal-error"),Io(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,vl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ps(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vl.apply(this,arguments)}function jl(){return(jl=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs(Li(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bl=function(){function e(t){Yr(this,e),this.providerId=e.PROVIDER_ID,this.auth=Mu(t)}return Xr(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ul(this.auth,e,Li(t))}}],[{key:"credential",value:function(e,t){return bs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bs._fromTokenResponse(n,r):null}}]),e}();function zl(e,t){return t?Co(t):(Io(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bl.PROVIDER_ID="phone",Bl.PHONE_SIGN_IN_METHOD="phone";var ql=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Xr(n,[{key:"_getIdTokenResponse",value:function(e){return fs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Bu);function Wl(e){return Ys(e.auth,new ql(e),e.bypassAuthState)}function Hl(e){var t=e.auth,n=e.user;return Io(n,t,"internal-error"),Ks(n,new ql(e),e.bypassAuthState)}function Kl(e){return Gl.apply(this,arguments)}function Gl(){return(Gl=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Io(r=t.user,n,"internal-error"),e.abrupt("return",zs(r,new ql(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Yr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Xr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Lr(zr().mark((function t(n,r){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Lr(zr().mark((function e(t){var n,r,i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wl;case"linkViaPopup":case"linkViaRedirect":return Kl;case"reauthViaPopup":case"reauthViaRedirect":return Hl;default:ko(this.auth,"internal-error")}}},{key:"resolve",value:function(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ql=new Ro(2e3,1e4);function Xl(e,t,n){return $l.apply(this,arguments)}function $l(){return($l=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),_o(t,n,xs),a=zl(i,r),o=new tf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(){return(Jl=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o((i=Li(t)).auth,n,xs),a=zl(i.auth,r),o=new tf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t,n){return ef.apply(this,arguments)}function ef(){return(ef=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o((i=Li(t)).auth,n,xs),a=zl(i.auth,r),o=new tf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tf=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a,o){var u;return Yr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Jr(u),u}return Xr(n,[{key:"executeNotNull",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Io(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lr(zr().mark((function e(){var t,n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To(1===this.filter.length,"Popup operations only handle one event"),t=Yc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ql.get())}()}}]),n}(Yl);tf.currentPopupAction=null;var nf=new Map,rf=function(e){ei(n,e);var t=ai(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Yr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Xr(n,[{key:"execute",value:function(){var e=Lr(zr().mark((function e(){var t,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=nf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,af(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ja(ti(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:nf.set(this.auth._key(),t);case 21:return this.bypassAuthState||nf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Lr(zr().mark((function e(t){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ja(ti(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ja(ti(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yl);function af(e,t){return of.apply(this,arguments)}function of(){return(of=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lf(n),i=cf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return(sf=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cf(t)._set(lf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e){return Co(e._redirectPersistence)}function lf(e){return bu("pendingRedirect",e.config.apiKey,e.name)}function ff(e,t,n){return function(e,t,n){return hf.apply(this,arguments)}(e,t,n)}function hf(){return(hf=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),_o(t,n,xs),a=zl(i,r),e.next=5,uf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t,n){return function(e,t,n){return pf.apply(this,arguments)}(e,t,n)}function pf(){return(pf=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o((i=Li(t)).auth,n,xs),a=zl(i.auth,r),e.next=5,uf(a,i.auth);case 5:return e.next=7,wf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(e,t,n){return function(e,t,n){return mf.apply(this,arguments)}(e,t,n)}function mf(){return(mf=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o((i=Li(t)).auth,n,xs),a=zl(i.auth,r),e.next=5,Ws(!1,i,n.providerId);case 5:return e.next=7,uf(a,i.auth);case 7:return e.next=9,wf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu(t)._initializationPromise;case 2:return e.abrupt("return",kf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(e,t){return bf.apply(this,arguments)}function bf(){return bf=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Mu(t),a=zl(i,n),o=new rf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(e){return _f.apply(this,arguments)}function _f(){return(_f=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xf=function(){function e(t){Yr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Xr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ef(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ef(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(If(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(If(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function If(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ef(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Tf(e){return Sf.apply(this,arguments)}function Sf(){return Sf=Lr(zr().mark((function e(t){var n,r=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Uo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}var Cf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Af=/^https?/;function Nf(){return(Nf=Lr(zr().mark((function e(t){var n,r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tf(t);case 4:n=e.sent,r=n.authorizedDomains,i=$r(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Of(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ko(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Of(e){var t=Ao(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Af.test(r))return!1;if(Cf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rf=new Ro(3e4,6e4);function Pf(){var e=Xc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=zi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Df=null;function Lf(e){return Df=Df||function(e){return new Promise((function(t,n){var r,i,a;function o(){Pf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Pf(),n(bo(e,"network-request-failed"))},timeout:Rf.get()})}if(null===(i=null===(r=Xc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Xc().gapi)||void 0===a?void 0:a.load)){var u=kl("iframefcb");return Xc()[u]=function(){gapi.load?o():n(bo(e,"network-request-failed"))},gl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Df=null,e}))}(e),Df}var Mf=new Ro(5e3,15e3),Ff={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vf(e){var t=e.config;Io(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Po(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ba},i=Uf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ai(r).slice(1))}function jf(e){return Bf.apply(this,arguments)}function Bf(){return Bf=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(t);case 2:return n=e.sent,Io(r=Xc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Vf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ff,dontclear:!0},(function(e){return new Promise(function(){var n=Lr(zr().mark((function n(r,i){var a,o,u;return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Xc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bo(t,"network-request-failed"),o=Xc().setTimeout((function(){i(a)}),Mf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}var zf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qf="_blank",Wf="http://localhost",Hf=function(){function e(t){Yr(this,e),this.window=t,this.associatedEvent=null}return Xr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(NO){}}}]),e}();function Kf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},zf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=vi().toLowerCase();n&&(u=Eu(c)?qf:n),xu(c)&&(t=t||Wf,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=jr(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ou(c)&&"_self"!==u)return Gf(t||"",u),new Hf(null);var f=window.open(t||"",u,l);Io(f,e,"popup-blocked");try{f.focus()}catch(NO){}return new Hf(f)}function Gf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Yf="__/auth/handler",Qf="emulator/auth/handler";function Xf(e,t,n,r,i,a){Io(e.config.authDomain,e,"auth-domain-config-required"),Io(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ba,eventId:i};if(t instanceof xs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=jr(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Is){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yf);return Po(t,Qf)}(e),"?").concat(Ai(d).slice(1))}var $f="webStorageSupport",Jf=function(){function e(){Yr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hc,this._completeRedirectFn=kf}return Xr(e,[{key:"_openPopup",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){var a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Xf(t,n,r,Ao(),i),e.abrupt("return",Kf(t,o,Yc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Xf(t,n,r,Ao(),i),Xc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(To(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(t);case 2:return n=e.sent,r=new xf(t),n.register("authEvent",(function(e){return Io(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($f,{type:$f},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ko(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pu()||Iu()||Nu()}}]),e}(),Zf=Jf,eh=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this,"phone")).credential=e,r}return Xr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Uo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Uo(e,"POST","/v2/accounts/mfaSignIn:finalize",Fo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Yr(this,e),this.factorId=t}return Xr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Eo("unexpected MultiFactorSessionType")}}}]),e}()),th=function(){function e(){Yr(this,e)}return Xr(e,null,[{key:"assertion",value:function(e){return eh._fromCredential(e)}}]),e}();th.FACTOR_ID="phone";var nh,rh="@firebase/auth",ih="0.19.12",ah=function(){function e(t){Yr(this,e),this.auth=t,this.internalListeners=new Map}return Xr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Io(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function oh(){return window}nh="Browser",da(new qi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Io(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Io(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:nh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Du(nh)},i=new Lu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Co);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),da(new qi("auth-internal",(function(e){return function(e){return new ah(e)}(Mu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(rh,ih,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(nh)),Ta(rh,ih,"esm2017");function uh(e,t,n){return sh.apply(this,arguments)}function sh(){return sh=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oh(),o=a.BuildInfo,To(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ph(n.sessionId);case 4:return u=e.sent,s={},Nu()?s.ibi=o.packageName:Su()?s.apn=o.packageName:ko(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Xf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(){return(ch=Lr(zr().mark((function e(t){var n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oh(),r=n.BuildInfo,i={},Nu()?i.iosBundleId=r.packageName:Su()?i.androidPackageName=r.packageName:ko(t,"operation-not-supported-in-this-environment"),e.next=5,Tf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e){var t=oh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function fh(e,t,n){return hh.apply(this,arguments)}function hh(){return hh=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(bo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Su()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),hh.apply(this,arguments)}function dh(e){var t,n,r,i,a,o,u,s,c,l,f=oh();Io("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Io("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Io("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Io("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Io("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ph(e){return vh.apply(this,arguments)}function vh(){return(vh=Lr(zr().mark((function e(t){var n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e){if(To(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var yh=function(e){ei(n,e);var t=ai(n);function n(){var e;return Yr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Xr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ja(ti(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(xf);function gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:xh(),postBody:null,tenantId:e.tenantId,error:bo(e,"no-auth-event")}}function kh(e,t){return Ih()._set(Eh(e),t)}function bh(e){return wh.apply(this,arguments)}function wh(){return(wh=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ih()._get(Eh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ih()._remove(Eh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e,t){var n,r,i=function(e){var t=Th(e),n=t.link?decodeURIComponent(t.link):void 0,r=Th(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Th(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Th(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(NO){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?bo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ih(){return Co(qc)}function Eh(e){return bu("authEvent",e.config.apiKey,e.name)}function Th(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Mr(t=n)||Bi(t)||Ur(t)||Vr();r[0];return Ni(r.slice(1).join("?"))}var Sh=function(){function e(){Yr(this,e),this._redirectPersistence=Hc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kf}return Xr(e,[{key:"_initialize",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new yh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ko(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){var a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),nf.clear(),e.next=10,this._originValidation(t);case 10:return o=gh(t,r,i),e.next=13,kh(t,o);case 13:return e.next=15,uh(t,o,n);case 15:return u=e.sent,e.next=18,lh(u);case 18:return s=e.sent,e.abrupt("return",fh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ch.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=oh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bh(e);case 2:t.onEvent(Ah());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Lr(zr().mark((function n(r){var i,a;return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,bh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_h(i,r.url)),t.onEvent(a||Ah());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");oh().handleOpenURL=function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(NO){console.error(NO)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ch=Sh;function Ah(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bo("no-auth-event")}}function Nh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return!("file:"!==Nh()&&"ionic:"!==Nh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rh(){return bi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ph(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/Edge\/\d+/.test(e)}function Dh(){try{var e=self.localStorage,t=Yc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Rh()||Ph(e)}()||wi()}catch(NO){return Lh()&&wi()}return!1}function Lh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Mh(){return("http:"===Nh()||"https:"===Nh()||gi()||Oh())&&!(ki()||yi())&&Dh()&&!Lh()}function Fh(){return Oh()&&"undefined"!==typeof document}function Uh(){return Vh.apply(this,arguments)}function Vh(){return(Vh=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jh={LOCAL:"local",NONE:"none",SESSION:"session"},Bh=Io,zh="persistence";function qh(e,t){Bh(Object.values(jh).includes(t),e,"invalid-persistence-type"),ki()?Bh(t!==jh.SESSION,e,"unsupported-persistence-type"):yi()?Bh(t===jh.NONE,e,"unsupported-persistence-type"):Lh()?Bh(t===jh.NONE||t===jh.LOCAL&&wi(),e,"unsupported-persistence-type"):Bh(t===jh.NONE||Dh(),e,"unsupported-persistence-type")}function Wh(e){return Hh.apply(this,arguments)}function Hh(){return(Hh=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kh(),r=bu(zh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(NO){return null}}var Gh=Io,Yh=function(){function e(){Yr(this,e),this.browserResolver=Co(Zf),this.cordovaResolver=Co(Ch),this.underlyingResolver=null,this._redirectPersistence=Hc,this._completeRedirectFn=kf}return Xr(e,[{key:"_initialize",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Fh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Gh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Uh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qh(e){return e.unwrap()}function Xh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new td(e,function(e,t){var n,r=Li(e),i=t;return Io(t.customData.operationType,r,"argument-error"),Io(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Mc._fromError(r,i)}(e,t));else if(r){var i=$h(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $h(e){var t=(e instanceof _i?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof _i)&&"temporaryProof"in t&&"phoneNumber"in t)return Bl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===io)return null;switch(r){case ro:n=Ss;break;case to:n=Ts;break;case no:n=Cs;break;case ao:n=Os;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?As._create(r,u):ds._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Es(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof _i?n.credentialFromError(e):n.credentialFromResult(e)}function Jh(e,t){return t.catch((function(t){throw t instanceof _i&&Xh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$h(t)),additionalUserInfo:Dc(e),user:nd.getOrCreate(r)}}))}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return(ed=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Jh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var td=function(){function e(t,n){Yr(this,e),this.resolver=n,this.auth=t.wrapped()}return Xr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Jh(Qh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),nd=function(){function e(t){Yr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Li(e);return Vc.has(t)||Vc.set(t,Uc._fromUser(t)),Vc.get(t)}(t)}return Xr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jh(this.auth,Js(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zh(this.auth,Ll(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jh(this.auth,Zl(this._delegate,t,Yh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(Mu(this.auth));case 2:return e.abrupt("return",vf(this._delegate,t,Yh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jh(this.auth,ec(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Zh(this.auth,function(e,t,n){return Fl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Jh(this.auth,function(e,t,n){return Jl.apply(this,arguments)}(this._delegate,e,Yh))}},{key:"reauthenticateWithRedirect",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh(Mu(this.auth));case 2:return e.abrupt("return",df(this._delegate,t,Yh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return wc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Tc(Li(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Tc(Li(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return jl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ec.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _c.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();nd.USER_MAP=new WeakMap;var rd=Io,id=function(){function e(t,n){if(Yr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;rd(r,"invalid-api-key",{appName:t.name}),rd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Yh:void 0;this._delegate=n.initialize({options:{persistence:od(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(po),this.linkUnderlyingAuth()}return Xr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?nd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Uu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return lc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jh(this._delegate,pc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return bc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ws.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(Mh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yf(this._delegate,Yh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Jh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Mu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ad(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ad(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return sc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qh(this._delegate,t),e.t0=t,e.next=e.t0===jh.SESSION?4:e.t0===jh.LOCAL?6:e.t0===jh.NONE?11:13;break;case 4:return n=Hc,e.abrupt("break",14);case 6:return e.next=8,Co(pl)._isAvailable();case 8:return r=e.sent,n=r?pl:qc,e.abrupt("break",14);case 11:return n=ku,e.abrupt("break",14);case 13:return e.abrupt("return",ko("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Jh(this._delegate,function(e){return Ms.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Jh(this._delegate,Xs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Jh(this._delegate,function(e,t){return ic.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Jh(this._delegate,function(e,t,n){return Xs(Li(e),_s.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Jh(this._delegate,function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Zh(this._delegate,function(e,t,n){return Dl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(Mh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Jh(this._delegate,Xl(this._delegate,t,Yh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(Mh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Wh(this._delegate);case 3:return e.abrupt("return",ff(this._delegate,t,Yh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return dc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ad(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&nd.getOrCreate(e))},error:t,complete:n}}function od(e,t){var n=function(e,t){var n=Kh();if(!n)return[];var r=bu(zh,e,t);switch(n.getItem(r)){case jh.NONE:return[ku];case jh.LOCAL:return[pl,Hc];case jh.SESSION:return[Hc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(pl)||n.push(pl),"undefined"!==typeof window)for(var r=0,i=[qc,Hc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ku)||n.push(ku),n}id.Persistence=jh;var ud=function(){function e(){Yr(this,e),this.providerId="phone",this._delegate=new Bl(Qh(Xa.auth()))}return Xr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bl.credential(e,t)}}]),e}();ud.PHONE_SIGN_IN_METHOD=Bl.PHONE_SIGN_IN_METHOD,ud.PROVIDER_ID=Bl.PROVIDER_ID;var sd,cd=Io,ld=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xa.app();Yr(this,e),cd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ol(t,n,i.auth()),this.type=this._delegate.type}return Xr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(sd=Xa).INTERNAL.registerComponent(new qi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new id(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oo,PASSWORD_RESET:uo,RECOVER_EMAIL:so,REVERT_SECOND_FACTOR_ADDITION:co,VERIFY_AND_CHANGE_EMAIL:lo,VERIFY_EMAIL:fo}},EmailAuthProvider:_s,FacebookAuthProvider:Ts,GithubAuthProvider:Cs,GoogleAuthProvider:Ss,OAuthProvider:Es,SAMLAuthProvider:Ns,PhoneAuthProvider:ud,PhoneMultiFactorGenerator:th,RecaptchaVerifier:ld,TwitterAuthProvider:Os,Auth:id,AuthCredential:Bu,Error:_i}).setInstantiationMode("LAZY").setMultipleInstances(!1)),sd.registerVersion("@firebase/auth-compat","0.2.12");var fd,hd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},dd={},pd=pd||{},vd=hd||self;function md(){}function yd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kd="closure_uid_"+(1e9*Math.random()>>>0),bd=0;function wd(e,t,n){return e.call.apply(e.bind,arguments)}function _d(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xd(e,t,n){return(xd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wd:_d).apply(null,arguments)}function Id(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ed(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Td(){this.s=this.s,this.o=this.o}var Sd={};Td.prototype.s=!1,Td.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,kd)&&e[kd]||(e[kd]=++bd)}(this);delete Sd[e]}},Td.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ad=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Nd(e){return Array.prototype.concat.apply([],arguments)}function Od(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rd(e){return/^[\s\xa0]*$/.test(e)}var Pd,Dd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ld(e,t){return-1!=e.indexOf(t)}function Md(e,t){return e<t?-1:e>t?1:0}e:{var Fd=vd.navigator;if(Fd){var Ud=Fd.userAgent;if(Ud){Pd=Ud;break e}}Pd=""}function Vd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jd(e){var t={};for(var n in e)t[n]=e[n];return t}var Bd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bd.length;a++)n=Bd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qd(e){return qd[" "](e),e}qd[" "]=md;var Wd,Hd=Ld(Pd,"Opera"),Kd=Ld(Pd,"Trident")||Ld(Pd,"MSIE"),Gd=Ld(Pd,"Edge"),Yd=Gd||Kd,Qd=Ld(Pd,"Gecko")&&!(Ld(Pd.toLowerCase(),"webkit")&&!Ld(Pd,"Edge"))&&!(Ld(Pd,"Trident")||Ld(Pd,"MSIE"))&&!Ld(Pd,"Edge"),Xd=Ld(Pd.toLowerCase(),"webkit")&&!Ld(Pd,"Edge");function $d(){var e=vd.document;return e?e.documentMode:void 0}e:{var Jd="",Zd=function(){var e=Pd;return Qd?/rv:([^\);]+)(\)|;)/.exec(e):Gd?/Edge\/([\d\.]+)/.exec(e):Kd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xd?/WebKit\/(\S+)/.exec(e):Hd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zd&&(Jd=Zd?Zd[1]:""),Kd){var ep=$d();if(null!=ep&&ep>parseFloat(Jd)){Wd=String(ep);break e}}Wd=Jd}var tp,np={};function rp(){return function(e){var t=np;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dd(String(Wd)).split("."),n=Dd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Md(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Md(0==a[2].length,0==o[2].length)||Md(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vd.document&&Kd){var ip=$d();tp=ip||(parseInt(Wd,10)||void 0)}else tp=void 0;var ap=tp,op=function(){if(!vd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vd.addEventListener("test",md,t),vd.removeEventListener("test",md,t)}catch(n){}return e}();function up(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function sp(e,t){if(up.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qd){e:{try{qd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sp.Z.h.call(this)}}up.prototype.h=function(){this.defaultPrevented=!0},Ed(sp,up);var cp={2:"touch",3:"pen",4:"mouse"};sp.prototype.h=function(){sp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lp="closure_listenable_"+(1e6*Math.random()|0),fp=0;function hp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fp,this.ca=this.fa=!1}function dp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pp(e){this.src=e,this.g={},this.h=0}function vp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(dp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=mp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new hp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var yp="closure_lm_"+(1e6*Math.random()|0),gp={};function kp(e,t,n,r,i){if(r&&r.once)return wp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)kp(e,t[a],n,r,i);return null}return n=Cp(n),e&&e[lp]?e.N(t,n,gd(r)?!!r.capture:!!r,i):bp(e,t,n,!1,r,i)}function bp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=gd(i)?!!i.capture:!!i,u=Tp(e);if(u||(e[yp]=u=new pp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ep;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)op||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ip(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wp(e,t[a],n,r,i);return null}return n=Cp(n),e&&e[lp]?e.O(t,n,gd(r)?!!r.capture:!!r,i):bp(e,t,n,!0,r,i)}function _p(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_p(e,t[a],n,r,i);else r=gd(r)?!!r.capture:!!r,n=Cp(n),e&&e[lp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mp(a=e.g[t],n,r,i))&&(dp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Tp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mp(t,n,r,i)),(n=-1<e?t[e]:null)&&xp(n))}function xp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[lp])vp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ip(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tp(t))?(vp(n,e),0==n.h&&(n.src=null,t[yp]=null)):dp(e)}}}function Ip(e){return e in gp?gp[e]:gp[e]="on"+e}function Ep(e,t){if(e.ca)e=!0;else{t=new sp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xp(e),e=n.call(r,t)}return e}function Tp(e){return(e=e[yp])instanceof pp?e:null}var Sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cp(e){return"function"===typeof e?e:(e[Sp]||(e[Sp]=function(t){return e.handleEvent(t)}),e[Sp])}function Ap(){Td.call(this),this.i=new pp(this),this.P=this,this.I=null}function Np(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new up(t,e);else if(t instanceof up)t.target=t.target||e;else{var i=t;zd(t=new up(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Op(o,r,!0,t)&&i}if(i=Op(o=t.g=e,r,!0,t)&&i,i=Op(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Op(o=t.g=n[a],r,!1,t)&&i}function Op(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&vp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ed(Ap,Td),Ap.prototype[lp]=!0,Ap.prototype.removeEventListener=function(e,t,n,r){_p(this,e,t,n,r)},Ap.prototype.M=function(){if(Ap.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dp(n[r]);delete t.g[e],t.h--}}this.I=null},Ap.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ap.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rp=vd.JSON.stringify;function Pp(){var e=Bp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Dp,Lp=function(){function e(){Yr(this,e),this.h=this.g=null}return Xr(e,[{key:"add",value:function(e,t){var n=Mp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Mp=new(function(){function e(t,n){Yr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Xr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fp}),(function(e){return e.reset()})),Fp=function(){function e(){Yr(this,e),this.next=this.g=this.h=null}return Xr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Up(e){vd.setTimeout((function(){throw e}),0)}function Vp(e,t){Dp||function(){var e=vd.Promise.resolve(void 0);Dp=function(){e.then(zp)}}(),jp||(Dp(),jp=!0),Bp.add(e,t)}var jp=!1,Bp=new Lp;function zp(){for(var e;e=Pp();){try{e.h.call(e.g)}catch(n){Up(n)}var t=Mp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jp=!1}function qp(e,t){Ap.call(this),this.h=e||1,this.g=t||vd,this.j=xd(this.kb,this),this.l=Date.now()}function Wp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hp(e,t,n){if("function"===typeof e)n&&(e=xd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xd(e.handleEvent,e)}return 2147483647<Number(t)?-1:vd.setTimeout(e,t||0)}function Kp(e){e.g=Hp((function(){e.g=null,e.i&&(e.i=!1,Kp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ed(qp,Ap),(fd=qp.prototype).da=!1,fd.S=null,fd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Np(this,"tick"),this.da&&(Wp(this),this.start()))}},fd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fd.M=function(){qp.Z.M.call(this),Wp(this),delete this.g};var Gp=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Xr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Kp(this)}},{key:"M",value:function(){Ja(ti(n.prototype),"M",this).call(this),this.g&&(vd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Td);function Yp(e){Td.call(this),this.h=e,this.g={}}Ed(Yp,Td);var Qp=[];function Xp(e,t,n,r){Array.isArray(n)||(n&&(Qp[0]=n.toString()),n=Qp);for(var i=0;i<n.length;i++){var a=kp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $p(e){Vd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xp(e)}),e),e.g={}}function Jp(){this.g=!0}function Zp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Yp.prototype.M=function(){Yp.Z.M.call(this),$p(this)},Yp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jp.prototype.Aa=function(){this.g=!1},Jp.prototype.info=function(){};var ev={},tv=null;function nv(){return tv=tv||new Ap}function rv(e){up.call(this,ev.Ma,e)}function iv(e){var t=nv();Np(t,new rv(t,e))}function av(e,t){up.call(this,ev.STAT_EVENT,e),this.stat=t}function ov(e){var t=nv();Np(t,new av(t,e))}function uv(e,t){up.call(this,ev.Na,e),this.size=t}function sv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vd.setTimeout((function(){e()}),t)}ev.Ma="serverreachability",Ed(rv,up),ev.STAT_EVENT="statevent",Ed(av,up),ev.Na="timingevent",Ed(uv,up);var cv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fv(){}function hv(e){return e.h||(e.h=e.i())}function dv(){}fv.prototype.h=null;var pv,vv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mv(){up.call(this,"d")}function yv(){up.call(this,"c")}function gv(){}function kv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Yp(this),this.P=wv,e=Yd?125:void 0,this.W=new qp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}Ed(mv,up),Ed(yv,up),Ed(gv,fv),gv.prototype.g=function(){return new XMLHttpRequest},gv.prototype.i=function(){return{}},pv=new gv;var wv=45e3,_v={},xv={};function Iv(e,t,n){e.K=1,e.v=Gv(Bv(t)),e.s=n,e.U=!0,Ev(e,null)}function Ev(e,t){e.F=Date.now(),Av(e),e.A=Bv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),om(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bv,e.g=sy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gp(xd(e.Ia,e,e.g),e.O)),Xp(e.V,e.g,"readystatechange",e.gb),t=e.H?jd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),iv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Tv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Sv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cv(e,n))==xv){4==t&&(e.o=4,ov(14),i=!1),Zp(e.j,e.m,null,"[Incomplete Response]");break}if(r==_v){e.o=4,ov(15),Zp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zp(e.j,e.m,r,null),Dv(e,r)}Tv(e)&&r!=xv&&r!=_v&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ov(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ey(t),t.L=!0,ov(11))):(Zp(e.j,e.m,n,"[Invalid Chunked Response]"),Pv(e),Rv(e))}function Cv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xv:(n=Number(t.substring(n,r)),isNaN(n)?_v:(r+=1)+n>t.length?xv:(t=t.substr(r,n),e.C=r+n,t))}function Av(e){e.Y=Date.now()+e.P,Nv(e,e.P)}function Nv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=sv(xd(e.eb,e),t)}function Ov(e){e.B&&(vd.clearTimeout(e.B),e.B=null)}function Rv(e){0==e.l.G||e.I||ry(e.l,e)}function Pv(e){Ov(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Wp(e.W),$p(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pm(n.i,e)))if(n.I=e.N,!e.J&&pm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ny(n),Hm(n)}Zm(n),ov(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sv(xd(n.ab,n),6e3));if(1>=dm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ay(n,11)}else if((e.J||n.g==e)&&ny(n),!Rd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ld(l,"spdy")||Ld(l,"quic")||Ld(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=uy(r,r.H?r.la:null,r.W),d.J){mm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ov(p),Av(p)),r.g=d}else Jm(r);0<n.l.length&&Ym(n)}else"stop"!=a[0]&&"close"!=a[0]||ay(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ay(n,7):Wm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}iv(4)}catch(a){}}function Lv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yd(e)||"string"===typeof e)Ad(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(yd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(yd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Uv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Uv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Uv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fd=kv.prototype).setTimeout=function(e){this.P=e},fd.gb=function(e){e=e.target;var t=this.L;t&&3==Vm(e)?t.l():this.Ia(e)},fd.Ia=function(e){try{if(e==this.g)e:{var t=Vm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Yd||this.g&&(this.h.h||this.g.ga()||jm(this.g)))){this.I||4!=t||7==n||iv(8==n||0>=r?3:2),Ov(this);var i=this.g.ba();this.N=i;t:if(Tv(this)){var a=jm(this.g);e="";var o=a.length,u=4==Vm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pv(this),Rv(this);var s="";break t}this.h.i=new vd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ov(12),Pv(this),Rv(this);break e}Zp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dv(this,i)}this.U?(Sv(this,t,s),Yd&&this.i&&3==t&&(Xp(this.V,this.W,"tick",this.fb),this.W.start())):(Zp(this.j,this.m,s,null),Dv(this,s)),4==t&&Pv(this),this.i&&!this.I&&(4==t?ry(this.l,this):(this.i=!1,Av(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ov(12)):(this.o=0,ov(13)),Pv(this),Rv(this)}}}catch(t){}},fd.fb=function(){if(this.g){var e=Vm(this.g),t=this.g.ga();this.C<t.length&&(Ov(this),Sv(this,e,t),this.i&&4!=e&&Av(this))}},fd.cancel=function(){this.I=!0,Pv(this)},fd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(iv(3),ov(17)),Pv(this),this.o=2,Rv(this)):Nv(this,this.Y-e)},(fd=Mv.prototype).R=function(){Fv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},fd.T=function(){return Fv(this),this.g.concat()},fd.get=function(e,t){return Uv(this.h,e)?this.h[e]:t},fd.set=function(e,t){Uv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},fd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jv){this.g=void 0!==t?t:e.g,zv(this,e.j),this.s=e.s,qv(this,e.i),Wv(this,e.m),this.l=e.l,t=e.h;var n=new nm;n.i=t.i,t.g&&(n.g=new Mv(t.g),n.h=t.h),Hv(this,n),this.o=e.o}else e&&(n=String(e).match(Vv))?(this.g=!!t,zv(this,n[1]||"",!0),this.s=Yv(n[2]||""),qv(this,n[3]||"",!0),Wv(this,n[4]),this.l=Yv(n[5]||"",!0),Hv(this,n[6]||"",!0),this.o=Yv(n[7]||"")):(this.g=!!t,this.h=new nm(null,this.g))}function Bv(e){return new jv(e)}function zv(e,t,n){e.j=n?Yv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qv(e,t,n){e.i=n?Yv(t,!0):t}function Wv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hv(e,t,n){t instanceof nm?(e.h=t,function(e,t){t&&!e.j&&(rm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(im(this,t),om(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qv(t,em)),e.h=new nm(t,e.g))}function Kv(e,t,n){e.h.set(t,n)}function Gv(e){return Kv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qv(t,$v,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qv(t,$v,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qv(n,"/"==n.charAt(0)?Zv:Jv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qv(n,tm)),e.join("")};var $v=/[#\/\?@]/g,Jv=/[#\?:]/g,Zv=/[#\?]/g,em=/[#\?@]/g,tm=/#/g;function nm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rm(e){e.g||(e.g=new Mv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function im(e,t){rm(e),t=um(e,t),Uv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Uv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fv(e)))}function am(e,t){return rm(e),t=um(e,t),Uv(e.g.h,t)}function om(e,t,n){im(e,t),0<n.length&&(e.i=null,e.g.set(um(e,t),Od(n)),e.h+=n.length)}function um(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fd=nm.prototype).add=function(e,t){rm(this),this.i=null,e=um(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fd.forEach=function(e,t){rm(this),this.g.forEach((function(n,r){Ad(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fd.T=function(){rm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fd.R=function(e){rm(this);var t=[];if("string"===typeof e)am(this,e)&&(t=Nd(t,this.g.get(um(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Nd(t,e[n])}return t},fd.set=function(e,t){return rm(this),this.i=null,am(this,e=um(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},fd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var sm=Xr((function e(t,n){Yr(this,e),this.h=t,this.g=n}));function cm(e){this.l=e||fm,vd.PerformanceNavigationTiming?e=0<(e=vd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vd.g&&vd.g.Ea&&vd.g.Ea()&&vd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lm,fm=10;function hm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dm(e){return e.h?1:e.g?e.g.size:0}function pm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vm(e,t){e.g?e.g.add(t):e.h=t}function mm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ym(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$r(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Od(e.i)}function gm(){}function km(){this.g=new gm}function bm(e,t,n){var r=n||"";try{Lv(e,(function(e,n){var i=e;gd(e)&&(i=Rp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NO){throw t.push(r+"type="+encodeURIComponent("_badmap")),NO}}function wm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _m(e){this.l=e.$b||null,this.j=e.ib||!1}function xm(e,t){Ap.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cm.prototype.cancel=function(){if(this.i=ym(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$r(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gm.prototype.stringify=function(e){return vd.JSON.stringify(e,void 0)},gm.prototype.parse=function(e){return vd.JSON.parse(e,void 0)},Ed(_m,fv),_m.prototype.g=function(){return new xm(this.l,this.j)},_m.prototype.i=(lm={},function(){return lm}),Ed(xm,Ap);var Im=0;function Em(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Tm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sm(e)}function Sm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fd=xm.prototype).open=function(e,t){if(this.readyState!=Im)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sm(this)},fd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},fd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tm(this)),this.readyState=Im},fd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sm(this)),this.g&&(this.readyState=3,Sm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Em(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},fd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tm(this):Sm(this),3==this.readyState&&Em(this)}},fd.Ua=function(e){this.g&&(this.response=this.responseText=e,Tm(this))},fd.Ta=function(e){this.g&&(this.response=e,Tm(this))},fd.ha=function(){this.g&&Tm(this)},fd.setRequestHeader=function(e,t){this.v.append(e,t)},fd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cm=vd.JSON.parse;function Am(e){Ap.call(this),this.headers=new Mv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nm,this.K=this.L=!1}Ed(Am,Ap);var Nm="",Om=/^https?$/i,Rm=["POST","PUT"];function Pm(e){return"content-type"==e.toLowerCase()}function Dm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lm(e),Fm(e)}function Lm(e){e.D||(e.D=!0,Np(e,"complete"),Np(e,"error"))}function Mm(e){if(e.h&&"undefined"!=typeof pd&&(!e.C[1]||4!=Vm(e)||2!=e.ba()))if(e.v&&4==Vm(e))Hp(e.Fa,0,e);else if(Np(e,"readystatechange"),4==Vm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vv)[1]||null;if(!a&&vd.self&&vd.self.location){var o=vd.self.location.protocol;a=o.substr(0,o.length-1)}i=!Om.test(a?a.toLowerCase():"")}t=i}if(t)Np(e,"complete"),Np(e,"success");else{e.m=6;try{var u=2<Vm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Lm(e)}}finally{Fm(e)}}}function Fm(e,t){if(e.g){Um(e);var n=e.g,r=e.C[0]?md:null;e.g=null,e.C=null,t||Np(e,"ready");try{n.onreadystatechange=r}catch(NO){}}}function Um(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vd.clearTimeout(e.A),e.A=null)}function Vm(e){return e.g?e.g.readyState:0}function jm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Nm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kv(e,t,n))}function zm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qm(e){this.za=0,this.l=[],this.h=new Jp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zm("baseRetryDelayMs",5e3,e),this.$a=zm("retryDelaySeedMs",1e4,e),this.Ya=zm("forwardChannelMaxRetries",2,e),this.ra=zm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cm(e&&e.concurrentRequestLimit),this.Ca=new km,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wm(e){if(Km(e),3==e.G){var t=e.V++,n=Bv(e.F);Kv(n,"SID",e.J),Kv(n,"RID",t),Kv(n,"TYPE","terminate"),Xm(e,n),(t=new kv(e,e.h,t,void 0)).K=2,t.v=Gv(Bv(n)),n=!1,vd.navigator&&vd.navigator.sendBeacon&&(n=vd.navigator.sendBeacon(t.v.toString(),"")),!n&&vd.Image&&((new Image).src=t.v,n=!0),n||(t.g=sy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Av(t)}oy(e)}function Hm(e){e.g&&(ey(e),e.g.cancel(),e.g=null)}function Km(e){Hm(e),e.u&&(vd.clearTimeout(e.u),e.u=null),ny(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vd.clearTimeout(e.m),e.m=null)}function Gm(e,t){e.l.push(new sm(e.Za++,t)),3==e.G&&Ym(e)}function Ym(e){hm(e.i)||e.m||(e.m=!0,Vp(e.Ha,e),e.C=0)}function Qm(e,t){var n;n=t?t.m:e.V++;var r=Bv(e.F);Kv(r,"SID",e.J),Kv(r,"RID",n),Kv(r,"AID",e.U),Xm(e,r),e.o&&e.s&&Bm(r,e.o,e.s),n=new kv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$m(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vm(e.i,n),Iv(n,r,t)}function Xm(e,t){e.j&&Lv({},(function(e,n){Kv(t,n,e)}))}function $m(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{bm(l,o,"req"+c+"_")}catch(My){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Jm(e){e.g||e.u||(e.Y=1,Vp(e.Ga,e),e.A=0)}function Zm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=sv(xd(e.Ga,e),iy(e,e.A)),e.A++,!0)}function ey(e){null!=e.B&&(vd.clearTimeout(e.B),e.B=null)}function ty(e){e.g=new kv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Bv(e.oa);Kv(t,"RID","rpc"),Kv(t,"SID",e.J),Kv(t,"CI",e.N?"0":"1"),Kv(t,"AID",e.U),Xm(e,t),Kv(t,"TYPE","xmlhttp"),e.o&&e.s&&Bm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gv(Bv(t)),n.s=null,n.U=!0,Ev(n,e)}function ny(e){null!=e.v&&(vd.clearTimeout(e.v),e.v=null)}function ry(e,t){var n=null;if(e.g==t){ny(e),ey(e),e.g=null;var r=2}else{if(!pm(e.i,t))return;n=t.D,mm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Np(r=nv(),new uv(r,n,t,i)),Ym(e)}else Jm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=sv(xd(e.Ha,e,t),iy(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ay(e,5);break;case 4:ay(e,10);break;case 3:ay(e,6);break;default:ay(e,2)}}function iy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ay(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xd(e.jb,e);n||(n=new jv("//www.google.com/images/cleardot.gif"),vd.location&&"http"==vd.location.protocol||zv(n,"https"),Gv(n)),function(e,t){var n=new Jp;if(vd.Image){var r=new Image;r.onload=Id(wm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Id(wm,n,r,"TestLoadImage: error",!1,t),r.onabort=Id(wm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Id(wm,n,r,"TestLoadImage: timeout",!1,t),vd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ov(2);e.G=0,e.j&&e.j.va(t),oy(e),Km(e)}function oy(e){e.G=0,e.I=-1,e.j&&(0==ym(e.i).length&&0==e.l.length||(e.i.i.length=0,Od(e.l),e.l.length=0),e.j.ua())}function uy(e,t,n){var r=function(e){return e instanceof jv?Bv(e):new jv(e,void 0)}(n);if(""!=r.i)t&&qv(r,t+"."+r.i),Wv(r,r.m);else{var i=vd.location;r=function(e,t,n,r){var i=new jv(null,void 0);return e&&zv(i,e),t&&qv(i,t),n&&Wv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vd(e.aa,(function(e,t){Kv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kv(r,t,n),Kv(r,"VER",e.ma),Xm(e,r),r}function sy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Am(new _m({ib:!0})):new Am(e.qa)).L=e.H,t}function cy(){}function ly(){if(Kd&&!(10<=Number(ap)))throw Error("Environmental error: no available transport.")}function fy(e,t){Ap.call(this),this.g=new qm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new py(this)}function hy(e){mv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dy(){yv.call(this),this.status=1}function py(e){this.g=e}(fd=Am.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pv.g(),this.C=this.u?hv(this.u):hv(pv),this.g.onreadystatechange=xd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Dm(this,a)}e=n||"";var i=new Mv(this.headers);r&&Lv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vd.FormData&&e instanceof vd.FormData,!(0<=Cd(Rm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Um(this),0<this.B&&((this.K=function(e){return Kd&&rp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xd(this.pa,this)):this.A=Hp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dm(this,a)}},fd.pa=function(){"undefined"!=typeof pd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Np(this,"timeout"),this.abort(8))},fd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Np(this,"complete"),Np(this,"abort"),Fm(this))},fd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),Am.Z.M.call(this)},fd.Fa=function(){this.s||(this.F||this.v||this.l?Mm(this):this.cb())},fd.cb=function(){Mm(this)},fd.ba=function(){try{return 2<Vm(this)?this.g.status:-1}catch(lm){return-1}},fd.ga=function(){try{return this.g?this.g.responseText:""}catch(lm){return""}},fd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cm(t)}},fd.Da=function(){return this.m},fd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(fd=qm.prototype).ma=8,fd.G=1,fd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},fd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new kv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?zd(n=jd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$m(this,t,r),Kv(i=Bv(this.F),"RID",e),Kv(i,"CVER",22),this.D&&Kv(i,"X-HTTP-Session-Id",this.D),Xm(this,i),this.o&&n&&Bm(i,this.o,n),vm(this.i,t),this.Ra&&Kv(i,"TYPE","init"),this.ja?(Kv(i,"$req",r),Kv(i,"SID","null"),t.$=!0,Iv(t,i,null)):Iv(t,i,r),this.G=2}}else 3==this.G&&(e?Qm(this,e):0==this.l.length||hm(this.i)||Qm(this))},fd.Ga=function(){if(this.u=null,ty(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=sv(xd(this.bb,this),e)}},fd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ov(10),Hm(this),ty(this))},fd.ab=function(){null!=this.v&&(this.v=null,Hm(this),Zm(this),ov(19))},fd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ov(2)):(this.h.info("Failed to ping google.com"),ov(1))},(fd=cy.prototype).xa=function(){},fd.wa=function(){},fd.va=function(){},fd.ua=function(){},fd.Oa=function(){},ly.prototype.g=function(e,t){return new fy(e,t)},Ed(fy,Ap),fy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vp(xd(e.hb,e,t))),ov(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=uy(e,null,e.W),Ym(e)},fy.prototype.close=function(){Wm(this.g)},fy.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gm(this.g,t)}else this.v?((t={}).__data__=Rp(e),Gm(this.g,t)):Gm(this.g,e)},fy.prototype.M=function(){this.g.j=null,delete this.j,Wm(this.g),delete this.g,fy.Z.M.call(this)},Ed(hy,mv),Ed(dy,yv),Ed(py,cy),py.prototype.xa=function(){Np(this.g,"a")},py.prototype.wa=function(e){Np(this.g,new hy(e))},py.prototype.va=function(e){Np(this.g,new dy(e))},py.prototype.ua=function(){Np(this.g,"b")},ly.prototype.createWebChannel=ly.prototype.g,fy.prototype.send=fy.prototype.u,fy.prototype.open=fy.prototype.m,fy.prototype.close=fy.prototype.close,cv.NO_ERROR=0,cv.TIMEOUT=8,cv.HTTP_ERROR=6,lv.COMPLETE="complete",dv.EventType=vv,vv.OPEN="a",vv.CLOSE="b",vv.ERROR="c",vv.MESSAGE="d",Ap.prototype.listen=Ap.prototype.N,Am.prototype.listenOnce=Am.prototype.O,Am.prototype.getLastError=Am.prototype.La,Am.prototype.getLastErrorCode=Am.prototype.Da,Am.prototype.getStatus=Am.prototype.ba,Am.prototype.getResponseJson=Am.prototype.Qa,Am.prototype.getResponseText=Am.prototype.ga,Am.prototype.send=Am.prototype.ea;var vy=dd.createWebChannelTransport=function(){return new ly},my=dd.getStatEventTarget=function(){return nv()},yy=dd.ErrorCode=cv,gy=dd.EventType=lv,ky=dd.Event=ev,by=dd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wy=dd.FetchXmlHttpFactory=_m,_y=dd.WebChannel=dv,xy=dd.XhrIo=Am,Iy="@firebase/firestore",Ey=function(){function e(t){Yr(this,e),this.uid=t}return Xr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ey.UNAUTHENTICATED=new Ey(null),Ey.GOOGLE_CREDENTIALS=new Ey("google-credentials-uid"),Ey.FIRST_PARTY=new Ey("first-party-uid"),Ey.MOCK_USER=new Ey("mock-user");var Ty="9.6.11",Sy=new na("@firebase/firestore");function Cy(){return Sy.logLevel}function Ay(e){if(Sy.logLevel<=Gi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ry);Sy.debug.apply(Sy,["Firestore (".concat(Ty,"): ").concat(e)].concat(zi(i)))}}function Ny(e){if(Sy.logLevel<=Gi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ry);Sy.error.apply(Sy,["Firestore (".concat(Ty,"): ").concat(e)].concat(zi(i)))}}function Oy(e){if(Sy.logLevel<=Gi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ry);Sy.warn.apply(Sy,["Firestore (".concat(Ty,"): ").concat(e)].concat(zi(i)))}}function Ry(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Py(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ty,") INTERNAL ASSERTION FAILED: ")+e;throw Ny(t),new Error(t)}function Dy(e,t){e||Py()}function Ly(e,t){return e}var My={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fy=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Xr(n)}(_i),Uy=Xr((function e(){var t=this;Yr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vy=Xr((function e(t,n){Yr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),jy=function(){function e(){Yr(this,e)}return Xr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ey.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),By=function(){function e(t){Yr(this,e),this.token=t,this.changeListener=null}return Xr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),zy=function(){function e(t){Yr(this,e),this.t=t,this.currentUser=Ey.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Xr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Uy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Uy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ay("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ay("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ay("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dy("string"==typeof n.accessToken),new Vy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dy(null===e||"string"==typeof e),new Ey(e)}}]),e}(),qy=Xr((function e(t,n,r){Yr(this,e),this.type="FirstParty",this.user=Ey.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Wy=function(){function e(t,n,r){Yr(this,e),this.h=t,this.l=n,this.m=r}return Xr(e,[{key:"getToken",value:function(){return Promise.resolve(new qy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ey.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hy=Xr((function e(t){Yr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ky=function(){function e(t){Yr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Xr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ay("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ay("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ay("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ay("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Dy("string"==typeof t.token),e.p=t.token,new Hy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Gy=function(){function e(t,n){var r=this;Yr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Xr(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Yy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Gy.A=-1;var Qy=function(){function e(){Yr(this,e)}return Xr(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Xy(e,t){return e<t?-1:e>t?1:0}function $y(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jy(e){return e+"\0"}var Zy=function(){function e(t,n){if(Yr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fy(My.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fy(My.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fy(My.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fy(My.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Xr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Xy(this.nanoseconds,e.nanoseconds):Xy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),eg=function(){function e(t){Yr(this,e),this.timestamp=t}return Xr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zy(0,0))}},{key:"max",value:function(){return new e(new Zy(253402300799,999999999))}}]),e}();function tg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ng(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ig=function(){function e(t,n,r){Yr(this,e),void 0===n?n=0:n>t.length&&Py(),void 0===r?r=t.length-n:r>t.length-n&&Py(),this.segments=t,this.offset=n,this.len=r}return Xr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ag=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Fy(My.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,zi(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ig),og=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ug=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return og.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fy(My.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Fy(My.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Fy(My.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Fy(My.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ig),sg=function(){function e(t){Yr(this,e),this.fields=t,t.sort(ug.comparator)}return Xr(e,[{key:"covers",value:function(e){var t,n=$r(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $y(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var cg=function(e){function t(e){Yr(this,t),this.binaryString=e}return Xr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cg.EMPTY_BYTE_STRING=new cg("");var lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fg(e){if(Dy(!!e),"string"==typeof e){var t=0,n=lg.exec(e);if(Dy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hg(e.seconds),nanos:hg(e.nanos)}}function hg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dg(e){return"string"==typeof e?cg.fromBase64String(e):cg.fromUint8Array(e)}function pg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vg(e){var t=e.mapValue.fields.__previous_value__;return pg(t)?vg(t):t}function mg(e){var t=fg(e.mapValue.fields.__local_write_time__.timestampValue);return new Zy(t.seconds,t.nanos)}var yg=Xr((function e(t,n,r,i,a,o,u,s){Yr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),gg=function(){function e(t,n){Yr(this,e),this.projectId=t,this.database=n||"(default)"}return Xr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function kg(e){return null==e}function bg(e){return 0===e&&1/e==-1/0}function wg(e){return"number"==typeof e&&Number.isInteger(e)&&!bg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _g=function(){function e(t){Yr(this,e),this.path=t}return Xr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ag.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ag.fromString(t))}},{key:"fromName",value:function(t){return new e(ag.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ag.emptyPath())}},{key:"comparator",value:function(e,t){return ag.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ag(t.slice()))}}]),e}(),xg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ig={nullValue:"NULL_VALUE"};function Eg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pg(e)?4:Vg(e)?9:10:Py()}function Tg(e,t){if(e===t)return!0;var n=Eg(e);if(n!==Eg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mg(e).isEqual(mg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fg(e.timestampValue),r=fg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dg(e.bytesValue).isEqual(dg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hg(e.geoPointValue.latitude)===hg(t.geoPointValue.latitude)&&hg(e.geoPointValue.longitude)===hg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hg(e.integerValue)===hg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hg(e.doubleValue),r=hg(t.doubleValue);return n===r?bg(n)===bg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $y(e.arrayValue.values||[],t.arrayValue.values||[],Tg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tg(n)!==tg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tg(n[i],r[i])))return!1;return!0}(e,t);default:return Py()}}function Sg(e,t){return void 0!==(e.values||[]).find((function(e){return Tg(e,t)}))}function Cg(e,t){if(e===t)return 0;var n=Eg(e),r=Eg(t);if(n!==r)return Xy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hg(e.integerValue||e.doubleValue),r=hg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ag(e.timestampValue,t.timestampValue);case 4:return Ag(mg(e),mg(t));case 5:return Xy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=dg(e),r=dg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Xy(n[i],r[i]);if(0!==a)return a}return Xy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xy(hg(e.latitude),hg(t.latitude));return 0!==n?n:Xy(hg(e.longitude),hg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cg(n[i],r[i]);if(a)return a}return Xy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Xy(r[o],a[o]);if(0!==u)return u;var s=Cg(n[r[o]],i[a[o]]);if(0!==s)return s}return Xy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Py()}}function Ag(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xy(e,t);var n=fg(e),r=fg(t),i=Xy(n.seconds,r.seconds);return 0!==i?i:Xy(n.nanos,r.nanos)}function Ng(e){return Og(e)}function Og(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_g.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$r(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Og(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$r(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Og(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Py();var t,n}function Rg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Pg(e){return!!e&&"integerValue"in e}function Dg(e){return!!e&&"arrayValue"in e}function Lg(e){return!!e&&"nullValue"in e}function Mg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fg(e){return!!e&&"mapValue"in e}function Ug(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ng(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ug(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ug(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Vg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function jg(e){return"nullValue"in e?Ig:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Rg(gg.empty(),_g.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Py()}function Bg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Rg(gg.empty(),_g.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?xg:Py()}function zg(e,t){return void 0===e?t:void 0===t||Cg(e,t)>0?e:t}function qg(e,t){return void 0===e?t:void 0===t||Cg(e,t)<0?e:t}var Wg=function(){function e(t){Yr(this,e),this.value=t}return Xr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ug(t)}},{key:"setAll",value:function(e){var t=this,n=ug.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ug(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Tg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ng(t,(function(t,n){return e[t]=n}));var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ug(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hg(e){var t=[];return ng(e.fields,(function(e,n){var r=new ug([e]);if(Fg(n)){var i=Hg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$r(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new sg(t)}var Kg=function(){function e(t,n,r,i,a,o){Yr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Xr(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Wg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Wg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,eg.min(),eg.min(),Wg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,eg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,eg.min(),Wg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,eg.min(),Wg.empty(),2)}}]),e}(),Gg=Xr((function e(t,n,r,i){Yr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Yg(e){return e.fields.find((function(e){return 2===e.kind}))}function Qg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gg.UNKNOWN_ID=-1;var Xg=Xr((function e(t,n){Yr(this,e),this.fieldPath=t,this.kind=n})),$g=function(){function e(t,n){Yr(this,e),this.sequenceNumber=t,this.offset=n}return Xr(e,null,[{key:"empty",value:function(){return new e(0,ek.min())}}]),e}();function Jg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eg.fromTimestamp(1e9===r?new Zy(n+1,0):new Zy(n,r));return new ek(i,_g.empty(),t)}function Zg(e){return new ek(e.readTime,e.key,-1)}var ek=function(){function e(t,n,r){Yr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Xr(e,null,[{key:"min",value:function(){return new e(eg.min(),_g.empty(),-1)}},{key:"max",value:function(){return new e(eg.max(),_g.empty(),-1)}}]),e}();function tk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_g.comparator(e.documentKey,t.documentKey))?n:Xy(e.largestBatchId,t.largestBatchId)}var nk=Xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Yr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function rk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new nk(e,t,n,r,i,a,o)}function ik(e){var t=Ly(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ng(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),kg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ng(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ng(e)})).join(",")),t.P=n}return t.P}function ak(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Tg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xk(e.startAt,t.startAt)&&xk(e.endAt,t.endAt)}function ok(e){return _g.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function uk(e,t){return e.filters.filter((function(e){return e instanceof lk&&e.field.isEqual(t)}))}function sk(e,t,n){var r,i,a=!0,o=$r(uk(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=jg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ig}zg(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];zg(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function ck(e,t,n){var r,i,a=!0,o=$r(uk(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=Bg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=xg}qg(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qg(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var lk=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cg(t,this.value)):null!==t&&Eg(this.value)===Eg(t)&&this.v(Cg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Py()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new fk(e,t,r):"array-contains"===t?new vk(e,r):"in"===t?new mk(e,r):"not-in"===t?new yk(e,r):"array-contains-any"===t?new gk(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new hk(e,n):new dk(e,n)}}]),n}(function(){return Xr((function e(){Yr(this,e)}))}()),fk=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this,e,r,i)).key=_g.fromName(i.referenceValue),a}return Xr(n,[{key:"matches",value:function(e){var t=_g.comparator(e.key,this.key);return this.v(t)}}]),n}(lk),hk=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,"in",r)).keys=pk("in",r),i}return Xr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lk),dk=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,"not-in",r)).keys=pk("not-in",r),i}return Xr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lk);function pk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _g.fromName(e.referenceValue)}))}var vk=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"array-contains",r)}return Xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Dg(t)&&Sg(t.arrayValue,this.value)}}]),n}(lk),mk=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"in",r)}return Xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Sg(this.value.arrayValue,t)}}]),n}(lk),yk=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"not-in",r)}return Xr(n,[{key:"matches",value:function(e){if(Sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sg(this.value.arrayValue,t)}}]),n}(lk),gk=function(e){ei(n,e);var t=ai(n);function n(e,r){return Yr(this,n),t.call(this,e,"array-contains-any",r)}return Xr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sg(t.value.arrayValue,e)}))}}]),n}(lk),kk=Xr((function e(t,n){Yr(this,e),this.position=t,this.inclusive=n})),bk=Xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Yr(this,e),this.field=t,this.dir=n}));function wk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function _k(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_g.comparator(_g.fromName(o.referenceValue),n.key):Cg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tg(e.position[n],t.position[n]))return!1;return!0}var Ik=Xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Yr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Ek(e,t,n,r,i,a,o,u){return new Ik(e,t,n,r,i,a,o,u)}function Tk(e){return new Ik(e)}function Sk(e){return!kg(e.limit)&&"F"===e.limitType}function Ck(e){return!kg(e.limit)&&"L"===e.limitType}function Ak(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Nk(e){var t,n=$r(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ok(e){return null!==e.collectionGroup}function Rk(e){var t=Ly(e);if(null===t.D){t.D=[];var n=Nk(t),r=Ak(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new bk(n)),t.D.push(new bk(ug.keyField(),"asc"));else{var i,a=!1,o=$r(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new bk(ug.keyField(),s))}}}return t.D}function Pk(e){var t=Ly(e);if(!t.C)if("F"===t.limitType)t.C=rk(t.path,t.collectionGroup,Rk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$r(Rk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new kk(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new kk(t.startAt.position,!t.startAt.inclusive):null;t.C=rk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Dk(e,t,n){return new Ik(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lk(e,t){return ak(Pk(e),Pk(t))&&e.limitType===t.limitType}function Mk(e){return"".concat(ik(Pk(e)),"|lt:").concat(e.limitType)}function Fk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ng(t.value));var t})).join(", "),"]")),kg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ng(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ng(e)})).join(",")),"Target(".concat(t,")")}(Pk(e)),"; limitType=").concat(e.limitType,")")}function Uk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_g.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$r(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$r(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=_k(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rk(e),t))&&!(e.endAt&&!function(e,t,n){var r=_k(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rk(e),t))}(e,t)}function Vk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jk(e){return function(t,n){var r,i=!1,a=$r(Rk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Bk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Bk(e,t,n){var r=e.field.isKeyField()?_g.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cg(r,i):Py()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Py()}}function zk(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bg(t)?"-0":t}}function qk(e){return{integerValue:""+e}}function Wk(e,t){return wg(t)?qk(t):zk(e,t)}var Hk=Xr((function e(){Yr(this,e),this._=void 0}));function Kk(e,t,n){return e instanceof Qk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xk?$k(e,t):e instanceof Jk?Zk(e,t):function(e,t){var n=Yk(e,t),r=tb(n)+tb(e.k);return Pg(n)&&Pg(e.k)?qk(r):zk(e.M,r)}(e,t)}function Gk(e,t,n){return e instanceof Xk?$k(e,t):e instanceof Jk?Zk(e,t):n}function Yk(e,t){return e instanceof eb?Pg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qk=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n)}(Hk),Xk=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).elements=e,r}return Xr(n)}(Hk);function $k(e,t){var n,r=nb(t),i=$r(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Tg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jk=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).elements=e,r}return Xr(n)}(Hk);function Zk(e,t){var n,r=nb(t),i=$r(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Tg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eb=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).M=e,i.k=r,i}return Xr(n)}(Hk);function tb(e){return hg(e.integerValue||e.doubleValue)}function nb(e){return Dg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var rb=Xr((function e(t,n){Yr(this,e),this.field=t,this.transform=n}));var ib=Xr((function e(t,n){Yr(this,e),this.version=t,this.transformResults=n})),ab=function(){function e(t,n){Yr(this,e),this.updateTime=t,this.exists=n}return Xr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ob(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ub=Xr((function e(){Yr(this,e)}));function sb(e,t,n){e instanceof db?function(e,t,n){var r=e.value.clone(),i=mb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pb?function(e,t,n){if(ob(e.precondition,t)){var r=mb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cb(e,t,n){e instanceof db?function(e,t,n){if(ob(e.precondition,t)){var r=e.value.clone(),i=yb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(hb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof pb?function(e,t,n){if(ob(e.precondition,t)){var r=yb(e.fieldTransforms,n,t),i=t.data;i.setAll(vb(e)),i.setAll(r),t.convertToFoundDocument(hb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ob(e.precondition,t)&&t.convertToNoDocument(eg.min())}(e,t)}function lb(e,t){var n,r=null,i=$r(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Yk(a.transform,o||null);null!=u&&(null==r&&(r=Wg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function fb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$y(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xk&&t instanceof Xk||e instanceof Jk&&t instanceof Jk?$y(e.elements,t.elements,Tg):e instanceof eb&&t instanceof eb?Tg(e.k,t.k):e instanceof Qk&&t instanceof Qk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function hb(e){return e.isFoundDocument()?e.version:eg.min()}var db=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Yr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Xr(n)}(ub),pb=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Yr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Xr(n)}(ub);function vb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function mb(e,t,n){var r=new Map;Dy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Gk(o,u,n[i]))}return r}function yb(e,t,n){var r,i=new Map,a=$r(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Kk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var gb,kb,bb=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Xr(n)}(ub),wb=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Xr(n)}(ub),_b=Xr((function e(t){Yr(this,e),this.count=t}));function xb(e){switch(e){default:return Py();case My.CANCELLED:case My.UNKNOWN:case My.DEADLINE_EXCEEDED:case My.RESOURCE_EXHAUSTED:case My.INTERNAL:case My.UNAVAILABLE:case My.UNAUTHENTICATED:return!1;case My.INVALID_ARGUMENT:case My.NOT_FOUND:case My.ALREADY_EXISTS:case My.PERMISSION_DENIED:case My.FAILED_PRECONDITION:case My.ABORTED:case My.OUT_OF_RANGE:case My.UNIMPLEMENTED:case My.DATA_LOSS:return!0}}function Ib(e){if(void 0===e)return Ny("GRPC error has no .code"),My.UNKNOWN;switch(e){case gb.OK:return My.OK;case gb.CANCELLED:return My.CANCELLED;case gb.UNKNOWN:return My.UNKNOWN;case gb.DEADLINE_EXCEEDED:return My.DEADLINE_EXCEEDED;case gb.RESOURCE_EXHAUSTED:return My.RESOURCE_EXHAUSTED;case gb.INTERNAL:return My.INTERNAL;case gb.UNAVAILABLE:return My.UNAVAILABLE;case gb.UNAUTHENTICATED:return My.UNAUTHENTICATED;case gb.INVALID_ARGUMENT:return My.INVALID_ARGUMENT;case gb.NOT_FOUND:return My.NOT_FOUND;case gb.ALREADY_EXISTS:return My.ALREADY_EXISTS;case gb.PERMISSION_DENIED:return My.PERMISSION_DENIED;case gb.FAILED_PRECONDITION:return My.FAILED_PRECONDITION;case gb.ABORTED:return My.ABORTED;case gb.OUT_OF_RANGE:return My.OUT_OF_RANGE;case gb.UNIMPLEMENTED:return My.UNIMPLEMENTED;case gb.DATA_LOSS:return My.DATA_LOSS;default:return Py()}}(kb=gb||(gb={}))[kb.OK=0]="OK",kb[kb.CANCELLED=1]="CANCELLED",kb[kb.UNKNOWN=2]="UNKNOWN",kb[kb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kb[kb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kb[kb.NOT_FOUND=5]="NOT_FOUND",kb[kb.ALREADY_EXISTS=6]="ALREADY_EXISTS",kb[kb.PERMISSION_DENIED=7]="PERMISSION_DENIED",kb[kb.UNAUTHENTICATED=16]="UNAUTHENTICATED",kb[kb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kb[kb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kb[kb.ABORTED=10]="ABORTED",kb[kb.OUT_OF_RANGE=11]="OUT_OF_RANGE",kb[kb.UNIMPLEMENTED=12]="UNIMPLEMENTED",kb[kb.INTERNAL=13]="INTERNAL",kb[kb.UNAVAILABLE=14]="UNAVAILABLE",kb[kb.DATA_LOSS=15]="DATA_LOSS";var Eb=function(){function e(t,n){Yr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Xr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=jr(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ng(this.inner,(function(t,n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=jr(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tb=function(){function e(t,n){Yr(this,e),this.comparator=t,this.root=n||Cb.EMPTY}return Xr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Sb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Sb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Sb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Sb(this.root,e,this.comparator,!0)}}]),e}(),Sb=function(){function e(t,n,r,i){Yr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Xr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Cb=function(){function e(t,n,r,i,a){Yr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Xr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Py();if(this.right.isRed())throw Py();var e=this.left.check();if(e!==this.right.check())throw Py();return e+(this.isRed()?0:1)}}]),e}();Cb.EMPTY=null,Cb.RED=!0,Cb.BLACK=!1,Cb.EMPTY=new(function(){function e(){Yr(this,e),this.size=0}return Xr(e,[{key:"key",get:function(){throw Py()}},{key:"value",get:function(){throw Py()}},{key:"color",get:function(){throw Py()}},{key:"left",get:function(){throw Py()}},{key:"right",get:function(){throw Py()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Cb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ab=function(){function e(t){Yr(this,e),this.comparator=t,this.data=new Tb(this.comparator)}return Xr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Nb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Nb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Nb=function(){function e(t){Yr(this,e),this.iter=t}return Xr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ob(e){return e.hasNext()?e.getNext():void 0}var Rb=new Tb(_g.comparator);function Pb(){return Rb}var Db=new Tb(_g.comparator);function Lb(){return Db}function Mb(){return new Eb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Fb=new Tb(_g.comparator),Ub=new Ab(_g.comparator);function Vb(){for(var e=Ub,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jb=new Ab(Xy);function Bb(){return jb}var zb=function(){function e(t,n,r,i,a){Yr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Xr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,qb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(eg.min(),r,Bb(),Pb(),Vb())}}]),e}(),qb=function(){function e(t,n,r,i,a){Yr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Xr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(cg.EMPTY_BYTE_STRING,n,Vb(),Vb(),Vb())}}]),e}(),Wb=Xr((function e(t,n,r,i){Yr(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Hb=Xr((function e(t,n){Yr(this,e),this.targetId=t,this.$=n})),Kb=Xr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gb=function(){function e(){Yr(this,e),this.B=0,this.L=Xb(),this.U=cg.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Xr(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Vb(),t=Vb(),n=Vb();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Py()}})),new qb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Xb()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Yb=function(){function e(t){Yr(this,e),this.nt=t,this.st=new Map,this.it=Pb(),this.rt=Qb(),this.ot=new Ab(Xy)}return Xr(e,[{key:"ut",value:function(e){var t,n=$r(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=$r(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Py()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(ok(i))if(0===n){var a=new _g(i.path);this.ct(t,a,Kg.newNoDocument(a,eg.min()))}else Dy(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ok(a.target)){var o=new _g(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Kg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Vb();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new zb(e,n,this.ot,this.it,r);return this.it=Pb(),this.rt=Qb(),this.ot=new Ab(Xy),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Gb,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ab(Xy),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ay("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Gb),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qb(){return new Tb(_g.comparator)}function Xb(){return new Tb(_g.comparator)}var $b={asc:"ASCENDING",desc:"DESCENDING"},Jb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb=Xr((function e(t,n){Yr(this,e),this.databaseId=t,this.N=n}));function ew(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tw(e,t){return e.N?t.toBase64():t.toUint8Array()}function nw(e,t){return ew(e,t.toTimestamp())}function rw(e){return Dy(!!e),eg.fromTimestamp(function(e){var t=fg(e);return new Zy(t.seconds,t.nanos)}(e))}function iw(e,t){return function(e){return new ag(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function aw(e){var t=ag.fromString(e);return Dy(Cw(t)),t}function ow(e,t){return iw(e.databaseId,t.path)}function uw(e,t){var n=aw(t);if(n.get(1)!==e.databaseId.projectId)throw new Fy(My.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fy(My.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _g(fw(n))}function sw(e,t){return iw(e.databaseId,t)}function cw(e){var t=aw(e);return 4===t.length?ag.emptyPath():fw(t)}function lw(e){return new ag(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fw(e){return Dy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hw(e,t,n){return{name:ow(e,t),fields:n.value.mapValue.fields}}function dw(e,t,n){var r=uw(e,t.name),i=rw(t.updateTime),a=new Wg({mapValue:{fields:t.fields}}),o=Kg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pw(e,t){return"found"in t?function(e,t){Dy(!!t.found),t.found.name,t.found.updateTime;var n=uw(e,t.found.name),r=rw(t.found.updateTime),i=new Wg({mapValue:{fields:t.found.fields}});return Kg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Dy(!!t.missing),Dy(!!t.readTime);var n=uw(e,t.missing),r=rw(t.readTime);return Kg.newNoDocument(n,r)}(e,t):Py()}function vw(e,t){var n;if(t instanceof db)n={update:hw(e,t.key,t.value)};else if(t instanceof bb)n={delete:ow(e,t.key)};else if(t instanceof pb)n={update:hw(e,t.key,t.data),updateMask:Sw(t.fieldMask)};else{if(!(t instanceof wb))return Py();n={verify:ow(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Py()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Py()}(e,t.precondition)),n}function mw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ab.updateTime(rw(e.updateTime)):void 0!==e.exists?ab.exists(e.exists):ab.none()}(t.currentDocument):ab.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Dy("REQUEST_TIME"===t.setToServerValue),n=new Qk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Xk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Jk(i)}else"increment"in t?n=new eb(e,t.increment):Py();var a=ug.fromServerFormat(t.fieldPath);return new rb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=uw(e,t.update.name),a=new Wg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new sg(t.map((function(e){return ug.fromServerFormat(e)})))}(t.updateMask);return new pb(i,a,o,n,r)}return new db(i,a,n,r)}if(t.delete){var u=uw(e,t.delete);return new bb(u,n)}if(t.verify){var s=uw(e,t.verify);return new wb(s,n)}return Py()}function yw(e,t){return{documents:[sw(e,t.path)]}}function gw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Mg(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NAN"}};if(Lg(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mg(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NOT_NAN"}};if(Lg(e.value))return{unaryFilter:{field:xw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xw(e.field),op:_w(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:xw(e.field),direction:ww(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||kg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kw(e){var t=cw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=bw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new bk(Iw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return kg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new kk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new kk(n,t)}(n.endAt)),Ek(t,i,u,o,s,"F",c,l)}function bw(e){return e?void 0!==e.unaryFilter?[Tw(e)]:void 0!==e.fieldFilter?[Ew(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return bw(e)})).reduce((function(e,t){return e.concat(t)})):Py():[]}function ww(e){return $b[e]}function _w(e){return Jb[e]}function xw(e){return{fieldPath:e.canonicalString()}}function Iw(e){return ug.fromServerFormat(e.fieldPath)}function Ew(e){return lk.create(Iw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Py()}}(e.fieldFilter.op),e.fieldFilter.value)}function Tw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Iw(e.unaryFilter.field);return lk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Iw(e.unaryFilter.field);return lk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Iw(e.unaryFilter.field);return lk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Iw(e.unaryFilter.field);return lk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Py()}}function Sw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Aw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ow(t)),t=Nw(e.get(n),t);return Ow(t)}function Nw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ow(e){return e+"\x01\x01"}function Rw(e){var t=e.length;if(Dy(t>=2),2===t)return Dy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ag.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Py(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Py()}a=o+2}return new ag(r)}var Pw=["userId","batchId"];function Dw(e,t){return[e,Aw(t)]}function Lw(e,t,n){return[e,Aw(t),n]}var Mw={},Fw=["prefixPath","collectionGroup","readTime","documentId"],Uw=["prefixPath","collectionGroup","documentId"],Vw=["collectionGroup","readTime","prefixPath","documentId"],jw=["canonicalId","targetId"],Bw=["targetId","path"],zw=["path","targetId"],qw=["collectionId","parent"],Ww=["indexId","uid"],Hw=["uid","sequenceNumber"],Kw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gw=["indexId","uid","orderedDocumentKey"],Yw=["userId","collectionPath","documentId"],Qw=["userId","collectionPath","largestBatchId"],Xw=["userId","collectionGroup","largestBatchId"],$w=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Jw=[].concat(zi($w),["documentOverlays"]),Zw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],e_=[].concat(Zw,["indexConfiguration","indexState","indexEntries"]),t_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n_=function(){function e(){Yr(this,e),this.onCommittedListeners=[]}return Xr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),r_=function(){function e(t){var n=this;Yr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Xr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Py(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$r(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),i_=function(){function e(t,n){var r=this;Yr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Uy,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new u_(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=h_(e.target.error);r.At.reject(new u_(t,n))}}return Xr(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ay("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new c_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new u_(n,t)}}}]),e}(),a_=function(){function e(t,n,r){Yr(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(vi())&&Ny("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Xr(e,[{key:"Nt",value:function(){var e=Lr(zr().mark((function e(t){var n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ay("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new u_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fy(My.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fy(My.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new u_(t,n))},i.onupgradeneeded=function(e){Ay("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ay("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Lr(zr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(zr().mark((function e(){var n,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=i_.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),r_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ay("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ay("SimpleDb","Removing database:",e),l_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!wi())return!1;if(e.St())return!0;var t=vi(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),o_=function(){function e(t){Yr(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Xr(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return l_(this.Ft.delete())}}]),e}(),u_=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,My.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Xr(n)}(Fy);function s_(e){return"IndexedDbTransactionError"===e.name}var c_=function(){function e(t){Yr(this,e),this.store=t}return Xr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ay("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ay("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),l_(n)}},{key:"add",value:function(e){return Ay("SimpleDb","ADD",this.store.name,e,e),l_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return l_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ay("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ay("SimpleDb","DELETE",this.store.name,e),l_(this.store.delete(e))}},{key:"count",value:function(){return Ay("SimpleDb","COUNT",this.store.name),l_(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new r_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new r_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ay("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new r_((function(n,r){t.onerror=function(e){var t=h_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new r_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new o_(i),o=t(i.primaryKey,i.value,a);if(o instanceof r_){var u=o.catch((function(e){return a.done(),r_.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return r_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function l_(e){return new r_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=h_(e.target.error);n(t)}}))}var f_=!1;function h_(e){var t=a_.Vt(vi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return f_||(f_=!0,setTimeout((function(){throw r}),0)),r}}return e}var d_=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Xr(n)}(n_);function p_(e,t){var n=Ly(e);return a_.xt(n.Ht,t)}var v_=function(){function e(t,n,r,i){Yr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Xr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=$r(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&cb(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=$r(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&cb(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(eg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$y(this.mutations,e.mutations,(function(e,t){return fb(e,t)}))&&$y(this.baseMutations,e.baseMutations,(function(e,t){return fb(e,t)}))}}]),e}(),m_=function(){function e(t,n,r,i){Yr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Xr(e,null,[{key:"from",value:function(t,n,r){Dy(t.mutations.length===r.length);for(var i=Fb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),y_=function(){function e(t,n){Yr(this,e),this.largestBatchId=t,this.mutation=n}return Xr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),g_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cg.EMPTY_BYTE_STRING;Yr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Xr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),k_=Xr((function e(t){Yr(this,e),this.Jt=t}));function b_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:w_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ow(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ew(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:__(t.version)};else{if(!t.isUnknownDocument())return Py();r.unknownDocument={path:n.path.toArray(),version:__(t.version)}}return r}function w_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function __(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function x_(e){var t=new Zy(e.seconds,e.nanoseconds);return eg.fromTimestamp(t)}function I_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mw(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mw(e.Jt,t)})),u=Zy.fromMillis(t.localWriteTimeMs);return new v_(t.batchId,u,n,o)}function E_(e){var t,n,r=x_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?x_(e.lastLimboFreeSnapshotVersion):eg.min();return void 0!==e.query.documents?(Dy(1===(n=e.query).documents.length),t=Pk(Tk(cw(n.documents[0])))):t=function(e){return Pk(kw(e))}(e.query),new g_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cg.fromBase64String(e.resumeToken))}function T_(e,t){var n,r=__(t.snapshotVersion),i=__(t.lastLimboFreeSnapshotVersion);n=ok(t.target)?yw(e.Jt,t.target):gw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ik(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function S_(e){var t=kw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dk(t,t.limit,"L"):t}function C_(e,t){return new y_(t.largestBatchId,mw(e.Jt,t.overlayMutation))}function A_(e,t){var n=t.path.lastSegment();return[e,Aw(t.path.popLast()),n]}var N_=function(){function e(){Yr(this,e)}return Xr(e,[{key:"getBundleMetadata",value:function(e,t){return O_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:x_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return O_(e).put({bundleId:(n=t).id,createTime:__(rw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return R_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:S_(t.bundledQuery),readTime:x_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return R_(e).put(function(e){return{name:e.name,readTime:__(rw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function O_(e){return p_(e,"bundles")}function R_(e){return p_(e,"namedQueries")}var P_=function(){function e(t,n){Yr(this,e),this.M=t,this.userId=n}return Xr(e,[{key:"getOverlay",value:function(e,t){var n=this;return D_(e).get(A_(this.userId,t)).next((function(e){return e?C_(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new y_(t,a);i.push(r.Xt(e,o))})),r_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Aw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(D_(e).Qt("collectionPathOverlayIndex",i))})),r_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Mb(),a=Aw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return D_(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=C_(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Mb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return D_(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=C_(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return D_(e).put(function(e,t,n){var r=jr(A_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function D_(e){return p_(e,"documentOverlays")}var L_=function(){function e(){Yr(this,e)}return Xr(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(hg(e.integerValue));else if("doubleValue"in e){var n=hg(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),bg(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(dg(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Vg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Py()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),_g.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function M_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function F_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=M_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}L_.fe=new L_;var U_=function(){function e(){Yr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Xr(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=F_(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=F_(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),V_=function(){function e(t){Yr(this,e),this.De=t}return Xr(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),j_=function(){function e(t){Yr(this,e),this.De=t}return Xr(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),B_=function(){function e(){Yr(this,e),this.De=new U_,this.Ce=new V_(this.De),this.xe=new j_(this.De)}return Xr(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),z_=function(){function e(t,n,r,i){Yr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Xr(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function q_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=W_(e.arrayValue,t.arrayValue))?n:0!==(n=W_(e.directionalValue,t.directionalValue))?n:_g.comparator(e.documentKey,t.documentKey)}function W_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var H_=function(){function e(t){Yr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=$r(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Xr(e,[{key:"$e",value:function(e){var t=Yg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Qg(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=$r(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),K_=function(){function e(){Yr(this,e),this.qe=new G_}return Xr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),r_.resolve()}},{key:"getCollectionParents",value:function(e,t){return r_.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return r_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return r_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return r_.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return r_.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return r_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return r_.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return r_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return r_.resolve()}}]),e}(),G_=function(){function e(){Yr(this,e),this.index={}}return Xr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ab(ag.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ab(ag.comparator)).toArray()}}]),e}(),Y_=new Uint8Array(0),Q_=function(){function e(t,n){Yr(this,e),this.user=t,this.databaseId=n,this.Ke=new G_,this.Ge=new Eb((function(e){return ik(e)}),(function(e,t){return ak(e,t)})),this.uid=t.uid||""}return Xr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Aw(i)};return X_(e).put(a)}return r_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jy(t),""],!1,!0);return X_(e).qt(r).next((function(e){var r,i=$r(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=J_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=J_(e),r=Z_(e),i=$_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=$_(e),i=!0,a=new Map;return r_.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Vb(),o=[];return r_.forEach(a,(function(i,a){var u;Ay("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ik(t)));var s=function(e,t){var n=Yg(t);if(void 0===n)return null;var r,i=$r(uk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=$r(Qg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=$r(uk(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=$r(Qg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?sk(e,o.fieldPath,e.startAt):ck(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new kk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=$r(Qg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ck(e,o.fieldPath,e.endAt):sk(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new kk(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return r_.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=_g.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return r_.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Y_,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,zi(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new z_(e,_g.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new z_(e,_g.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new z_(e,_g.empty(),Y_,Y_)}},{key:"getFieldIndex",value:function(e,t){var n=new H_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new B_,i=$r(Qg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);L_.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new B_;return L_.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new B_;return L_.fe.Zt(Rg(this.databaseId,t),n.Ne(function(e){var t=Qg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new B_);var i,a=0,o=$r(Qg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=$r(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Dg(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);L_.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=zi(e),a=[],o=$r(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=$r(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new B_;f.seed(l.Se()),L_.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof lk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=J_(e),i=Z_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return r_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $g(t.sequenceNumber,new ek(x_(t.readTime),new _g(Rw(t.documentKey)),t.largestBatchId)):$g.empty(),r=e.fields.map((function(e){var t=jr(e,2),n=t[0],r=t[1];return new Xg(ug.fromServerFormat(n),r)}));return new Gg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Xy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=J_(e),a=Z_(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return r_.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:__(r.readTime),documentKey:Aw(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return r_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?r_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),r_.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?r_.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return $_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return $_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=$_(e),i=new Ab(q_);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new z_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Ab(q_),r=this.Ze(t,e);if(null==r)return n;var i=Yg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Dg(a)){var o,u=$r(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new z_(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new z_(t.indexId,e.key,Y_,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Ay("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ob(a),s=Ob(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ob(o)):l?(i(u),u=Ob(a)):(u=Ob(a),s=Ob(o))}}(r,i,q_,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),r_.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Z_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return q_(e,t)})).filter((function(e,t,n){return!t||0!==q_(e,n[t-1])}));var r=[];r.push(e);var i,a=$r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=q_(o,e),s=q_(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Y_,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Y_,[]]));return c}}]),e}();function X_(e){return p_(e,"collectionParents")}function $_(e){return p_(e,"indexEntries")}function J_(e){return p_(e,"indexConfiguration")}function Z_(e){return p_(e,"indexState")}var ex={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tx=function(){function e(t,n,r){Yr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Xr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function nx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Dy(1===u)})));var c,l=[],f=$r(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Lw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return r_.waitFor(a).next((function(){return l}))}function rx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Py();t=e.noDocument}return JSON.stringify(t).length}tx.DEFAULT_COLLECTION_PERCENTILE=10,tx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tx.DEFAULT=new tx(41943040,tx.DEFAULT_COLLECTION_PERCENTILE,tx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tx.DISABLED=new tx(-1,0,0);var ix=function(){function e(t,n,r,i){Yr(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Xr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ox(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ux(e),o=ox(e);return o.add({}).next((function(u){Dy("number"==typeof u);var s,c=new v_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return vw(e.Jt,t)})),i=n.mutations.map((function(t){return vw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Ab((function(e,t){return Xy(e.canonicalString(),t.canonicalString())})),d=$r(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Lw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Mw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),r_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ox(e).get(t).next((function(e){return e?(Dy(e.userId===n.userId),I_(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?r_.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ox(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Dy(t.batchId>=r),a=I_(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ox(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ox(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return I_(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Dw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ux(e).Wt({range:i},(function(r,i,o){var u=jr(r,3),s=u[0],c=u[1],l=u[2],f=Rw(c);if(s===n.userId&&t.path.isEqual(f))return ox(e).get(l).next((function(e){if(!e)throw Py();Dy(e.userId===n.userId),a.push(I_(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ab(Xy),i=[];return t.forEach((function(t){var a=Dw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=ux(e).Wt({range:o},(function(e,i,a){var o=jr(e,3),u=o[0],s=o[1],c=o[2],l=Rw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),r_.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Dw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ab(Xy);return ux(e).Wt({range:o},(function(e,t,a){var o=jr(e,3),s=o[0],c=o[1],l=o[2],f=Rw(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ox(e).get(t).next((function(e){if(null===e)throw Py();Dy(e.userId===n.userId),r.push(I_(n.M,e))})))})),r_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return nx(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),r_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return r_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ux(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rw(e[1]);i.push(a)}else r.done()})).next((function(){Dy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return ax(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return sx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Dy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function ax(e,t,n){var r=Dw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ux(e).Wt({range:a,jt:!0},(function(e,n,r){var a=jr(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ox(e){return p_(e,"mutations")}function ux(e){return p_(e,"documentMutations")}function sx(e){return p_(e,"mutationQueues")}var cx=function(){function e(t){Yr(this,e),this.mn=t}return Xr(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),lx=function(){function e(t,n){Yr(this,e),this.referenceDelegate=t,this.M=n}return Xr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new cx(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return eg.fromTimestamp(new Zy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fx(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Dy(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return fx(e).Wt((function(o,u){var s=E_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return r_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return fx(e).Wt((function(e,n){var r=E_(n);t(r)}))}},{key:"pn",value:function(e){return hx(e).get("targetGlobalKey").next((function(e){return Dy(null!==e),e}))}},{key:"In",value:function(e,t){return hx(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return fx(e).put(T_(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ik(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fx(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=E_(n);ak(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=dx(e);return t.forEach((function(t){var o=Aw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),r_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=dx(e);return r_.forEach(t,(function(t){var a=Aw(t.path);return r_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=dx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dx(e),i=Vb();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Rw(e[1]),a=new _g(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Aw(t.path),r=IDBKeyRange.bound([n],[Jy(n)],!1,!0),i=0;return dx(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=jr(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return fx(e).get(t).next((function(e){return e?E_(e):null}))}}]),e}();function fx(e){return p_(e,"targets")}function hx(e){return p_(e,"targetGlobal")}function dx(e){return p_(e,"targetDocuments")}function px(e){return vx.apply(this,arguments)}function vx(){return vx=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===My.FAILED_PRECONDITION&&t.message===t_){e.next=2;break}throw t;case 2:Ay("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e,t){var n=jr(e,2),r=n[0],i=n[1],a=jr(t,2),o=a[0],u=a[1],s=Xy(r,o);return 0===s?Xy(i,u):s}var yx=function(){function e(t){Yr(this,e),this.An=t,this.buffer=new Ab(mx),this.Rn=0}return Xr(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();mx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),gx=function(){function e(t,n){Yr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Xr(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Ay("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!s_(n.t0)){n.next=12;break}Ay("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,px(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),kx=function(){function e(t,n){Yr(this,e),this.Dn=t,this.params=n}return Xr(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return r_.resolve(Gy.A);var r=new yx(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ay("LruGarbageCollector","Garbage collection skipped; disabled"),r_.resolve(ex)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ay("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ex):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ay("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Cy()<=Gi.DEBUG&&Ay("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),r_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),bx=function(){function e(t,n){Yr(this,e),this.db=t,this.garbageCollector=function(e,t){return new kx(e,t)}(this,n)}return Xr(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return wx(e,n)}},{key:"removeReference",value:function(e,t,n){return wx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return wx(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return sx(e).zt((function(r){return ax(e,r,t).next((function(e){return e&&(n=!0),r_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,eg.min()),dx(e).delete([0,Aw(o.path)])}))}));i.push(s)}})).next((function(){return r_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return wx(e,t)}},{key:"Mn",value:function(e,t){var n,r=dx(e),i=Gy.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=jr(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Gy.A&&t(new _g(Rw(n)),i),i=s,n=u):i=Gy.A})).next((function(){i!==Gy.A&&t(new _g(Rw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function wx(e,t){return dx(e).put(function(e,t){return{targetId:0,path:Aw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var _x=function(){function e(){Yr(this,e),this.changes=new Eb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Xr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Kg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?r_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),xx=function(){function e(t){Yr(this,e),this.M=t}return Xr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Tx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Tx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],w_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Kg.newInvalidDocument(t);return Tx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sx(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Kg.newInvalidDocument(t)};return Tx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Sx(t))},(function(e,i){r={document:n.$n(t,i),size:rx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Pb();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Pb(),i=new Tb(_g.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,rx(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return r_.resolve();var r=new Ab(Ax);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Sx(r.first()),Sx(r.last())),a=r.getIterator(),o=a.getNext();return Tx(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_g.fromSegments([].concat(zi(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ax(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Sx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),w_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tx(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Pb(),i=$r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(_g.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Pb(),o=Cx(t,n),u=Cx(t,ek.max());return Tx(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(_g.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ix(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ex(e).get("remoteDocumentGlobalKey").next((function(e){return Dy(!!e),e}))}},{key:"Fn",value:function(e,t){return Ex(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=dw(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_g.fromSegments(t.noDocument.path),i=x_(t.noDocument.readTime);n=Kg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Py();var a=_g.fromSegments(t.unknownDocument.path),o=x_(t.unknownDocument.version);n=Kg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zy(e[0],e[1]);return eg.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(eg.min()))return n}return Kg.newInvalidDocument(e)}}]),e}(),Ix=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Eb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Xr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ab((function(e,t){return Xy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=b_(t.Kn.M,o);i=i.add(a.path.popLast());var c=rx(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=b_(t.Kn.M,o.convertToNoDocument(eg.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),r_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(_x);function Ex(e){return p_(e,"remoteDocumentGlobal")}function Tx(e){return p_(e,"remoteDocumentsV14")}function Sx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Cx(e,t){var n=t.documentKey.path.toArray();return[e,w_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ax(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Xy(n[a],r[a]))return i;return(i=Xy(n.length,r.length))||((i=Xy(n[n.length-2],r[r.length-2]))||Xy(n[n.length-1],r[r.length-1]))}var Nx=function(){function e(t){Yr(this,e),this.M=t}return Xr(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new i_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pw,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ox(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=r_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ox(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return r_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Yw});t.createIndex("collectionPathOverlayIndex",Qw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Xw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Fw});t.createIndex("documentKeyIndex",Uw),t.createIndex("collectionGroupIndex",Vw)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ww}).createIndex("sequenceNumberIndex",Hw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Kw}).createIndex("documentKeyIndex",Gw,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=rx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return r_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return r_.forEach(r,(function(r){Dy(r.userId===n.userId);var i=I_(t.M,r);return nx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new ag(n),o=function(e){return[0,Aw(e)]}(a);r.push(t.get(o).next((function(n){return n?r_.resolve():function(n){return t.put({targetId:0,path:Aw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return r_.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qw});var n=t.store("collectionParents"),r=new G_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Aw(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new ag(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=jr(e,3),r=(n[0],n[1]),a=(n[2],Rw(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=E_(r),a=T_(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _g(ag.fromString(i.document.name).popFirst(5)):i.noDocument?_g.fromSegments(i.noDocument.path):i.unknownDocument?_g.fromSegments(i.unknownDocument.path):Py()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return r_.waitFor(r)}))}}]),e}();function Ox(e){e.createObjectStore("targetDocuments",{keyPath:Bw}).createIndex("documentTargetsIndex",zw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jw,{unique:!0}),e.createObjectStore("targetGlobal")}var Rx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Px=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Yr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Fy(My.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bx(this,i),this.hs=n+"main",this.M=new k_(s),this.ls=new a_(this.hs,this.ts,new Nx(this.M)),this.fs=new lx(this.referenceDelegate,this.M),this.ds=function(e){return new xx(e)}(this.M),this._s=new N_,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ny("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Xr(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fy(My.FAILED_PRECONDITION,Rx);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Gy(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Lr(zr().mark((function n(r){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Lr(zr().mark((function t(n){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Lx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(s_(t))return Ay("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ay("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Dx(e).get("owner").next((function(e){return r_.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Lx(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i,a=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=p_(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return r_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=$r(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?r_.resolve(!0):Dx(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Fy(My.FAILED_PRECONDITION,Rx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Lx(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ay("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Lr(zr().mark((function e(){var t=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new d_(e,Gy.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Lx(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return ix.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Q_(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return P_.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ay("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?e_:13===i?Zw:12===i?Jw:11===i?$w:void Py();return this.ls.runTransaction(e,o,u,(function(i){return a=new d_(i,r.es?r.es.next():Gy.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ny("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Fy(My.FAILED_PRECONDITION,t_);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Dx(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fy(My.FAILED_PRECONDITION,Rx)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dx(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Dx(e);return n.get("owner").next((function(e){return t.bs(e)?(Ay("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):r_.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ny("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!yi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ay("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ny("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Ed){Ny("Failed to set zombie client id.",Ed)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Ed){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return a_.vt()}}]),e}();function Dx(e){return p_(e,"owner")}function Lx(e){return p_(e,"clientMetadata")}function Mx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Fx=function(){function e(t,n,r){Yr(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Xr(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=$r(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=$r(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return _g.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Ok(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new _g(t)).next((function(e){var t=Lb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Lb();return this.indexManager.getCollectionParents(e,i).next((function(o){return r_.forEach(o,(function(o){var u=function(e,t){return new Ik(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=$r(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Kg.newInvalidDocument(s),r=r.insert(s,c)),cb(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Uk(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Ux=function(){function e(t,n,r,i){Yr(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Xr(e,null,[{key:"Ys",value:function(t,n){var r,i=Vb(),a=Vb(),o=$r(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Vx=function(){function e(){Yr(this,e)}return Xr(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(eg.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Sk(t)||Ck(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Cy()<=Gi.DEBUG&&Ay("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fk(t)),i.Zs.Qs(e,t,Jg(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Ab(jk(e));return t.forEach((function(t,r){Uk(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Cy()<=Gi.DEBUG&&Ay("QueryEngine","Using full collection scan to execute query:",Fk(t)),this.Zs.Qs(e,t,ek.min())}}]),e}(),jx=function(){function e(t,n,r,i){Yr(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Tb(Xy),this.ri=new Eb((function(e){return ik(e)}),ak),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return Xr(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Fx(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Bx(e,t,n,r){return new jx(e,t,n,r)}function zx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Vb(),s=$r(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$r(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=$r(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$r(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Wx(e,t){var n=Ly(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=r_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function Hx(e){var t=Ly(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Kx(e,t){var n=Ly(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(cg.EMPTY_BYTE_STRING,eg.min()).withLastLimboFreeSnapshotVersion(eg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Pb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gx(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(eg.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return r_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function Gx(e,t,n){var r=Vb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Pb();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(eg.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ay("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Yx(e,t){var n=Ly(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Qx(e,t){var n=Ly(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,r_.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new g_(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function Xx(e,t,n){return $x.apply(this,arguments)}function $x(){return $x=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ly(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),s_(e.t1)){e.next=12;break}throw e.t1;case 12:Ay("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),$x.apply(this,arguments)}function Jx(e,t,n){var r=Ly(e),i=eg.min(),a=Vb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ly(e),i=r.ri.get(n);return void 0!==i?r_.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Pk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:eg.min(),n?a:Vb())})).next((function(e){return tI(r,Vk(t),e),{documents:e,li:a}}))}))}function Zx(e,t){var n=Ly(e),r=Ly(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function eI(e,t){var n=Ly(e),r=n.oi.get(t)||eg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,Jg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return tI(n,t,e),e}))}function tI(e,t,n){var r=eg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function nI(e,t,n,r){return rI.apply(this,arguments)}function rI(){return rI=Lr(zr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ly(t),o=Vb(),u=Pb(),s=$r(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Qx(a,function(e){return Pk(Tk(ag.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Gx(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=Lr(zr().mark((function e(t,n){var r,i,a,o=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vb(),e.next=3,Qx(t,Pk(S_(n.bundledQuery)));case 3:return i=e.sent,a=Ly(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(cg.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}var oI=function(){function e(t){Yr(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return Xr(e,[{key:"getBundleMetadata",value:function(e,t){return r_.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:rw(n.createTime)}),r_.resolve()}},{key:"getNamedQuery",value:function(e,t){return r_.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:S_(e.bundledQuery),readTime:rw(e.readTime)}}(t)),r_.resolve()}}]),e}(),uI=function(){function e(){Yr(this,e),this.overlays=new Tb(_g.comparator),this.gi=new Map}return Xr(e,[{key:"getOverlay",value:function(e,t){return r_.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),r_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),r_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mb(),i=t.length+1,a=new _g(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return r_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Tb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Mb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Mb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return r_.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new y_(t,n));var a=this.gi.get(t);void 0===a&&(a=Vb(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),sI=function(){function e(){Yr(this,e),this.yi=new Ab(cI.pi),this.Ii=new Ab(cI.Ti)}return Xr(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cI(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new cI(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new _g(new ag([])),r=new cI(n,e),i=new cI(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new _g(new ag([])),n=new cI(t,e),r=new cI(t,e+1),i=Vb();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new cI(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),cI=function(){function e(t,n){Yr(this,e),this.key=t,this.vi=n}return Xr(e,null,[{key:"pi",value:function(e,t){return _g.comparator(e.key,t.key)||Xy(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Xy(e.vi,t.vi)||_g.comparator(e.key,t.key)}}]),e}(),lI=function(){function e(t,n){Yr(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Ab(cI.pi)}return Xr(e,[{key:"checkEmpty",value:function(e){return r_.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new v_(i,t,n,r);this.Bs.push(a);var o,u=$r(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new cI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return r_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return r_.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return r_.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return r_.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return r_.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cI(t,0),i=new cI(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),r_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ab(Xy);return t.forEach((function(e){var t=new cI(e,0),i=new cI(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),r_.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_g.isDocumentKey(i)||(i=i.child(""));var a=new cI(new _g(i),0),o=new Ab(Xy);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),r_.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dy(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return r_.forEach(t.mutations,(function(i){var a=new cI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cI(t,0),r=this.Di.firstAfterOrEqual(n);return r_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,r_.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),fI=function(){function e(t){Yr(this,e),this.Mi=t,this.docs=new Tb(_g.comparator),this.size=0}return Xr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return r_.resolve(n?n.document.mutableCopy():Kg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Pb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Kg.newInvalidDocument(e))})),r_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Pb(),i=new _g(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tk(Zg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return r_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Py()}},{key:"Oi",value:function(e,t){return r_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hI(this)}},{key:"getSize",value:function(e){return r_.resolve(this.size)}}]),e}(),hI=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).Kn=e,r}return Xr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),r_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(_x),dI=function(){function e(t){Yr(this,e),this.persistence=t,this.Fi=new Eb((function(e){return ik(e)}),ak),this.lastRemoteSnapshotVersion=eg.min(),this.highestTargetId=0,this.$i=0,this.Bi=new sI,this.targetCount=0,this.Li=cx.gn()}return Xr(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),r_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return r_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return r_.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),r_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),r_.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new cx(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,r_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),r_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,r_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),r_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return r_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return r_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),r_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),r_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),r_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return r_.resolve(n)}},{key:"containsKey",value:function(e,t){return r_.resolve(this.Bi.containsKey(t))}}]),e}(),pI=function(){function e(t,n){var r=this;Yr(this,e),this.Ui={},this.overlays={},this.es=new Gy(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new dI(this),this.indexManager=new K_,this.ds=new fI((function(e){return r.referenceDelegate.qi(e)})),this.M=new k_(n),this._s=new oI(this.M)}return Xr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new uI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new lI(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ay("MemoryPersistence","Starting transaction:",e);var i=new vI(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return r_.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vI=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Xr(n)}(n_),mI=function(){function e(t){Yr(this,e),this.persistence=t,this.ji=new sI,this.Wi=null}return Xr(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Py()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),r_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),r_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),r_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return r_.forEach(this.Hi,(function(r){var i=_g.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,eg.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return r_.or([function(){return r_.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function yI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bI=function(){function e(t,n,r,i){Yr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Xr(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ny("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wI=function(){function e(t,n,r){Yr(this,e),this.targetId=t,this.state=n,this.error=r}return Xr(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fy(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ny("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_I=function(){function e(t,n){Yr(this,e),this.clientId=t,this.activeTargetIds=n}return Xr(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bb(),o=0;i&&o<r.activeTargetIds.length;++o)i=wg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ny("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xI=function(){function e(t,n){Yr(this,e),this.clientId=t,this.onlineState=n}return Xr(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ny("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),II=function(){function e(){Yr(this,e),this.activeTargetIds=Bb()}return Xr(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),EI=function(){function e(t,n,r,i,a){Yr(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Tb(Xy),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=yI(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new II),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return Xr(e,[{key:"start",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=$r(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yI(this.persistenceKey,i)))&&(o=_I.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=$r(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kI(this.persistenceKey,e));if(n){var r=wI.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ay("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ay("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ay("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ay("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Ny("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Lr(zr().mark((function e(){var r,i,a,o,u,s,c;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Gy.A;if(null!=e)try{var n=JSON.parse(e);Dy("number"==typeof n),t=n}catch(e){Ny("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Gy.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new bI(this.currentUser,e,t,n),i=gI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=gI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=kI(this.persistenceKey,e),i=new wI(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return _I.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bI.Yi(new Ey(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return wI.Yi(r,t)}},{key:"mr",value:function(e){return xI.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Ay("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Bb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TI=function(){function e(){Yr(this,e),this.$r=new II,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Xr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new II,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),SI=function(){function e(){Yr(this,e)}return Xr(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CI=function(){function e(){var t=this;Yr(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return Xr(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Ay("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$r(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ay("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$r(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NI=function(){function e(t){Yr(this,e),this.Wr=t.Wr,this.zr=t.zr}return Xr(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),OI=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Xr(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xy;o.listenOnce(gy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case yy.NO_ERROR:var t=o.getResponseJson();Ay("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yy.TIMEOUT:Ay("Connection",'RPC "'+e+'" timed out'),a(new Fy(My.DEADLINE_EXCEEDED,"Request time out"));break;case yy.HTTP_ERROR:var n=o.getStatus();if(Ay("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(My).indexOf(t)>=0?t:My.UNKNOWN}(r.status);a(new Fy(u,r.message))}else a(new Fy(My.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fy(My.UNAVAILABLE,"Connection failed."));break;default:Py()}}finally{Ay("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vy(),a=my(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wy({})),this.ao(o.initMessageHeaders,t,n),mi()||ki()||vi().indexOf("Electron/")>=0||bi()||vi().indexOf("MSAppHost/")>=0||gi()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ay("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new NI({Wr:function(e){l?Ay("Connection","Not sending because WebChannel is closed:",e):(c||(Ay("Connection","Opening WebChannel transport."),s.open(),c=!0),Ay("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_y.EventType.OPEN,(function(){l||Ay("Connection","WebChannel transport opened.")})),h(s,_y.EventType.CLOSE,(function(){l||(l=!0,Ay("Connection","WebChannel transport closed"),f.no())})),h(s,_y.EventType.ERROR,(function(e){l||(l=!0,Oy("Connection","WebChannel transport errored:",e),f.no(new Fy(My.UNAVAILABLE,"The operation could not be completed")))})),h(s,_y.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Dy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ay("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=gb[e];if(void 0!==t)return Ib(t)}(a),u=i.message;void 0===o&&(o=My.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Fy(o,u)),s.close()}else Ay("Connection","WebChannel received:",n),f.so(n)}})),h(a,ky.STAT_EVENT,(function(e){e.stat===by.PROXY?Ay("Connection","Detected buffering proxy"):e.stat===by.NOPROXY&&Ay("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Yr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Xr(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Ay("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Ay("RestConnection","Received: ",e),e}),(function(t){throw Oy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ty,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=AI[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function RI(){return"undefined"!=typeof window?window:null}function PI(){return"undefined"!=typeof document?document:null}function DI(e){return new Zb(e,!0)}var LI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Yr(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return Xr(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Ay("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),MI=function(){function e(t,n,r,i,a,o,u,s){Yr(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new LI(t,n)}return Xr(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===My.RESOURCE_EXHAUSTED?(Ny(n.toString()),Ny("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===My.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=jr(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Fy(My.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Ay("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Ay("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),FI=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a,o,u){var s;return Yr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Xr(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Py()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Dy(void 0===t||"string"==typeof t),cg.fromBase64String(t||"")):(Dy(void 0===t||t instanceof Uint8Array),cg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?My.UNKNOWN:Ib(e.code);return new Fy(t,e.message||"")}(o);n=new Kb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=uw(e,s.document.name),l=rw(s.document.updateTime),f=new Wg({mapValue:{fields:s.document.fields}}),h=Kg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Wb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=uw(e,v.document),y=v.readTime?rw(v.readTime):eg.min(),g=Kg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Wb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=uw(e,b.document),_=b.removedTargetIds||[];n=new Wb([],_,w,null)}else{if(!("filter"in t))return Py();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new _b(I),T=x.targetId;n=new Hb(T,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return eg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?eg.min():t.readTime?rw(t.readTime):eg.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=lw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=ok(r)?{documents:yw(e,r)}:{query:gw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tw(e,t.resumeToken):t.snapshotVersion.compareTo(eg.min())>0&&(n.readTime=ew(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Py()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=lw(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(MI),UI=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a,o,u){var s;return Yr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return Xr(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Ja(ti(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Dy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Dy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rw(e.updateTime):rw(t);return n.isEqual(eg.min())&&(n=rw(t)),new ib(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rw(e.commitTime);return this.listener.Yo(n,t)}return Dy(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=lw(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vw(t.M,e)}))};this.Fo(n)}}]),n}(MI),VI=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a){var o;return Yr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return Xr(n,[{key:"eu",value:function(){if(this.tu)throw new Fy(My.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=jr(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===My.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fy(My.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=jr(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===My.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fy(My.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return Xr((function e(){Yr(this,e)}))}()),jI=function(){function e(t,n){Yr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return Xr(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Ny(t),this.iu=!1):Ay("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),BI=Xr((function e(t,n,r,i,a){var o=this;Yr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=JI(o),!e.t0){e.next=5;break}return Ay("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ly(t)).fu.add(4),e.next=4,WI(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,zI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new jI(r,i)}));function zI(e){return qI.apply(this,arguments)}function qI(){return qI=Lr(zr().mark((function e(t){var n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JI(t)){e.next=18;break}n=$r(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qI.apply(this,arguments)}function WI(e){return HI.apply(this,arguments)}function HI(){return HI=Lr(zr().mark((function e(t){var n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$r(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),HI.apply(this,arguments)}function KI(e,t){var n=Ly(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),$I(n)?XI(n):SE(n).xo()&&YI(n,t))}function GI(e,t){var n=Ly(e),r=SE(n);n.lu.delete(t),r.xo()&&QI(n,t),0===n.lu.size&&(r.xo()?r.Mo():JI(n)&&n.wu.set("Unknown"))}function YI(e,t){e.mu.Z(t.targetId),SE(e).jo(t)}function QI(e,t){e.mu.Z(t),SE(e).Wo(t)}function XI(e){e.mu=new Yb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),SE(e).start(),e.wu.ru()}function $I(e){return JI(e)&&!SE(e).Co()&&e.lu.size>0}function JI(e){return 0===Ly(e).fu.size}function ZI(e){e.mu=void 0}function eE(e){return tE.apply(this,arguments)}function tE(){return tE=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){YI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZI(t),$I(t)?(t.wu.au(n),XI(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=Lr(zr().mark((function e(t,n,r){var i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Kb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$r(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ay("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wb?t.mu.ut(n):n instanceof Hb?t.mu._t(n):t.mu.ht(n),r.isEqual(eg.min())){e.next=29;break}return e.prev=14,e.next=17,Hx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(cg.EMPTY_BYTE_STRING,n.snapshotVersion)),QI(e,t);var r=new g_(n.target,t,1,n.sequenceNumber);YI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ay("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aE.apply(this,arguments)}function oE(e,t,n){return uE.apply(this,arguments)}function uE(){return uE=Lr(zr().mark((function e(t,n,r){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s_(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,WI(t);case 5:t.wu.set("Offline"),r||(r=function(){return Hx(t.localStore)}),t.asyncQueue.enqueueRetryable(Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ay("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,zI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return t().catch((function(n){return oE(e,n,t)}))}function cE(e){return lE.apply(this,arguments)}function lE(){return lE=Lr(zr().mark((function e(t){var n,r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ly(t),r=CE(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!fE(n)){e.next=19;break}return e.prev=3,e.next=6,Yx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,hE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oE(n,e.t0);case 17:e.next=2;break;case 19:dE(n)&&pE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lE.apply(this,arguments)}function fE(e){return JI(e)&&e.hu.length<10}function hE(e,t){e.hu.push(t);var n=CE(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function dE(e){return JI(e)&&!CE(e).Co()&&e.hu.length>0}function pE(e){CE(e).start()}function vE(e){return mE.apply(this,arguments)}function mE(){return mE=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CE(t).Zo();case 1:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e){return gE.apply(this,arguments)}function gE(){return gE=Lr(zr().mark((function e(t){var n,r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CE(t),r=$r(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t,n){return bE.apply(this,arguments)}function bE(){return bE=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=m_.from(i,n,r),e.next=3,sE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cE(t);case 5:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return _E.apply(this,arguments)}function _E(){return _E=Lr(zr().mark((function e(t,n){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CE(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xb(i=n.code)||i===My.ABORTED){e.next=7;break}return r=t.hu.shift(),CE(t).ko(),e.next=5,sE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dE(t)&&pE(t);case 5:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function xE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ly(t)).asyncQueue.verifyOperationInProgress(),Ay("RemoteStore","RemoteStore received new credentials"),i=JI(r),r.fu.add(3),e.next=6,WI(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,zI(r);case 12:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function EE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ly(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,zI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,WI(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e){return e.gu||(e.gu=function(e,t,n){var r=Ly(e);return r.eu(),new FI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:eE.bind(null,e),Yr:nE.bind(null,e),Qo:iE.bind(null,e)}),e.du.push(function(){var t=Lr(zr().mark((function t(n){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),$I(e)?XI(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:ZI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function CE(e){return e.yu||(e.yu=function(e,t,n){var r=Ly(e);return r.eu(),new UI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:vE.bind(null,e),Yr:wE.bind(null,e),Xo:yE.bind(null,e),Yo:kE.bind(null,e)}),e.du.push(function(){var t=Lr(zr().mark((function t(n){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,cE(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Ay("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var AE=function(){function e(t,n,r,i,a){Yr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Uy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Xr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fy(My.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function NE(e,t){if(Ny("AsyncQueue","".concat(t,": ").concat(e)),s_(e))return new Fy(My.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var OE=function(){function e(t){Yr(this,e),this.comparator=t?function(e,n){return t(e,n)||_g.comparator(e.key,n.key)}:function(e,t){return _g.comparator(e.key,t.key)},this.keyedMap=Lb(),this.sortedSet=new Tb(this.comparator)}return Xr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),RE=function(){function e(){Yr(this,e),this.pu=new Tb(_g.comparator)}return Xr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Py():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PE=function(){function e(t,n,r,i,a,o,u,s){Yr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Xr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,OE.emptySet(n),a,r,i,!0,!1)}}]),e}(),DE=Xr((function e(){Yr(this,e),this.Tu=void 0,this.listeners=[]})),LE=Xr((function e(){Yr(this,e),this.queries=new Eb((function(e){return Mk(e)}),Lk),this.onlineState="Unknown",this.Eu=new Set}));function ME(e,t){return FE.apply(this,arguments)}function FE(){return FE=Lr(zr().mark((function e(t,n){var r,i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ly(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new DE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=NE(e.t0,"Initialization of query '".concat(Fk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&zE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),FE.apply(this,arguments)}function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=Lr(zr().mark((function e(t,n){var r,i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ly(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function jE(e,t){var n,r=Ly(e),i=!1,a=$r(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$r(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&zE(r)}function BE(e,t,n){var r=Ly(e),i=r.queries.get(t);if(i){var a,o=$r(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function zE(e){e.Eu.forEach((function(e){e.next()}))}var qE=function(){function e(t,n,r){Yr(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Xr(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$r(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=PE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),WE=function(){function e(t,n){Yr(this,e),this.payload=t,this.byteLength=n}return Xr(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),HE=function(){function e(t){Yr(this,e),this.M=t}return Xr(e,[{key:"fi",value:function(e){return uw(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?dw(this.M,e.document,!1):Kg.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return rw(e)}}]),e}(),KE=function(){function e(t,n,r){Yr(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GE(t)}return Xr(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ag.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new HE(this.M),i=$r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=$r(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Vb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nI(this.localStore,new HE(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=$r(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,iI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function GE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var YE=Xr((function e(t){Yr(this,e),this.key=t})),QE=Xr((function e(t){Yr(this,e),this.key=t})),XE=function(){function e(t,n){Yr(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Vb(),this.mutatedKeys=Vb(),this.Uu=jk(t),this.qu=new OE(this.Uu)}return Xr(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new RE,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Sk(this.query)&&i.size===this.query.limit?i.last():null,c=Ck(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Uk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Sk(this.query)||Ck(this.query))for(;o.size>this.query.limit;){var l=Sk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Py()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new PE(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new RE,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Vb(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new QE(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new YE(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Vb();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return PE.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),$E=Xr((function e(t,n,r){Yr(this,e),this.query=t,this.targetId=n,this.view=r})),JE=Xr((function e(t){Yr(this,e),this.key=t,this.Zu=!1})),ZE=function(){function e(t,n,r,i,a,o){Yr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Eb((function(e){return Mk(e)}),Lk),this.na=new Map,this.sa=new Set,this.ia=new Tb(_g.comparator),this.ra=new Map,this.oa=new sI,this.ua={},this.aa=new Map,this.ca=cx.yn(),this.onlineState="Unknown",this.ha=void 0}return Xr(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GT(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,Qx(r.localStore,Pk(n));case 8:return u=e.sent,r.isPrimaryClient&&KI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nT(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n,r){return rT.apply(this,arguments)}function rT(){return rT=Lr(zr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Lr(zr().mark((function e(t,n,r,i){var a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,Jx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(xT(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Jx(t.localStore,n,!0);case 3:return a=e.sent,o=new XE(n,a.li),u=o.Gu(a.documents),s=qb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),xT(t,r,c.Hu),l=new $E(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ly(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Lk(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Xx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),GI(r.remoteStore,i.targetId),wT(r,i.targetId)})).catch(px);case 9:e.next=14;break;case 11:return wT(r,i.targetId),e.next=14,Xx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t,n){return uT.apply(this,arguments)}function uT(){return uT=Lr(zr().mark((function e(t,n,r){var i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YT(t),e.prev=1,e.next=4,function(e,t){var n,r=Ly(e),i=Zy.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Vb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=$r(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=lb(c,n.get(c.key));null!=l&&u.push(new pb(c.key,l,Hg(l.value.mapValue),ab.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Tb(Xy)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TT(i,a.changes);case 9:return e.next=11,cE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=NE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uT.apply(this,arguments)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.prev=1,e.next=4,Kx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Dy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Dy(n.Zu):e.removedDocuments.size>0&&(Dy(n.Zu),n.Zu=!1))})),e.next=8,TT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,px(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cT.apply(this,arguments)}function lT(e,t,n){var r=Ly(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ly(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$r(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zE(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s,c;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ly(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Tb(_g.comparator)).insert(o,Kg.newNoDocument(o,eg.min())),s=Vb().add(o),c=new zb(eg.min(),new Map,new Ab(Xy),u,s),e.next=9,sT(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),ET(i),e.next=16;break;case 14:return e.next=16,Xx(i.localStore,n,!1).then((function(){return wT(i,n,r)})).catch(px);case 16:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){return pT.apply(this,arguments)}function pT(){return pT=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),i=n.batch.batchId,e.prev=1,e.next=4,Wx(r.localStore,n);case 4:return a=e.sent,bT(r,i,null),kT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,px(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pT.apply(this,arguments)}function vT(e,t,n){return mT.apply(this,arguments)}function mT(){return mT=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ly(t),e.prev=1,e.next=4,function(e,t){var n=Ly(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Dy(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,bT(i,n,r),kT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,px(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mT.apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JI((r=Ly(t)).remoteStore)||Ay("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ly(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=NE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gT.apply(this,arguments)}function kT(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function bT(e,t,n){var r=Ly(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function wT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$r(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||_T(e,t)}))}function _T(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(GI(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),ET(e))}function xT(e,t,n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof YE?(e.oa.addReference(a.key,t),IT(e,a)):a instanceof QE?(Ay("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||_T(e,a.key)):Py()}}catch(o){i.e(o)}finally{i.f()}}function IT(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Ay("SyncEngine","New document in limbo: "+n),e.sa.add(r),ET(e))}function ET(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new _g(ag.fromString(t)),r=e.ca.next();e.ra.set(r,new JE(n)),e.ia=e.ia.insert(n,r),KI(e.remoteStore,new g_(Pk(Tk(n.path)),r,2,Gy.A))}}function TT(e,t,n){return ST.apply(this,arguments)}function ST(){return ST=Lr(zr().mark((function e(t,n,r){var i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ly(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ux.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return r_.forEach(n,(function(t){return r_.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return r_.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),s_(e.t0)){e.next=10;break}throw e.t0;case 10:Ay("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$r(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function CT(e,t){return AT.apply(this,arguments)}function AT(){return AT=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ly(t)).currentUser.isEqual(n)){e.next=11;break}return Ay("SyncEngine","User change. New user:",n.toKey()),e.next=5,zx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Fy(My.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TT(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e,t){var n=Ly(e),r=n.ra.get(t);if(r&&r.Zu)return Vb().add(r.key);var i=Vb(),a=n.na.get(t);if(!a)return i;var o,u=$r(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function OT(e,t){return RT.apply(this,arguments)}function RT(){return RT=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.next=3,Jx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&xT(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Lr(zr().mark((function e(t,n){var r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),e.abrupt("return",eI(r.localStore,n).then((function(e){return TT(r,e)})));case 2:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function LT(e,t,n,r){return MT.apply(this,arguments)}function MT(){return MT=Lr(zr().mark((function e(t,n,r,i){var a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ly(t),e.next=3,function(e,t){var n=Ly(e),r=Ly(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):r_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(bT(a,n,i||null),kT(a,n),function(e,t){Ly(Ly(e).Bs)._n(t)}(a.localStore,n)):Py();case 11:return e.next=13,TT(a,o);case 13:e.next=16;break;case 15:Ay("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function FT(e,t){return UT.apply(this,arguments)}function UT(){return UT=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GT(r=Ly(t)),YT(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VT(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,EE(r.remoteStore,!0);case 9:o=$r(a);try{for(o.s();!(u=o.n()).done;)s=u.value,KI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wT(r,t),Xx(r.localStore,t,!0)})),GI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VT(r,c);case 21:return function(e){var t=Ly(e);t.ra.forEach((function(e,n){GI(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Tb(_g.comparator)}(r),r.ha=!1,e.next=25,EE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function VT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ly(t),a=[],o=[],u=$r(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,Qx(i.localStore,Pk(f[0]));case 11:l=e.sent,h=$r(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,OT(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Zx(i.localStore,c);case 36:return y=e.sent,e.next=39,Qx(i.localStore,y);case 39:return l=e.sent,e.next=42,nT(i,BT(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jT.apply(this,arguments)}function BT(e){return Ek(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zT(e){var t=Ly(e);return Ly(Ly(t.localStore).persistence).Fs()}function qT(e,t,n,r){return WT.apply(this,arguments)}function WT(){return WT=Lr(zr().mark((function e(t,n,r,i){var a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ly(t)).ha){e.next=3;break}return e.abrupt("return",void Ay("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,eI(a.localStore,Vk(o[0]));case 10:return u=e.sent,s=zb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,TT(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Xx(a.localStore,n,!0);case 17:return wT(a,n,i),e.abrupt("break",20);case 19:Py();case 20:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function HT(e,t,n){return KT.apply(this,arguments)}function KT(){return KT=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=GT(t)).ha){e.next=45;break}a=$r(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return Ay("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Zx(i.localStore,u);case 12:return s=e.sent,e.next=15,Qx(i.localStore,s);case 15:return c=e.sent,e.next=18,nT(i,BT(s),c.targetId,!1);case 18:KI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$r(r),e.prev=30,h=zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,Xx(i.localStore,t,!1).then((function(){GI(i.remoteStore,t),wT(i,t)})).catch(px);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),KT.apply(this,arguments)}function GT(e){var t=Ly(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fT.bind(null,t),t.ta.Qo=jE.bind(null,t.eventManager),t.ta.fa=BE.bind(null,t.eventManager),t}function YT(e){var t=Ly(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vT.bind(null,t),t}function QT(e,t,n){var r=Ly(e);(function(){var e=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ly(e),r=rw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(GE(i)),a=new KE(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,TT(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Ly(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Oy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var XT=function(){function e(){Yr(this,e),this.synchronizeTabs=!1}return Xr(e,[{key:"initialize",value:function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=DI(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Bx(this.persistence,new Vx,e.initialUser,this.M)}},{key:"wa",value:function(e){return new pI(mI.zi,this.M)}},{key:"_a",value:function(e){return new TI}},{key:"terminate",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$T=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Xr(n,[{key:"initialize",value:function(){var e=Lr(zr().mark((function e(t){var r=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(ti(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,YT(this.ya.syncEngine);case 6:return e.next=8,cE(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Bx(this.persistence,new Vx,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new gx(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tx.withCacheSize(this.cacheSizeBytes):tx.DEFAULT;return new Px(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,RI(),PI(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new TI}}]),n}(XT),JT=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Xr(n,[{key:"initialize",value:function(){var e=Lr(zr().mark((function e(t){var r,i=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(ti(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof EI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:LT.bind(null,r),Or:qT.bind(null,r),Fr:HT.bind(null,r),Fs:zT.bind(null,r),kr:PT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FT(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=RI();if(!EI.vt(t))throw new Fy(My.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new EI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}($T),ZT=function(){function e(){Yr(this,e)}return Xr(e,[{key:"initialize",value:function(){var e=Lr(zr().mark((function e(t,n){var r=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CT.bind(null,this.syncEngine),e.next=12,EE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LE}},{key:"createDatastore",value:function(e){var t,n=DI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new OI(t));return function(e,t,n,r){return new VI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lT(o.syncEngine,e,0)},a=CI.vt()?new CI:new SI,new BI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ZE(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ly(t),Ay("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,WI(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Lr(zr().mark((function r(){var i;return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var tS=function(){function e(t){Yr(this,e),this.observer=t,this.muted=!1}return Xr(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),nS=function(){function e(t,n){var r=this;Yr(this,e),this.Ta=t,this.M=n,this.metadata=new Uy,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Xr(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=Lr(zr().mark((function e(){var t,n,r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new WE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=Lr(zr().mark((function e(){var t,n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=Lr(zr().mark((function e(){var t,n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rS=function(){function e(t){Yr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Xr(e,[{key:"lookup",value:function(){var e=Lr(zr().mark((function e(t){var n,r=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fy(My.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),i=lw(r.M)+"/documents",a={documents:n.map((function(e){return ow(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=pw(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Dy(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new bb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Lr(zr().mark((function e(){var t,n=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_g.fromPath(t);n.mutations.push(new wb(r,n.precondition(r)))})),e.next=7,function(){var e=Lr(zr().mark((function e(t,n){var r,i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ly(t),i=lw(r.M)+"/documents",a={writes:n.map((function(e){return vw(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Py();t=eg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fy(My.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ab.updateTime(t):ab.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eg.min()))throw new Fy(My.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ab.updateTime(t)}return ab.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),iS=function(){function e(t,n,r,i){Yr(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new LI(this.asyncQueue,"transaction_retry")}return Xr(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(Lr(zr().mark((function t(){var n,r;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rS(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!kg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xb(t)}return!1}}]),e}(),aS=function(){function e(t,n,r,i){var a=this;Yr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ey.UNAUTHENTICATED,this.clientId=Qy.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ay("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ay("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Xr(e,[{key:"getConfiguration",value:function(){var e=Lr(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fy(My.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Uy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Lr(zr().mark((function n(){var r;return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=NE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function oS(e,t){return uS.apply(this,arguments)}function uS(){return uS=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ay("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,zx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function sS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Lr(zr().mark((function e(t,n){var r,i;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lS(t);case 3:return r=e.sent,Ay("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return xE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return xE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e){return fS.apply(this,arguments)}function fS(){return fS=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ay("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,oS(t,new XT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(e){return dS.apply(this,arguments)}function dS(){return dS=Lr(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ay("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,sS(t,new ZT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e){return lS(e).then((function(e){return e.persistence}))}function vS(e){return lS(e).then((function(e){return e.localStore}))}function mS(e){return hS(e).then((function(e){return e.remoteStore}))}function yS(e){return hS(e).then((function(e){return e.syncEngine}))}function gS(e){return kS.apply(this,arguments)}function kS(){return kS=Lr(zr().mark((function e(t){var n,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eT.bind(null,n.syncEngine),r.onUnlisten=iT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function i(){return zr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tS({next:function(a){t.enqueueAndForget((function(){return UE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Fy(My.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Fy(My.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new qE(Tk(n.path),a,{includeMetadataChanges:!0,Cu:!0});return ME(e,o)},i.next=3,gS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function i(){return zr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tS({next:function(n){t.enqueueAndForget((function(){return UE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fy(My.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new qE(n,a,{includeMetadataChanges:!0,Cu:!0});return ME(e,o)},i.next=3,gS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var _S=new Map;function xS(e,t,n){if(!n)throw new Fy(My.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IS(e,t,n,r){if(!0===t&&!0===r)throw new Fy(My.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ES(e){if(!_g.isDocumentKey(e))throw new Fy(My.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TS(e){if(_g.isDocumentKey(e))throw new Fy(My.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function SS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Py()}function CS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fy(My.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=SS(e);throw new Fy(My.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function AS(e,t){if(t<=0)throw new Fy(My.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NS=function(){function e(t){var n;if(Yr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fy(My.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fy(My.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Xr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),OS=function(){function e(t,n,r){Yr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,t instanceof gg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fy(My.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gg(e.options.projectId)}(t))}return Xr(e,[{key:"app",get:function(){if(!this._app)throw new Fy(My.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fy(My.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jy;switch(e.type){case"gapi":var t=e.client;return Dy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fy(My.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_S.get(e);t&&(Ay("ComponentProvider","Removing Datastore"),_S.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function RS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CS(e,OS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Oy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ey.MOCK_USER;else{o=pi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Fy(My.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ey(s)}e._authCredentials=new By(new Vy(o,u))}}var PS=function(){function e(t,n,r){Yr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Xr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new LS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),DS=function(){function e(t,n,r){Yr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Xr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),LS=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this,e,r,Tk(i)))._path=i,a.type="collection",a}return Xr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new PS(this.firestore,null,new _g(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(DS);function MS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),xS("collection","path",t),e instanceof OS){var a=ag.fromString.apply(ag,[t].concat(r));return TS(a),new LS(e,null,a)}if(!(e instanceof PS||e instanceof LS))throw new Fy(My.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ag.fromString.apply(ag,[t].concat(r)));return TS(o),new LS(e.firestore,null,o)}function FS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=Qy.R()),xS("doc","path",t),e instanceof OS){var a=ag.fromString.apply(ag,[t].concat(r));return ES(a),new PS(e,null,new _g(a))}if(!(e instanceof PS||e instanceof LS))throw new Fy(My.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ag.fromString.apply(ag,[t].concat(r)));return ES(o),new PS(e.firestore,e instanceof LS?e.converter:null,new _g(o))}function US(e,t){return e=Li(e),t=Li(t),(e instanceof PS||e instanceof LS)&&(t instanceof PS||t instanceof LS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VS(e,t){return e=Li(e),t=Li(t),e instanceof DS&&t instanceof DS&&e.firestore===t.firestore&&Lk(e._query,t._query)&&e.converter===t.converter}var jS=function(){function e(){var t=this;Yr(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new LI(this,"async_queue_retry"),this.qa=function(){var e=PI();e&&Ay("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=PI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return Xr(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=PI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Uy;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Lr(zr().mark((function e(){var t=this;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),s_(e.t0)){e.next=12;break}throw e.t0;case 12:Ay("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ny("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=AE.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Py()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Lr(zr().mark((function e(){var t;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=$r(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$r(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function BS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$r(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var zS=function(){function e(){Yr(this,e),this._progressObserver={},this._taskCompletionResolver=new Uy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Xr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qS=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new jS,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Xr(n,[{key:"_terminate",value:function(){return this._firestoreClient||HS(this),this._firestoreClient.terminate()}}]),n}(OS);function WS(e){return e._firestoreClient||HS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new yg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new aS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KS(e,t,n){var r=new Uy;return e.asyncQueue.enqueue(Lr(zr().mark((function i(){return zr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,oS(e,n);case 3:return i.next=5,sS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===My.FAILED_PRECONDITION||e.code===My.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function GS(e){return function(e){return e.asyncQueue.enqueue(Lr(zr().mark((function t(){var n,r;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pS(e);case 2:return n=t.sent,t.next=5,mS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ly(e);return t.fu.delete(0),zI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(WS(e=CS(e,qS)))}function YS(e){return function(e){return e.asyncQueue.enqueue(Lr(zr().mark((function t(){var n,r;return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pS(e);case 2:return n=t.sent,t.next=5,mS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ly(t)).fu.add(0),e.next=4,WI(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(WS(e=CS(e,qS)))}function QS(e,t){var n=WS(e=CS(e,qS)),r=new zS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new nS(e,t)}(function(e,t){if(e instanceof Uint8Array)return eS(e,t);if(e instanceof ArrayBuffer)return eS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,DI(t));e.asyncQueue.enqueueAndForget(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QT,t.next=3,yS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function XS(e,t){return function(e,t){return e.asyncQueue.enqueue(Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ly(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,vS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(WS(e=CS(e,qS)),t).then((function(t){return t?new DS(e,null,t.query):null}))}function $S(e){if(e._initialized||e._terminated)throw new Fy(My.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JS=function(){function e(){Yr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fy(My.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ug(n)}return Xr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ZS=function(){function e(t){Yr(this,e),this._byteString=t}return Xr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cg.fromBase64String(t))}catch(t){throw new Fy(My.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cg.fromUint8Array(t))}}]),e}(),eC=Xr((function e(t){Yr(this,e),this._methodName=t})),tC=function(){function e(t,n){if(Yr(this,e),!isFinite(t)||t<-90||t>90)throw new Fy(My.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fy(My.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Xr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Xy(this._lat,e._lat)||Xy(this._long,e._long)}}]),e}(),nC=/^__.*__$/,rC=function(){function e(t,n,r){Yr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Xr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new pb(e,this.data,this.fieldMask,t,this.fieldTransforms):new db(e,this.data,t,this.fieldTransforms)}}]),e}(),iC=function(){function e(t,n,r){Yr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Xr(e,[{key:"toMutation",value:function(e,t){return new pb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function aC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Py()}}var oC=function(){function e(t,n,r,i,a,o){Yr(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Xr(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return TC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(aC(this.Xa)&&nC.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),uC=function(){function e(t,n,r){Yr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||DI(t)}return Xr(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oC({Xa:e,methodName:t,uc:n,path:ug.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function sC(e){var t=e._freezeSettings(),n=DI(e._databaseId);return new uC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);_C("Data must be an object, but it was:",o,r);var u,s,c=bC(r,o);if(a.merge)u=new sg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$r(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=xC(t,d,n);if(!o.contains(p))throw new Fy(My.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));SC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new sg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new rC(new Wg(c),u,s)}var lC=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eC);function fC(e,t,n){return new oC({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var hC=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"_toFieldTransform",value:function(e){return new rb(e.path,new Qk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eC),dC=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e)).cc=r,i}return Xr(n,[{key:"_toFieldTransform",value:function(e){var t=fC(this,e,!0),n=this.cc.map((function(e){return kC(e,t)})),r=new Xk(n);return new rb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eC),pC=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e)).cc=r,i}return Xr(n,[{key:"_toFieldTransform",value:function(e){var t=fC(this,e,!0),n=this.cc.map((function(e){return kC(e,t)})),r=new Jk(n);return new rb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eC),vC=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e)).hc=r,i}return Xr(n,[{key:"_toFieldTransform",value:function(e){var t=new eb(e.M,Wk(e.M,this.hc));return new rb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eC);function mC(e,t,n,r){var i=e.ac(1,t,n);_C("Data must be an object, but it was:",i,r);var a=[],o=Wg.empty();ng(r,(function(e,r){var u=EC(t,e,n);r=Li(r);var s=i.sc(u);if(r instanceof lC)a.push(u);else{var c=kC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new sg(a);return new iC(o,u,i.fieldTransforms)}function yC(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[xC(t,r,n)],s=[i];if(a.length%2!=0)throw new Fy(My.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(xC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Wg.empty(),h=u.length-1;h>=0;--h)if(!SC(l,u[h])){var d=u[h],p=s[h];p=Li(p);var v=o.sc(d);if(p instanceof lC)l.push(d);else{var m=kC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new sg(l);return new iC(f,y,o.fieldTransforms)}function gC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kC(n,e.ac(r?4:3,t))}function kC(e,t){if(wC(e=Li(e)))return _C("Unsupported field value:",t,e),bC(e,t);if(e instanceof eC)return function(e,t){if(!aC(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$r(e);try{for(a.s();!(n=a.n()).done;){var o=kC(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wk(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zy.fromDate(e);return{timestampValue:ew(t.M,n)}}if(e instanceof Zy){var r=new Zy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ew(t.M,r)}}if(e instanceof tC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZS)return{bytesValue:tw(t.M,e._byteString)};if(e instanceof PS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(SS(e)))}(e,t)}function bC(e,t){var n={};return rg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ng(e,(function(e,r){var i=kC(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zy||e instanceof tC||e instanceof ZS||e instanceof PS||e instanceof eC)}function _C(e,t,n){if(!wC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=SS(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function xC(e,t,n){if((t=Li(t))instanceof JS)return t._internalPath;if("string"==typeof t)return EC(e,t);throw TC("Field path arguments must be of type string or ",e,!1,void 0,n)}var IC=new RegExp("[~\\*/\\[\\]]");function EC(e,t,n){if(t.search(IC)>=0)throw TC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return oi(JS,zi(t.split(".")))._internalPath}catch(r){throw TC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Fy(My.INVALID_ARGUMENT,u+e+s)}function SC(e,t){return e.some((function(e){return e.isEqual(t)}))}var CC=function(){function e(t,n,r,i,a){Yr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Xr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new PS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new AC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),AC=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"data",value:function(){return Ja(ti(n.prototype),"data",this).call(this)}}]),n}(CC);function NC(e,t){return"string"==typeof t?EC(e,t):t instanceof JS?t._internalPath:t._delegate._internalPath}var OC=function(){function e(t,n){Yr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Xr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),RC=function(e){ei(n,e);var t=ai(n);function n(e,r,i,a,o,u){var s;return Yr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Xr(n,[{key:"exists",value:function(){return Ja(ti(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new PC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(CC),PC=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ja(ti(n.prototype),"data",this).call(this,e)}}]),n}(RC),DC=function(){function e(t,n,r,i){Yr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new OC(i.hasPendingWrites,i.fromCache),this.query=r}return Xr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new PC(n._firestore,n._userDataWriter,r.key,r,new OC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fy(My.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new PC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new PC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new OC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Py()}}function MC(e,t){return e instanceof RC&&t instanceof RC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof DC&&t instanceof DC&&e._firestore===t._firestore&&VS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function FC(e){if(Ck(e)&&0===e.explicitOrderBy.length)throw new Fy(My.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UC=Xr((function e(){Yr(this,e)}));function VC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var jC=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return Xr(n,[{key:"_apply",value:function(e){var t=sC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fy(My.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$C(o,a);var s,c=[],l=$r(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(XC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=XC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$C(o,a),u=gC(n,"where",o,"in"===a||"not-in"===a);var h=lk.create(i,a,u);return function(e,t){if(t.S()){var n=Nk(e);if(null!==n&&!n.isEqual(t.field))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ak(e);null!==r&&JC(e,t.field,r)}var i=function(e,t){var n,r=$r(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fy(My.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fy(My.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new DS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ik(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(UC);var BC=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return Xr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fy(My.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fy(My.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bk(t,n);return function(e,t){if(null===Ak(e)){var n=Nk(e);null!==n&&JC(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new DS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ik(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(UC);var zC=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return Xr(n,[{key:"_apply",value:function(e){return new DS(e.firestore,e.converter,Dk(e._query,this.wc,this.mc))}}]),n}(UC);var qC=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Xr(n,[{key:"_apply",value:function(e){var t=QC(e,this.type,this.gc,this.yc);return new DS(e.firestore,e.converter,function(e,t){return new Ik(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(UC);function WC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qC("startAt",t,!0)}function HC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qC("startAfter",t,!1)}var KC=function(e){ei(n,e);var t=ai(n);function n(e,r,i){var a;return Yr(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return Xr(n,[{key:"_apply",value:function(e){var t=QC(e,this.type,this.gc,this.yc);return new DS(e.firestore,e.converter,function(e,t){return new Ik(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(UC);function GC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KC("endBefore",t,!1)}function YC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KC("endAt",t,!0)}function QC(e,t,n,r){if(n[0]=Li(n[0]),n[0]instanceof CC)return function(e,t,n,r,i){if(!r)throw new Fy(My.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$r(Rk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Rg(t,r.key));else{var c=r.data.field(s.field);if(pg(c))throw new Fy(My.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Fy(My.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new kk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fy(My.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Fy(My.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ok(e)&&-1!==c.indexOf("/"))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ag.fromString(c));if(!_g.isDocumentKey(l))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _g(l);u.push(Rg(t,f))}else{var h=gC(n,r,c);u.push(h)}}return new kk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function XC(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ok(t)&&-1!==n.indexOf("/"))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ag.fromString(n));if(!_g.isDocumentKey(r))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rg(e,new _g(r))}if(n instanceof PS)return Rg(e,n._key);throw new Fy(My.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(SS(n),"."))}function $C(e,t){if(!Array.isArray(e)||0===e.length)throw new Fy(My.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fy(My.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function JC(e,t,n){if(!n.isEqual(t))throw new Fy(My.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZC=function(){function e(){Yr(this,e)}return Xr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Eg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Py()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ng(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new tC(hg(e.latitude),hg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fg(e);return new Zy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ag.fromString(e);Dy(Cw(n));var r=new gg(n.get(1),n.get(3)),i=new _g(n.popFirst(5));return r.isEqual(t)||Ny("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tA=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).firestore=e,r}return Xr(n,[{key:"convertBytes",value:function(e){return new ZS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PS(this.firestore,null,t)}}]),n}(ZC),nA=function(){function e(t,n){Yr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sC(t)}return Xr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=rA(e,this._firestore),i=eA(r.converter,t,n),a=cC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ab.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=rA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof JS?yC(this._dataReader,"WriteBatch.update",i._key,t,n,o):mC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ab.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=rA(e,this._firestore);return this._mutations=this._mutations.concat(new bb(t._key,ab.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fy(My.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function rA(e,t){if((e=Li(e)).firestore!==t)throw new Fy(My.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var iA=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).firestore=e,r}return Xr(n,[{key:"convertBytes",value:function(e){return new ZS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PS(this.firestore,null,t)}}]),n}(ZC);function aA(e){e=CS(e,PS);var t=CS(e.firestore,qS),n=WS(t),r=new iA(t);return function(e,t){var n=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function r(){return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lr(zr().mark((function e(t,n,r){var i,a;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ly(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fy(My.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=NE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new RC(t,r,e._key,n,new OC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function oA(e){e=CS(e,DS);var t=CS(e.firestore,qS),n=WS(t),r=new iA(t);return function(e,t){var n=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function r(){return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Lr(zr().mark((function e(t,n,r){var i,a,o,u,s;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jx(t,n,!0);case 3:i=e.sent,a=new XE(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=NE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new DC(t,r,e,n)}))}function uA(e,t,n){e=CS(e,PS);var r=CS(e.firestore,qS),i=eA(e.converter,t,n);return fA(r,[cC(sC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ab.none())])}function sA(e,t,n){e=CS(e,PS);for(var r=CS(e.firestore,qS),i=sC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return fA(r,[("string"==typeof(t=Li(t))||t instanceof JS?yC(i,"updateDoc",e._key,t,n,o):mC(i,"updateDoc",e._key,t)).toMutation(e._key,ab.exists(!0))])}function cA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Li(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof PS)l=CS(e.firestore,qS),f=Tk(e._key.path),c={next:function(t){n[s]&&n[s](hA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CS(e,DS);l=CS(p.firestore,qS),f=p._query;var v=new iA(l);c={next:function(e){n[s]&&n[s](new DC(l,v,p,e))},error:n[s+1],complete:n[s+2]},FC(e._query)}return function(e,t,n,r){var i=new tS(r),a=new qE(t,i,n);return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ME,t.next=3,gS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UE,t.next=3,gS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WS(l),f,h,c)}function lA(e,t){return function(e,t){var n=new tS(t);return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ly(e).Eu.add(t),t.next()},t.next=3,gS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(Lr(zr().mark((function t(){return zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ly(e).Eu.delete(t)},t.next=3,gS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WS(e=CS(e,qS)),BS(t)?t:{next:t})}function fA(e,t){return function(e,t){var n=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function r(){return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oT,r.next=3,yS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(WS(e),t)}function hA(e,t,n){var r=n.docs.get(t._key),i=new iA(e);return new RC(e,i,t._key,r,new OC(n.hasPendingWrites,n.fromCache),t.converter)}var dA=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Xr(n,[{key:"get",value:function(e){var t=this,r=rA(e,this._firestore),i=new iA(this._firestore);return Ja(ti(n.prototype),"get",this).call(this,e).then((function(e){return new RC(t._firestore,i,r._key,e._document,new OC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Yr(this,e),this._firestore=t,this._transaction=n,this._dataReader=sC(t)}return Xr(e,[{key:"get",value:function(e){var t=this,n=rA(e,this._firestore),r=new tA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Py();var i=e[0];if(i.isFoundDocument())return new CC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new CC(t._firestore,r,n._key,null,n.converter);throw Py()}))}},{key:"set",value:function(e,t,n){var r=rA(e,this._firestore),i=eA(r.converter,t,n),a=cC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=rA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof JS?yC(this._dataReader,"Transaction.update",i._key,t,n,o):mC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=rA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function pA(e,t){return function(e,t){var n=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function r(){var i;return zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return hS(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new iS(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(WS(e=CS(e,qS)),(function(n){return t(new dA(e,n))}))}function vA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dC("arrayUnion",t)}function mA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ty=e}(ba),da(new qi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new qS(i,new zy(e.getProvider("auth-internal")),new Ky(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ta(Iy,"3.4.8",e),Ta(Iy,"3.4.8","esm2017")}();function yA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function gA(){if("undefined"===typeof Uint8Array)throw new Fy("unimplemented","Uint8Arrays are not available in this environment.")}function kA(){if("undefined"==typeof atob)throw new Fy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var bA=function(){function e(t){Yr(this,e),this._delegate=t}return Xr(e,[{key:"toBase64",value:function(){return kA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return gA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return kA(),new e(ZS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return gA(),new e(ZS.fromUint8Array(t))}}]),e}();function wA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$r(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _A=function(){function e(){Yr(this,e)}return Xr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$S(e=CS(e,qS));var n=WS(e),r=e._freezeSettings(),i=new ZT;return KS(n,i,new $T(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$S(e=CS(e,qS));var t=WS(e),n=e._freezeSettings(),r=new ZT;return KS(t,r,new JT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fy(My.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Uy;return e._queue.enqueueAndForgetEvenWhileRestricted(Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a_.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,a_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Mx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),xA=function(){function e(t,n,r){var i=this;Yr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gg||(this._appCompat=t)}return Xr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Oy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};RS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return GS(this._delegate)}},{key:"disableNetwork",value:function(){return YS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&IS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Uy;return e.asyncQueue.enqueueAndForget(Lr(zr().mark((function n(){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yT,n.next=3,yS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(WS(e=CS(e,qS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return lA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new FA(this,MS(this._delegate,e))}catch(NO){throw AA(NO,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new CA(this,FS(this._delegate,e))}catch(NO){throw AA(NO,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new DA(this,function(e,t){if(e=CS(e,OS),xS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fy(My.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new DS(e,null,function(e){return new Ik(ag.emptyPath(),e)}(t))}(this._delegate,e))}catch(NO){throw AA(NO,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return pA(this._delegate,(function(n){return e(new EA(t,n))}))}},{key:"batch",value:function(){var e=this;return WS(this._delegate),new TA(new nA(this._delegate,(function(t){return fA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return QS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return XS(this._delegate,e).then((function(e){return e?new DA(t,e):null}))}}]),e}(),IA=function(e){ei(n,e);var t=ai(n);function n(e){var r;return Yr(this,n),(r=t.call(this)).firestore=e,r}return Xr(n,[{key:"convertBytes",value:function(e){return new bA(new ZS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return CA.forKey(t,this.firestore,null)}}]),n}(ZC);var EA=function(){function e(t,n){Yr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IA(t)}return Xr(e,[{key:"get",value:function(e){var t=this,n=UA(e);return this._delegate.get(n).then((function(e){return new RA(t._firestore,new RC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=UA(e);return n?(yA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=UA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=UA(e);return this._delegate.delete(t),this}}]),e}(),TA=function(){function e(t){Yr(this,e),this._delegate=t}return Xr(e,[{key:"set",value:function(e,t,n){var r=UA(e);return n?(yA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=UA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=UA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),SA=function(){function e(t,n,r){Yr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Xr(e,[{key:"fromFirestore",value:function(e,t){var n=new PC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new PA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IA(t),n),i.set(n,a)),a}}]),e}();SA.INSTANCES=new WeakMap;var CA=function(){function e(t,n){Yr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IA(t)}return Xr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new FA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new FA(this.firestore,MS(this._delegate,e))}catch(NO){throw AA(NO,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Li(e))instanceof PS&&US(this._delegate,e)}},{key:"set",value:function(e,t){t=yA("DocumentReference.set",t);try{return t?uA(this._delegate,e,t):uA(this._delegate,e)}catch(NO){throw AA(NO,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sA(this._delegate,e):sA.apply(void 0,[this._delegate,e,t].concat(r))}catch(NO){throw AA(NO,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return fA(CS(e.firestore,qS),[new bb(e._key,ab.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NA(n),a=OA(n,(function(t){return new RA(e.firestore,new RC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return cA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CS(e,PS);var t=CS(e.firestore,qS);return bS(WS(t),e._key,{source:"server"}).then((function(n){return hA(t,e,n)}))}(this._delegate):function(e){e=CS(e,PS);var t=CS(e.firestore,qS);return bS(WS(t),e._key).then((function(n){return hA(t,e,n)}))}(this._delegate),t.then((function(e){return new RA(n.firestore,new RC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(SA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new PS(n._delegate,r,new _g(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new PS(n._delegate,r,t))}}]),e}();function AA(e,t,n){return e.message=e.message.replace(t,n),e}function NA(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!wA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function OA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=wA(e[0])?e[0]:wA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var RA=function(){function e(t,n){Yr(this,e),this._firestore=t,this._delegate=n}return Xr(e,[{key:"ref",get:function(){return new CA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return MC(this._delegate,e._delegate)}}]),e}(),PA=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Py()}(void 0!==t),t}}]),n}(RA),DA=function(){function e(t,n){Yr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IA(t)}return Xr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,VC(this._delegate,function(e,t,n){var r=t,i=NC("where",e);return new jC(i,r,n)}(t,n,r)))}catch(NO){throw AA(NO,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,VC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NC("orderBy",e);return new BC(n,t)}(t,n)))}catch(NO){throw AA(NO,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,VC(this._delegate,function(e){return AS("limit",e),new zC("limit",e,"F")}(t)))}catch(NO){throw AA(NO,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,VC(this._delegate,function(e){return AS("limitToLast",e),new zC("limitToLast",e,"L")}(t)))}catch(NO){throw AA(NO,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,VC(this._delegate,WC.apply(void 0,arguments)))}catch(NO){throw AA(NO,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,VC(this._delegate,HC.apply(void 0,arguments)))}catch(NO){throw AA(NO,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,VC(this._delegate,GC.apply(void 0,arguments)))}catch(NO){throw AA(NO,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,VC(this._delegate,YC.apply(void 0,arguments)))}catch(NO){throw AA(NO,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CS(e,DS);var t=CS(e.firestore,qS),n=WS(t),r=new iA(t);return wS(n,e._query,{source:"server"}).then((function(n){return new DC(t,r,e,n)}))}(this._delegate):function(e){e=CS(e,DS);var t=CS(e.firestore,qS),n=WS(t),r=new iA(t);return FC(e._query),wS(n,e._query).then((function(n){return new DC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new MA(n.firestore,new DC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NA(n),a=OA(n,(function(t){return new MA(e.firestore,new DC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return cA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(SA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),LA=function(){function e(t,n){Yr(this,e),this._firestore=t,this._delegate=n}return Xr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new PA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),MA=function(){function e(t,n){Yr(this,e),this._firestore=t,this._delegate=n}return Xr(e,[{key:"query",get:function(){return new DA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new PA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new LA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new PA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return MC(this._delegate,e._delegate)}}]),e}(),FA=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Xr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new CA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new CA(this.firestore,void 0===e?FS(this._delegate):FS(this._delegate,e))}catch(NO){throw AA(NO,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CS(e.firestore,qS),r=FS(e),i=eA(e.converter,t);return fA(n,[cC(sC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ab.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new CA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return US(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(SA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(DA);function UA(e){return CS(e,PS)}var VA=function(){function e(){Yr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=oi(JS,n)}return Xr(e,[{key:"isEqual",value:function(e){return(e=Li(e))instanceof JS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ug.keyField().canonicalString())}}]),e}(),jA=function(){function e(t){Yr(this,e),this._delegate=t}return Xr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new lC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=vA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=mA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new vC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),BA={Firestore:xA,GeoPoint:tC,Timestamp:Zy,Blob:bA,Transaction:EA,WriteBatch:TA,DocumentReference:CA,DocumentSnapshot:RA,Query:DA,QueryDocumentSnapshot:PA,QuerySnapshot:MA,CollectionReference:FA,FieldPath:VA,FieldValue:jA,setLogLevel:function(e){!function(e){Sy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new qi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},BA)))}(e,(function(e,t){return new xA(e,t,new _A)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(Xa);var zA="firebasestorage.googleapis.com",qA=function(e){ei(n,e);var t=ai(n);function n(e,r){var i;return Yr(this,n),(i=t.call(this,WA(e),"Firebase Storage: ".concat(r," (").concat(WA(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Jr(i),n.prototype),i}return Xr(n,[{key:"_codeEquals",value:function(e){return WA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(_i);function WA(e){return"storage/"+e}function HA(){return new qA("unknown","An unknown error occurred, please check the error payload for server response.")}function KA(){return new qA("canceled","User canceled the upload/download.")}function GA(){return new qA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function YA(e){return new qA("invalid-argument",e)}function QA(){return new qA("app-deleted","The Firebase app was deleted.")}function XA(e){return new qA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $A(e,t){return new qA("invalid-format","String does not match format '"+e+"': "+t)}function JA(e){throw new qA("internal-error","Internal error: "+e)}var ZA,eN=function(){function e(t,n){Yr(this,e),this.bucket=t,this.path_=n}return Xr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(NO){return new e(t,"")}if(""===r.path)return r;throw new qA("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===zA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new qA("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),tN=function(){function e(t){Yr(this,e),this.promise_=Promise.reject(t)}return Xr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function nN(e){return"string"===typeof e||e instanceof String}function rN(e){return iN()&&e instanceof Blob}function iN(){return"undefined"!==typeof Blob}function aN(e,t,n,r){if(r<t)throw YA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw YA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function oN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function uN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ZA||(ZA={}));var sN=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;Yr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Xr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(NO){i(NO)}else if(null!==a){var u=HA();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?QA():KA());else i(new qA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new cN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new cN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ZA.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new cN(o,r))}else{var u=r.getErrorCode()===ZA.ABORT;t(!1,new cN(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),cN=Xr((function e(t,n,r){Yr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function lN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fN(){for(var e=lN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(iN())return new Blob(n);throw new qA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var hN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dN=Xr((function e(t,n){Yr(this,e),this.data=t,this.contentType=n||null}));function pN(e,t){switch(e){case hN.RAW:return new dN(vN(t));case hN.BASE64:case hN.BASE64URL:return new dN(mN(e,t));case hN.DATA_URL:return new dN(function(e){var t=new yN(e);return t.base64?mN(hN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(NO){throw $A(hN.DATA_URL,"Malformed data URL.")}return vN(t)}(t.rest)}(t),new yN(t).contentType)}throw HA()}function vN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mN(e,t){switch(e){case hN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw $A(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case hN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw $A(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(NO){throw $A(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var yN=Xr((function e(t){Yr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw $A(hN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var gN=function(){function e(t,n){Yr(this,e);var r=0,i="";rN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Xr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(rN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(iN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(fN.apply(null,i))}var a=n.map((function(e){return nN(e)?pN(hN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function kN(e){var t;try{t=JSON.parse(e)}catch(NO){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function bN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wN(e,t){return t}var _N=Xr((function e(t,n,r,i){Yr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||wN})),xN=null;function IN(){if(xN)return xN;var e=[];e.push(new _N("bucket")),e.push(new _N("generation")),e.push(new _N("metageneration")),e.push(new _N("name","fullPath",!0));var t=new _N("name");t.xform=function(e,t){return function(e){return!nN(e)||e.length<2?e:bN(e)}(t)},e.push(t);var n=new _N("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new _N("timeCreated")),e.push(new _N("updated")),e.push(new _N("md5Hash",null,!0)),e.push(new _N("cacheControl",null,!0)),e.push(new _N("contentDisposition",null,!0)),e.push(new _N("contentEncoding",null,!0)),e.push(new _N("contentLanguage",null,!0)),e.push(new _N("contentType",null,!0)),e.push(new _N("metadata","customMetadata",!0)),xN=e}function EN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new eN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function TN(e,t,n){var r=kN(t);return null===r?null:EN(e,r,n)}function SN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function CN(e,t,n){var r=kN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=$r(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new eN(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=$r(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new eN(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var AN=Xr((function e(t,n,r,i){Yr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function NN(e){if(!e)throw HA()}function ON(e,t){return function(n,r){var i=TN(e,r,t);return NN(null!==i),i}}function RN(e,t){return function(n,r){var i=TN(e,r,t);return NN(null!==i),function(e,t,n,r){var i=kN(t);if(null===i)return null;if(!nN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return oN("/b/"+o(i)+"/o/"+o(a),n,r)+uN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function PN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new qA("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qA("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function DN(e){var t=PN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new qA("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function LN(e,t,n){var r=oN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new AN(r,"GET",ON(e,n),i);return a.errorHandler=DN(t),a}function MN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=oN(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new AN(o,"GET",function(e,t){return function(n,r){var i=CN(e,t,r);return NN(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=PN(t),s}function FN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function UN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=FN(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+SN(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=gN.getBlob(c,r,l);if(null===f)throw GA();var h={name:s.fullPath},d=oN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new AN(d,"POST",ON(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=PN(t),v}var VN=Xr((function e(t,n,r,i){Yr(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function jN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(NO){NN(!1)}return NN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var BN=262144;function zN(e,t,n,r,i,a,o,u){var s=new VN(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new qA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw GA();var v=t.maxUploadRetryTime,m=new AN(n,"POST",(function(e,n){var i,o=jN(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?ON(t,a)(e,n):null,new VN(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=PN(e),m}var qN={STATE_CHANGED:"state_changed"},WN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HN(e){switch(e){case"running":case"pausing":case"canceling":return WN.RUNNING;case"paused":return WN.PAUSED;case"success":return WN.SUCCESS;case"canceled":return WN.CANCELED;default:return WN.ERROR}}var KN=Xr((function e(t,n,r){Yr(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function GN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var YN=function(){function e(){var t=this;Yr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ZA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=ZA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=ZA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Xr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw JA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw JA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw JA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(NO){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw JA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw JA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),QN=function(e){ei(n,e);var t=ai(n);function n(){return Yr(this,n),t.apply(this,arguments)}return Xr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(YN);function XN(){return new QN}var $N=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Yr(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=IN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Xr(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=jr(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=FN(t,r,i),u={name:o.fullPath},s=oN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=SN(o,n),f=e.maxUploadRetryTime,h=new AN(s,"POST",(function(e){var t;jN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(NO){NN(!1)}return NN(nN(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=PN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,XN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new AN(n,"POST",(function(e){var t=jN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(NO){NN(!1)}n||NN(!1);var i=Number(n);return NN(!isNaN(i)),new VN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=PN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,XN,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=BN*this._chunkMultiplier,n=new VN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=zN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(NO){return e._error=NO,void e._transition("error")}var u=e._ref.storage._makeRequest(o,XN,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){BN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=LN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,XN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=UN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,XN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=KA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=HN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new KN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(HN(this._state)){case WN.SUCCESS:GN(this._resolve.bind(null,this.snapshot))();break;case WN.CANCELED:case WN.ERROR:GN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(HN(this._state)){case WN.RUNNING:case WN.PAUSED:e.next&&GN(e.next.bind(e,this.snapshot))();break;case WN.SUCCESS:e.complete&&GN(e.complete.bind(e))();break;default:e.error&&GN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),JN=function(){function e(t,n){Yr(this,e),this._service=t,this._location=n instanceof eN?n:eN.makeFromUrl(n,t.host)}return Xr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new eN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return bN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new eN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw XA(e)}}]),e}();function ZN(e,t,n){return eO.apply(this,arguments)}function eO(){return(eO=Lr(zr().mark((function e(t,n,r){var i,a,o,u;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,tO(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,zi(u.prefixes)),(a=n.items).push.apply(a,zi(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,ZN(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tO(e,t){null!=t&&"number"===typeof t.maxResults&&aN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=MN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,XN)}function nO(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=oN(t.fullServerUrl(),e.host,e._protocol),a=SN(n,r),o=e.maxOperationRetryTime,u=new AN(i,"PATCH",ON(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=DN(t),u}(e.storage,e._location,t,IN());return e.storage.makeRequestWithTokens(n,XN)}function rO(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=oN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new AN(r,"GET",RN(e,n),i);return a.errorHandler=DN(t),a}(e.storage,e._location,IN());return e.storage.makeRequestWithTokens(t,XN).then((function(e){if(null===e)throw new qA("no-download-url","The given file does not have any download URLs.");return e}))}function iO(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=oN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new AN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=DN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,XN)}function aO(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new eN(e._location.bucket,n);return new JN(e.storage,r)}function oO(e,t){if(e instanceof lO){var n=e;if(null==n._bucket)throw new qA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new JN(n,n._bucket);return null!=t?oO(r,t):r}return void 0!==t?aO(e,t):e}function uO(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lO)return new JN(e,t);throw YA("To use ref(service, url), the first argument must be a Storage instance.")}return oO(e,t)}function sO(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:eN.makeFromBucketSpec(n,e)}function cO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:pi(i,e.app.options.projectId))}var lO=function(){function e(t,n,r,i,a){Yr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=zA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?eN.makeFromBucketSpec(i,this._host):sO(this._host,this.app.options)}return Xr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=eN.makeFromBucketSpec(this._url,e):this._bucket=sO(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){aN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){aN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Lr(zr().mark((function e(){var t,n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Lr(zr().mark((function e(){var t,n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new JN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new tN(QA());var a=function(e,t,n,r,i,a){var o=uN(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new sN(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Lr(zr().mark((function e(t,n){var r,i,a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=jr(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),fO="@firebase/storage",hO="0.9.5",dO="storage";function pO(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new $N(e,new gN(t),n)}(e=Li(e),t,n)}function vO(e){return function(e){e._throwIfRoot("getMetadata");var t=LN(e.storage,e._location,IN());return e.storage.makeRequestWithTokens(t,XN)}(e=Li(e))}function mO(e){return function(e){var t={prefixes:[],items:[]};return ZN(e,t).then((function(){return t}))}(e=Li(e))}function yO(e,t){return uO(e=Li(e),t)}function gO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};cO(e,t,n,r)}function kO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new lO(r,i,a,n,ba)}da(new qi(dO,kO,"PUBLIC").setMultipleInstances(!0)),Ta(fO,hO,""),Ta(fO,hO,"esm2017");var bO=function(){function e(t,n,r){Yr(this,e),this._delegate=t,this.task=n,this.ref=r}return Xr(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),wO=function(){function e(t,n){Yr(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Xr(e,[{key:"snapshot",get:function(){return new bO(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new bO(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new bO(e,i,i._ref))}:{next:t.next?function(e){return t.next(new bO(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),_O=function(){function e(t,n){Yr(this,e),this._delegate=t,this._service=n}return Xr(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new xO(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new xO(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),xO=function(){function e(t,n){Yr(this,e),this._delegate=t,this.storage=n}return Xr(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return aO(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new wO(pO(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hN.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=pN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new wO(new $N(this._delegate,new gN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return mO(this._delegate).then((function(t){return new _O(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return tO(e=Li(e),t)}(this._delegate,e||void 0).then((function(e){return new _O(e,t.storage)}))}},{key:"getMetadata",value:function(){return vO(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return nO(e=Li(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return rO(Li(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),iO(Li(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw XA(e)}}]),e}(),IO=function(){function e(t,n){Yr(this,e),this.app=t,this._delegate=n}return Xr(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(EO(e))throw YA("ref() expected a child path but got a URL, use refFromURL instead.");return new xO(yO(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!EO(e))throw YA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{eN.makeFromUrl(e,this._delegate.host)}catch(NO){throw YA("refFromUrl() expected a valid full URL but got an invalid one.")}return new xO(yO(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gO(this._delegate,e,t,n)}}]),e}();function EO(e){return/^[A-Za-z]+:\/\//.test(e)}function TO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new IO(r,i)}!function(e){var t={TaskState:WN,TaskEvent:qN,StringFormat:hN,Storage:IO,Reference:xO};e.INTERNAL.registerComponent(new qi("storage-compat",TO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.13")}(Xa);Xa.initializeApp({apiKey:"AIzaSyAKAuB8pRPNXkGyk_DP39vOB-xUr_TudO8",authDomain:"suresai.firebaseapp.com",projectId:"suresai",storageBucket:"suresai.appspot.com",messagingSenderId:"841579976227",appId:"1:841579976227:web:7c5428ac130a9ab1724396"});var SO=Xa.storage();function CO(){var e=jr((0,t.useState)(null),2),n=e[0],r=e[1],i=jr((0,t.useState)(""),2),a=i[0],o=i[1],s=function(){var e=Lr(zr().mark((function e(t){var n;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],r(n),SO.ref("images/bicubic_image").put(n).on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){SO.ref("images").child("bicubic_image").getDownloadURL().then((function(e){o(e),console.log(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"section ".concat(n?"big-section":"small-section"," shaded-section ").concat(qr),children:[(0,u.jsx)("h1",{children:"Start Enhancing"}),(0,u.jsx)("input",{type:"file",id:Wr,onChange:s}),(0,u.jsx)("label",{htmlFor:Wr,children:"Upload Bicubic Image"}),a&&(0,u.jsxs)("div",{className:Hr,children:[(0,u.jsx)("div",{className:Kr,children:(0,u.jsx)("img",{src:a,alt:"bicubic"})}),(0,u.jsx)("p",{children:a})]})]})}var AO=function(){return(0,u.jsxs)(br,{children:[(0,u.jsx)(s,{}),(0,u.jsx)(On,{}),(0,u.jsx)(Dn,{}),(0,u.jsx)(Ir,{}),(0,u.jsx)(Cr,{}),(0,u.jsx)(Pr,{}),(0,u.jsx)(CO,{})]})};r.render((0,u.jsx)(AO,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.b7e4e295.js.map